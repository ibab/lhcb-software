!-----------------------------------------------------------------------------
! Package     : Phys/FlavourTagging
! Responsible : Marco Musy (marco.musy@cern.ch) ---> Marc Grabalosa (2011-2012), 
!                                               ---> Miriam Calvo   (2012-2013), 
!                                               ---> Stefania Vecchi(2013--now),
!                                               ---> Julian Wishahi (2015--now)
! Purpose     : Provide tools and algorithm for tagging B
!-----------------------------------------------------------------------------

!====================== FlavourTagging v14r1 2015-10-16 ======================

! 2015-08-30 - Gerhard Raven
 - replace endreq with endmsg

! 2015-08-17 - Julian Wishahi
- All private LoKi fitter instances have been exchanged with their respective
  PUBLIC instances.

! 2015-08-12 - Gerhard Raven
 - remove #include of obsolete Gaudi headers

!====================== FlavourTagging v14r0 2015-07-23 ======================

! 2015-07-10 - Julian Wishahi
 - Changed the names of the getters in ITaggerUtils to ensure backward 
   compatibility.

! 2015-06-27 - Julian Wishahi
 - ITaggerUtils and TaggerUtils: added PVReFitter, LifetimeFitter, 
   DistanceCalculator, VertexFit, ParticleDescendants tools as members. These 
   can be chosen through Tunings.py
 - Changed TaggerXYZTools to get their fitters from TaggerUtils.
 - Added a new Stripping23 tuning that uses the LoKi fitters.
 - Added the old fitter choice to the Stripping21 and Reco14 tunings.
 - Changed the VertexFitter used in CharmTaggerLists.py to LoKi version.

!====================== FlavourTagging v13r13 2015-05-20 =====================

! 2015-05-13 - Jack Wimberley
 - Small charm tagger veto requested by reviewers.

! 2015-05-10 - Julian Wishahi
 - Enabled the OS Charm tagger in default tunings for Stripping21(_MC).

!====================== FlavourTagging v13r12 2015-04-22 =====================

! 2015-04-21 - Stefania Vecchi
 - new BDT tagger implementation based on D.Fazzini studies

!====================== FlavourTagging v13r11 2015-03-03 =====================

! 2015-02-26 - Jack Wimberley
 - Made Nnet tagger not a part of combination by default
 - This magically fixes many things

! 2015-01-23 - Eduardo Rodrigues
 - Another trivial fix to remove compilation warnings in a .C class file.

! 2015-01-22 - Jack Wimberley
 - Fixed inefficient usage of _ppFromName function

! 2015-01-22 - Eduardo Rodrigues
 - Trivial fixes to remove compilation warnings from various .C class files
   under src/TMVAClassification/mva_charmtagger_reco14/.

! 2015-01-22 - Vanya Belyaev
 - minor fix with LoKi.h

! 2015-01-21 - Vanya Belyaev
 -  cmt/requirements  Phys/LoKi  ->  Phys/LoKiPhys 
    src/TaggerCharmTool.cpp  use correct LoKi headers  
    src/TaggingUtils.cpp     use correct LoKi headers 

! 2015-01-19 - Eduardo Rodrigues
 - Added python/FlavourTagging/__init__.py to please CMake.

!========================= FlavourTagging v13r10 2014-12-15 ========================

! 2014-12-05 - Jack Wimberley
	- Fix Charm tagger memory issues with Histogram class replacement for TH1F
  - Added configurable option for whether or not PV refit fails should be skipped
	- Added hard-coded mode-by-mode calibration

! 2014-11-10 - Jack Wimberley
	- Fix charm reconstruction errors by skipping events where PV refit fails

!========================= FlavourTagging v13r9 2014-10-30 =========================

! 2014-10-20 - Stefania Vecchi
 - Disable OSCharm taggers by default. Add configuration names "Stripping21" and
   "Stripping21_MC" in Tunings.py to set all the properties accordingly

! 2014-10-13 - Jack Wimberley
 - Fix other compilation warnings due to two commits ago
 - Use Stefania's suggestion -- add printouts so that variables aren't unused

! 2014-10-10 - Chris Jones
 - Fix compilation failure due to the last commit ...

! 2014-10-07 - Jack Wimberley
 - New CharmTagger framework, w/ mistag estimated from BDTs instead of NN
 - Deleted obsolete CharmTagger BDT/NN algorithms
 - SKIP_TMVA_COMPILE flag in src/compileSettings.h

!========================= FlavourTagging v13r8 2014-09-30 =========================

! 2014-09-16 - Jack Wimberley
 - Deleted unused lines
 - Improved timing for other lines

! 2014-09-29 - Chris Jones
 - Downgrade "No particles found at ..." messages from warning to debug,
   to avoid uneccessary spamming in production.
 - Remove the 'if exists' check, which for Ranges never fails... 
   Just rely on the empty() test to cover bnoth missing and empty containers.

! 2014-09-25 - Stefania Vecchi
 - Add Wrappers for cut-based NNet taggers to limit the memory consumption
   code concerned: TaggerKaonOppositeTool.* TaggerMuonTool.* TaggerElectronTool.*
   TaggerVertexChargeTool.* TaggerKaonSameTool.* TaggerPionSameTool.* NNetMLP_Tool.*

! 2014-09-16 - Jack Wimberley
 - Added LambdaC modes (and other online selection changes) to CharmTaggerLists
 - Making a corresponding commit (with necessary changes to BTaggingAnalysis) to
   FlavourTaggingChecker
 - With these two commits, new modes are added to mytagging
 - A later commit will include the actual changes to TaggerCharmTool

!========================= FlavourTagging v13r7 2014-06-13 =========================

! 2014-06-12 - Stefania Vecchi
 - fix printouts

! 2014-06-11 - Stefania Vecchi
 - Updated Reco14 calibration for SSpion, nnetOSK and OS combination with nnetOSK.

! 2014-05-26 - Stefania Vecchi
 - Changed to DEBUG level some useful printouts in BDT Taggers
 - Add a flag to enable the CharmTagger in the OS combination (default=disabled)
 - Fix BDT taggers: dQ and CosTheta calculation
 - SSProtonBDT: Removed preselection cut in CosTheta 
                --> See presentations at FT meeting 8 and 15/05/2014
 
!========================= FlavourTagging v13r6 2014-04-02 =========================

! 2014-03-10 - Chris Jones
 - Fix some memory leaks from the previous commits, due to classifiers being
   created with new but never deleted.
 - Also improve the memory footprint of TaggerCharmTool by only creating 
   instances of MVAs when they are actually required...

! 2014-03-05 - Jack Wimberley
 - Add wrappers around BDT algorithms for OScharm, SSpion, SSproton taggers.
   These are based on NEWKaon... wrappers.
 - Moved src/mva_charmtagger_reco14 to TMVAClassication/mva_charmtagger_reco14

!========================= FlavourTagging v13r5 2014-02-20 =========================

! 2014-02-19 - Chris Jones
 - Add some additional protection for a possible NULL RecVert.
 - Disable compiler optimisation (i.e. use -O0) when compiling with clang.
   To work around an issue with excessive memory usage during compilation.

! 2014-02-16 - Chris Jones
 - Prevent various floating point exceptions (divide by zero etc.) found by
   enabling the FPEAuditor.

! 2014-01-25 - Chris Jones
 - Fix Clang 3.3 warnings (unused class data members).

! 2014-01-22 - Stefania Vecchi and Mirco Dorigo
 - Commit a new tagger: SSpion BDT (based on the work presented by Antonio F.
   at the PPTS 20/01/2014)
 - In BTaggingTool, set the new taggers enabled by Default
 - In CombineTaggersProbability: disable by default the combination with the SS_PionBDT 

! 2014-01-21 - Riccardo Cenci
 - In TaggerCharmTool: save also the Charm daughter particles in the list of tagging
   tracks

! 2014-01-15 - Marco Cattaneo
 - Remove support for VL

!========================= FlavourTagging v13r4 2013-12-18 =========================

! 2013-12-11 - Riccardo Cenci
 - Created directory FlavourTagging for public headers, added ITaggingUtils
 - Fixed cmt and cmake configuration 

! 2013-12-10 - Riccardo Cenci
 - Consolidated functions in TaggerUtils.cpp used also in FlavourTaggingChecker
   package.
 - cmake and cmt config updated

! 2013-12-10 - Stefania Vecchi
 - Fix a printout

! 2013-12-09 - Riccardo Cenci
 - TaggerCharmTool: lists purging done within the tagger class, charm lists created
                    automatically.
                    Charm lists configured during FlavourTagging configuration
                    (Configuration.py)

! 2013-12-08 - Stefania Vecchi
 - CombineTaggersProbability.cpp: set combination of OS taggers

! 2013-12-04 - Stefania Vecchi
 - Updated SSproton BDT and polynomial coefficients with the latest files by Antonio

! 2013-12-02 - Riccardo Cenci
 - TaggerCharmTool: switched from using weights.xml file for MVA's to C++ classes 

! 2013-12-02 - Marco Clemencic
 - Fixed CMake configuration.

! 2013-12-02 - Stefania Vecchi
 - Updated Tunings.py
 - Removed another unused include file that caused failure in the nightlies (??)
 - Fix debug printouts in TaggerCharmTool.cpp

! 2013-12-01 - Stefania Vecchi
 - Removed an unused include file that caused failure in the nightlies (??)

! 2013-11-30 - Stefania Vecchi
 - Set "Silent" option in the TMVA::Reader for OS_Charm tagger 
 - Add SSproton tagging TaggerProtonSame.cpp,h and updated several related files 
 - Updates in NNet OSK and SSK to save all the tagging particle candidates in the 
   vector of particles associated to the tagger

! 2013-11-29 - Riccardo Cenci
 - Add OS-Charm tagging and updates several related files

! 2013-11-27 - Katharina Kreplin
 - Updated Tunings.py for NNet OSK : 
    - Reco14_2012  --> data calibration
    - Reco14_MC12  --> MC calibration

! 2013-11-21 - Katharina Kreplin
 - NNet OSK changes: 
    - Reco 14 only
    - solved p0 calibration offset in Bs0 decays
    - new NN1 (trained on Bs0 MC), new NN2 (trained on B+ data)

!========================= FlavourTagging v13r3 2013-10-02 =========================

! 2013-09-20 - Stefania Vecchi
 - Add some code to run MC12 Reco14 with calibrated mistag
   affects: Tagger*Tool.*, NNet_MLP.* INNetTool.h
 - Added nnet weights for MC12: NeuralNet/weights/*__*MLPBNN.class.C
 - Added configuration in Tunings.py to run on MC12: Reco14_MC12 

! 2013-08-26 - Stefania Vecchi
 - Fix a wrong value in Tunings.py

!========================= FlavourTagging v13r2 2013-08-01 =========================

! 2013-08-01 - Stefania Vecchi
 - Updated calibration and tunings for Reco14 in NewKaonSame

! 2013-07-31 - Chris Jones
 - Fix another clang32 warning.

! 2013-07-25 - Chris Jones
 - Add a new python Configurable, to replace the job of
     importOptions("$FLAVOURTAGGINGROOT/options/BTaggingTool.py")
   which is to be depreciated. The above file still exists, but now prints
   a large depreciation warning, and then just imports the new Configurable.
   Should be removed at some point.

! 2013-07-24 - Stefania Vecchi
 - Added some useful printouts for debugging the code
 - Updated Tunings.py with settings for NEWKaonOpposite and NEWKaonSame tools
 - Updated Tunings.py to propagate the "personality" to all sub tools 
 - Updated Tunings.py to allow more flexible configuration
   (before one could only call a BTaggingTool instance) --> Manuel Schiller

! 2013-07-14 - Stefania Vecchi
 - Fix nightlies updating Tunings.py

! 2013-07-13 - Stefania Vecchi
 - Changed ITagger interface and the tagger methods: 
   std::vector<const Vertex*>& allVtx --> int nPV
 - Changed the info FlavourTaggingIndex-->FlavourTaggingIPPUs, FlavourTaggingTaggerID
 - updated Calibrations and cuts for NNetSSK Reco14 and Reco12

! 2013-07-12 - Chris Jones
 - Various minor CPU related improvements
  . Do not load RecHeader until really needed.
  . Avoid some string manipulations.
  . Use std::pow instead of pow
 - Use Error(...) intead of err() << ... for message suppressions.

! 2013-07-07 - Stefania Vecchi
 - Fix compilation warnings

! 2013-07-06 - Stefania Vecchi
 - Fix personality in TaggingUtils (and Tunings.py)

! 2013-07-05 - Stefania Vecchi
 - Replaced LastGlobal with FlavourTaggingIndex (updated in Event/Particle)
 - Some changes suggested by Marco C. to improve timing
 - Import NNet weights including C++ class instead of reading xml file
 - Dropped tagging category information
 - Set running of TaggerNEWKaonOppositeTool and TaggerNEWKaonSameTool by default
 - Added CombineWithNNetTagger property to make the combination with
   cut-based (default) or nnet taggers 

! 2013-07-01 - Katharina Kreplin
 - Tunings.py: ++ tool.BTaggingTool.addTool ( TaggerNEWKaonOppositeTool )

! 2013-06-26 - Katharina Kreplin
 - TaggerNEWKaonOppositeTool: - reco 12 final version
                              - reco 14 final version 

!========================= FlavourTagging v13r1 2013-06-24 =========================


! 2013-06-24 - Chris Jones
 - Make the TMVA::Reader silent in MyReader.h
 - Add some additional logic to make sure any added extra info is cleared after
   each particle is tagged.

! 2013-06-21 - Chris Jones
 - Fix some new -pedantic warnings from NNetTool_MLP

! 2013-06-21 - Georg Krocker
 - Added Bugfix for conditional probabilities in TaggerNEWKaonSameTool.cpp
 - Added possibility for TaggerNEWKaonSameTool.cpp to run on Reco14 using ghost
   probability
 - Changed order of calibration/tag decision so that first decision is made, then
   the calibration is performed (was wrong before)

! 2013-06-18 - Chris Jones
 - Fix a couple clang 3.2 warnings.
 - Remove empty finalize() method from BTaggingTool.

!========================= FlavourTagging v13r0 2013-06-13 =========================

! 2013-06-12 - Stefania Vecchi
 - Deleted part of the code in BTaggingTool.cpp that was never used and was 
   wrong: selected by UseVtxOnlyWithoutOS
 - Included new code for Reco14 (selected by personality="Reco14"). 
   Old code can still run selecting personality=Reco12
   Files involved: BTaggingTool, TaggerMuonTool, TaggerElectronTool, 
   TaggerKaonOppositeTool, SVertexOneSeedTool, TaggerVertexTool,NNetTool_MLP
 - BTaggingTool added property to select NNetKaonTools run time 
   (NEWKaonOpposite and NETKaonSame)
 - Configuration file python/FlavourTagging/Tunings.py updated 
   
! 2013-05-27 - Manuel Tobias Schiller
 - Add the changes in ITaggingUtils I forgot in my last commit

! 2013-05-26 - Manuel Tobias Schiller
 - Introduce MultiplePersonalityCall class - a templated class which allows
   callable objects of identical signature to be called; this class
   multiplexes calls to the different implementations ("personalities")
   registered by the caller
 - Change BTaggingTool and TaggingUtils to provide a personality property,
   changed functionality is implemented using the MultiplePersonalityCall
   class

! 2013-05-23 - Katharina Kreplin
 - Fixed one ambiguity in TaggerNEWKaonOppositeTool.cpp
   (number of tracks after PID preselection) and no asserts...
  + Needs changes to BTagingTool to restore old preselection before it runs 
    correctly, too! (stripping 17, reco 12)

! 2013-05-23 - Georg Krocker
 - Added new NN based SameSide Kaon Tagger. Needs changes to BTagingTool to
   restore old preselection before it runs correctly!

! 2013-05-15 - Stefania Vecchi
 - Restored the storage of IPPUs in info(LastGlobal+1) for FT internal use 
   (commented in v12r13 by Chris).
 - Updated final SSpi calibration constants for Reco12 D*munu analysis with 
   correct B+ fraction.

!========================= FlavourTagging v12r13 2013-05-07 =========================

! 2013-05-05 - Chris Jones
 - More CPU improvements, mostly by protecting debug and verbose printouts.

! 2013-05-03 - Chris Jones
 - Various improvements and bug fixes. 
  + Protect debug and verbose printout with if statements
  + Use continue instead of return;

!========================= FlavourTagging v12r12p1 2013-04-05 =========================

! 2013-02-26 - Chris Jones
 - Fix -pedantic compilation warnings + remove pointless implementations of
   initialize() or finalize()

!========================= FlavourTagging v12r12 2013-02-20 =========================

! 2013-02-01 - Katharina Kreplin
 - New NN OS kaon tagger added

! 2013-01-27 - Manuel Tobias Schiller
 - get rid of even more useless pow(..., integer) invocations...

! 2013-01-27 - Manuel Tobias Schiller
 - complete rewrite of the clone definition in the flavour tagging input based
   on my experience with tracking in LHCb; also, use a smarter algorithm to
   kill clones...
 - remove a couple of useless pow(..., 2) to square something (too slow
   anyhow)
 - rename dphi.h to TaggingHelpers.{cpp,h} to clean things up a little

! 2013-01-08 - Manuel Tobias Schiller
 - fix initialize()/finalize() methods to call the parent's implementation the
   way they're supposed to be called

! 2013-01-08 - Manuel Tobias Schiller
 - fix the calculation of the difference between two angles which was
   slightly incorrect in a few places by a new helper routine in src/dphi.h;
   make sure all code uses this new routine - flavour tagging performance
   should remain unchanged

!========================= FlavourTagging v12r11 2012-11-30 =========================

! 2012-11-29 - Stefania Vecchi
 - fix nightlies

! 2012-11-28 - Stefania Vecchi
 - code cleanup and prepare for new DaVinci release

! 2012-11-15 - Stefania Vecchi
 - fixed deprecated DVAlgorithm

! 2012-11-06 - Stefania Vecchi
 - fixed oddities in BTaggingTool.cpp and TaggingUtils.cpp

! 2012-11-05 - Stefania Vecchi
 - fixed compilation warnings

! 2012-10-28 - Stefania Vecchi
 - Changed in BTaggingTool.cpp to run always SSpion and SSKaon
 - Modified CombineTaggersProbability to run the combination only with one SS tagger
 - Fixed typo in Tuning.py for SSpi IPPU cut (6 instead of 3) 

! 2012-11-29 - Marco Clemencic
 - Added CMake configuration file.

!========================= FlavourTagging v12r10 2012-10-04 =========================

! 2012-08-03 - Stefania Vecchi
 - Updated FINAL SSpi calibration for Stripping 17

!========================= FlavourTagging v12r9p1 2012-07-09 =========================

! 2012-07-01 - Marc Grabalosa
 - Fix ProbMin vtx

!========================= FlavourTagging v12r9 2012-06-28 =========================

! 2012-06-22 - Chris Jones
 - Use getIDVAlgorithm instead of getDVAlgorithm.

! 2012-06-14 - Marco Clemencic
 - Fixed compilation problem on ICC.

! 2012-06-06 - Stefania Vecchi
 - OS and SSpi (temporary) and SSK calibration Strip17

!========================= FlavourTagging v12r8 2012-02-09 =========================

! 2012-02-07 - Chris Jones
 - Remove imports of GaudiConf

! 2012-01-30 - Stefania Vecchi
 - Fix in BTaggingTool*.cxx: protection against null PV found in bestPV

! 2012-01-12 - Stefania Vecchi
 - Fix in Tagger*.cxx: all the events with omega<0 or >1 are set to UNTAGGED

!========================= FlavourTagging v12r7 2012-01-12 =========================
! 2011-12-23 - Marc Grabalosa
 - OS and SS optimized for Strip17
 - OS calibration Strip17
 - new NN for SSk
 - corrected dQ calculation in SSK
 - new tuning.py
 - Increase to v12r7

!========================== FlavourTagging v12r6 2011-07-29 ================
! 2011-12-08 - Stefania Vecchi
 - Bug FIXED in choosePrimary (BTaggingTool.cpp) that caused wrong list of 
   PU vertices. Bug was included AFTER v12r5.

! 2011-11-30 - Marc Grabalosa
 - TaggerVertexCharge change property name

! 2011-11-10 - Marc Grabalosa
 - src/BTaggingTool
  . Same PV criterium as in DecayTrreeTuple
  . ReFitPV implemented
 - Increase to v12r5p1

!========================== FlavourTagging v12r5 2011-07-29 ================
! 2011-07-08 - Marc Grabalosa
 - src/Tagger* Changed cuts to new optimization/calibration
 - new NeuralNets (old keep in extrann/Moriond2010)
 - Added new variables to VtxTagger
 - Added IPsign in all taggers
 - SSK opt in Ds to PhiPi from data june 2011
 - python/FlavourTaggign/Tuning.py added new cuts for opt/cal july2011
 - Increase to v12r5

!========================== FlavourTagging v12r4p3 2011-03-29 ================
! 2011-04-08 - Juan Palacios
 - src/BTagging.cpp
  . Fix memory leak.
 - Increase to v12r4p3.

!========================== FlavourTagging v12r4p2 2011-03-29 ================

! 2011-03-29 - Juan Palacios
 - src/TaggerKaonSameTool.cpp
  . Fix warning.

! 2011-03-21 - Marc Grabalosa
 - Added warnings in the taggers initialization
 - Modified some properties for consoistency
 - Add Tunings to set taggers cuts via configurables
 - Increase to v12r4p2

!========================== FlavourTagging v12r4p1 2011-03-10 ================

! 2011-03-10 - Juan Palacios
 - options/BTaggingTool.py
  . Fix InputLocations of TaggingPartilces algorithm. All locations need to
    be explicitly pre-pended by a "Phys/". Locations, algorithms are now:

    Phys/TaggingElectrons/Particles    CombinedParticleMaker/TaggingElectrons
    Phys/TaggingParticles/Particles    FilterDesktop/TaggingParticles
    Phys/TaggingPions/Particles        CombinedParticleMaker/TaggingPions
    Phys/TaggingMuons/Particles        CombinedParticleMaker/TaggingMuons


! 2011-02-23 - Juan Palacios
 - Remove reference to Particle::Container.
 - Increase to v12r4p1

!========================== FlavourTagging v12r4 2011-02-20 ==================

! 2011-02-16 Marc Grabalosa
  - Change options for Moriond (not correct for SSK)

! 2011-02-10 Marc Grabalosa
  - Add options for Moriond

! 2011-02-03 Marc Grabalosa
  - Remove unuseful and old Trackmatching
  - Raise to v12r4

!========================== FlavourTagging v12r3 2011-02-03 ==================

! 2011-02-03 Marc Grabalosa
  - Added options calibrated for mc(nu2.5)

! 2011-01-27 Marc Grabalosa
  - Bug for OScombination, remove CombineTaggersProbabilityOS factory
  - Mod options for bug OSCombine

! 2011-01-26 Marc Grabalosa
  - Fixed bug in vertexch for (B id<0). New calibration constants
  - New option files MeV
  - Calibration of per event omega for OS, OS+SS combination without calibration
  - Optimized KSS with data
  - Raise to v12r3

!========================== FlavourTagging v12r2 2011-01-19 ==================

! 2011-01-19 Marc Grabalosa
  - Calibration of per event omega for OS and OS+SS combination
  - Optimized KSS with mc nu=2.5

! 2011-01-17 Marc Grabalosa
  - New optimization and calibration for strip12_v1.

! 2011-01-05
 . Remove calls to DVALgorithm::desktop().

! 2010-12-23 - Marc Grabalosa
  - New cuts optimized for strip12
  - Calibration for strip12
  - Increase to v12r2

!========================== FlavourTagging v12r1 2010-12-20 ==================

! 2010-12-14 - Marc Grabalosa
  . fix bug for vtx charge
  - Increase to v12r1.

! 2010-12-02 - Marc Grabalosa
  . add strip10_v1 (old muon, new vtx, with tau in NN)

! 2010-11-11 - Marc Grabalosa
  . default strip10 tuning
  . modify options
  . introduced noclones(kOS and vtx), ipPU, and distPhi for each tagger

! 2010-11-04 - Marc Grabalosa
  . added bestPV method (uses IRelatedPVFinder)
  . added ForceSignalID (Bu, Bd, Bs)

! 2010-10-20 - Marc Grabalosa
  . changed naming convention for cuts files in /options
  . default is stripping9

! 2010-10-13 - Marc Grabalosa
 - Add tool for combination of taggers using a NN
 - More option files for stripping cuts
 - Added IPs in muon tagger

! 2010-10-11 - Juan Palacios
 - Add python module FlavourTagging.Utils.
  . Contains class TaggingParticlesSequenceBuilder, a class to build a
    selection sequence with the necessary algorithms to produce tagging
    particles.
 - Increase to v12r1.

!========================== FlavourTagging v12r0 2010-10-04 ==================

! 2010-09-30 - Marco Musy, Marc Grabalosa
  . updated cuts from D*munu, MC2010 is kept as an option

! 2010-09-29 - Marco Musy
  . modified kaon oppo cuts to adapt to latest data in src,
  cuts are always accessible through properties. risen IPPU to 4
  . added python MC2010_cuts.py to apply mc tuning.

! 2010-09-27 - Marco Musy
  . dropped cuts on ghost likelihood and loosen chi2 cut to 5
    to make agreement closer to distributions observed in data

! 2010-09-22 - Marc Grabalosa, Marco Musy
  . new polynomials for the omega estimator
  . drop cut on ghost prob for electrons
  . TMVA temporarily removed to allow compilation on windows.
  . vertexcharge now uses a nnet.
  . increase version to v12r0

! 2010-07-02 - Marc Grabalosa
  . New tuning for NNets
  . Added some comments

! 2010-06-23 - Marc Grabalosa
  - TaggingUtils
   .Added function to calculate DOCA
  - Taggers
   .Optimized with new cuts for MC2010
   .TaggerVertexChargeTool redefined
  - NNet
   .Optimized NNs for each tagger (MC10)
   .Add a NN for SVCh tagger
  - SVertexOneSeedTool, new tool to select the SecVtx
  - BTaggingTool modified and some small changes for cuts
  - CombineTaggersNN, new tool to combine the taggers, takes
    into account the correlation between taggers, and no bias
    appear after combination
  . raise to version v12r0


! 2010-06-03 - Juan Palacios
 - TaggingUtils
  . Remove commented out IGeomDispCalculator to stop avoid Lbglimplse confusion.
  . Move some headers to .cpp.

!========================== FlavourTagging v11r3 2010-05-24 ==================

! 2010-05-13 - Juan Palacios
 - Adapt to new IDVAlgorithm interface
 - Increase versiont o v11r3

!========================== FlavourTagging v11r2 2010-03-08 ==================

! 2010-03-05 - Juan Palacios
 - src/BTagging.cpp, src/BTaggingTool.cpp, src/BTaggingTool.h
  . Modify to deal with T::Range.

! 2010-03-03 - Marco Musy
 - fix a bug on the definition of ip pileup vertex affectin koppo and ksame
 - fix small mismatches between the output of BTaggingAnalysis and the
   particles used by BTaggingTool
 . raise to version v11r2

!========================== FlavourTagging v11r1 2010-02-22 ==================

! 2010-02-11 - Marco Musy
 - fix some warning messages on slc5
 - BTaggingTool.cpp now deals also with refitted primary vertex
   user can switch it on with ChoosePVCriterium proprety.
   If UseReFitPV is set to true the refitted PV will be used in
   the calculation of the impact params of all taggers and SV building.
 - remove useless NNetTool_DC06.h,cpp and src/NeuralNet/DC06*
 . raise to version v11r1

!========================== FlavourTagging v11r0 2010-02-02 ==================

! 2010-02-02 - Marco Musy
 - modified nnets to cope with new impact parameter optimised on MC09 events
 - bug fix on PID of OS kaon taggers
 - bug fix on SS pion taggers (nnet input set as p instead of pt)
 - NNet changed for MC09 nu=1 tuning, to account for changes in IP definition
 - updated options
 . raise to version v11r0

! 2010-01-18 - Marco Musy
 - modified TaggingUtils to take in the asbolute value of impact parameter


!========================== FlavourTagging v10r0 2009-12-16 ==================

! 2009-12-11 - Marco Musy
  - NNet changed for MC09 nu=1 tuning, src/NNetTool_MLP.cpp polynomials updated
  - tagger cuts chosen correspondingly
  - isinTree method moved to src/TaggingUtils.cpp

! 2009-12-03 - Marco Musy
  - changed some outputlevel again
  - added IDistanceCalculator to substitute IGeomDispCalculator
    but not yet activated, wait to check if possible to have a signed ip.
  - important fixes to kaon and vertexch taggers, and in NNNetTool_MLP

! 2009-11-30 - Marco Musy
 - MC09 tuning by default
 - New sets of cuts for MC09
 - changed NN and p_i fit values
 - hold DC06 cuts through new option file BTaggingTool_DC06.py
   . copied NNets into DC06_NN files in src/NeuralNets
 - BTagging, changed some output levels,
 - updated example option files
 - fixed in BTagging check of existing container of particles
 - raise to version v10r0


!========================== FlavourTagging v9r0p2 2009-11-30 =================

! 2009-11-25 - Juan PALACIOS
 - BTagging
  . Remove custom handling of InputLocations. Now taken from DVAlgorithm.
 - cmt/requirements
  . Increase version to v9r0p2.

!========================== FlavourTagging v9r0p1 2009-11-17 =================

! 2009-10-31 - Juan PALACIOS
 - src/BTagging.cpp
  . Remove un-needed include of obsoleted header.
 - cmt/requirements
  . Increase version to v9r0p1

!========================== FlavourTagging v9r0 2009-10-28 ===================

! 2009-10-27 - Juan PALACIOS
 - BTaggingTool
  . Now runs tagging in parallel for each particle location defined in
    DVAlgorithm property InputLocations.
  . Output FlavourTags are written to <InputLocation>/FlavourTags.
 - cmt/requirements
  . Increase version to v9r0

! 2009-10-26 - Juan PALACIOS
 - src/BTaggingTool.cpp
  . Change message output level to debug.

! 2009-10-15 - Patrick Koppenburg
 - Replace HltType by Hlt and HltThresholdSettings
 - v8r9

! 2009-10-05 - Marco Musy
 - removed options/DC06SelBs2DsPi.opts
 - fixes to options/DVBTagging.py

!========================== FlavourTagging v8r8 2009-10-01 ===================

! 2009-08-20 - Vanya BELYAEV

 - src/SVertexNNTool.cpp
   src/SVertexTool.cpp

     fix for new signature of IVertexFit interface

! 2009-08-05 - Stephanie Hansmann-Menzemer
 - addapt to changes in Track.xml class



! 2009-07-29 - Juan PALACIOS
 - src/*.cpp
  . add necessary includes and forward declarations

!========================== FlavourTagging v8r7 2009-07-24 ===================

! 2009-07-16 - Marc Grabalosa
- added properties for NNetTool_MLP for polinomial values


!========================== FlavourTagging v8r6p1 2009-07-03 =================
! 2009-07-01 - Patrick Koppenburg
 - Fix options to avoid warning about duplicate configuration of the same tool.
   Fixes bug http://savannah.cern.ch/bugs/?51794
 - Increment to v8r6p1

!========================== FlavourTagging v8r6 2009-06-30 ===================
! 2009-06-26 - Marco Musy
 - some bug fix to BTaggingTool.cpp
 - added missing pions in the particle maker (S.Poss)

!========================== FlavourTagging v8r5 2009-06-23 ===================
! 2009-04-24 - Marco Musy
  adapt for changes in the Event Model Event/xml/Tagger.xml where
  std::vector&lt;LHCb::Particle&gt; becomes std::vector&lt;LHCb::Particle*&gt;
  still getting a crash when the Tagger is returned.

!======================= FlavourTagging v8r4 2009-05-11 ====================

! 2009-04-24 - Patrick Koppenburg
 - Some bug fixes to adapt to new DVAlgorithm
 - Make all particles in 3 CombinedParticlemaker instances followed
   by one FilterDesktop. @todo : apply more cuts.

! 2009-04-21 - Patrick Koppenburg
 - Adapt to new Particlemaker : remove Physdesktop from BTagging tool
   . particles are now created on demand
   ' @todo : Apply cuts in creation, not in the tool.
 - v8r4

!======================= FlavourTagging v8r3 2009-03-01 ====================

! 2009-02-23 - Marco Musy
 - implement OS alone decision
 - cleanup of summaryof.cpp
 - translate BTagging.opts into python
 - removed obsolete property


!======================= FlavourTagging v8r2 2009-01-15 ====================

! 2008-12-22 - Patrick Koppenburg
 - Remove all .opts excelt one obsolete file to be translated

!======================= FlavourTagging v8r1 2008-11-27 ====================
! Marco Cattaneo
 - Fix stupid coding errors that don't compile on Windows. gcc is too lenient!

! 2008-11-17 - Marco Musy for Marc Grabalosa
 - cleanup of option btaggingtool.opts
 - removed src/SVertexABTool.*

! 2008-11-11 - Marco Musy
 - Changed NNet to make them more gaussian
 - Erased NNet_v1 which has become _MLP
 - introduced TMVA machinery selectable by option
 - introduced new CombinedPID for taggers
  . Increase version to v8r1

! 2008-10-28 - Juan PALACIOS
 - src/BTaggingTool.cpp, src/ITaggingUtils.h
  . Adapt to new IPhysDesktop::primaryVertices() method

! 2008-10-10 - Juan PALACIOS
 - src/TaggerPionSameTool.cpp
 - src/TaggerVertexChargeTool.cpp
  . Remove unused variables that were causing compilaiton warnings.
 - cmt/requirements
  . Increase version to v8r0p1

!======================= FlavourTagging v8r0 2008-07-03 ====================

! 2008-06-24 - Patrick Koppenburg
 - Change a few options formatting to avoid confusing gaudi v19 with gaudirun.py

! 2008-06-10 - Marco Musy
 - Complete revision and retuning for Brunel v31 data
 - Increment to v8r0

!======================= FlavourTagging v7r3p2 2008-04-24 ====================

! 2008-04-11 - Patrick Koppenburg
 - No tabs in options

!======================= FlavourTagging v7r3p1 2008-01-15 ====================
! 2008-01-15 - Patrick Koppenburg
 - Add an incident listener to BTaggingTool and use handle method to
   clean desktop at end of event. This became necessary after the removal
   of this feature from PhysDesktop.
 - Increment to v7r3p1

!======================== FlavourTagging v7r3 2007-07-31 =====================
! 2007-06-21 - Marco Musy
- make use of Kernel/IParticleDescendants class
  instead of private method FindDaughters
- fix in secondary vertex
- fix in summary/summaryof

! 2007-06-07 - Marco Musy, Stephane Poss, O. Leroy
- Modified units (GeV and MeV) in options files and in code.
- Substituted outgoingParticles() with daughtersVector() in FindDaughters
- Several Modifications affecting the vertex charge, as presented by S. Poss
  at: http://indico.cern.ch/conferenceDisplay.py?confId=9599 and by M. Calvi
  at: http://indico.cern.ch/conferenceDisplay.py?confId=16399
- SVertexTool.cpp
   - Put polynomial parameters in DeclareProperty
   - Restore "TDR" polynomials functions from M. Musy and M. Calvi used in
     the opposite inclusive vertex reconstruction (likelihood)
   - All taggers are kept in the vertex reconstruction, including muons which
     where previously removed
   - The upstream tracks are included
   - The Lambda0 mass window is tighten from 1.01-1.2 to 1.112-1.12
   - Apply track quality Chi2 cut on all tracks :
     - chi2(long tracks)<2.5
     - chi2(upstream tracks)<5
           Cuts identical to Opposite Kaon ones, not re-optimized
- TaggerVertexChargeTool.cpp
   - Re-optimization done on DC06 Bs2DsPi phys-lumi2 data
   - The value of m_PowerK and m_AverageOmega cuts have been re-optimized
   - Update the polynomial fonction giving mistag = f(Qvtx) m_P0, m_P1
   - Add in declareProperty: m_wSameSign2 and m_wSameSignMoreThan2. They are
     the mistag fraction of Qvtx tagger in case of 2 (>2) tracks with
     same sign.
   - If estimated omega > 0.5, decision is reversed and omega = 1-omega
- All Taggers:
   - If NNet output is < 0.5, reverse omega and decision.
- BTaggingTool.cpp
   - TaggerVertexChargeTool is called only when no OS (e,m,k) are present.
     Veto can be overwritten if property UseVtxChargeWithOS is set to true.
     In this case TaggerVertexChargeTool is called with a vector of particles
     which excludes the taggers.
   - call to SVertexTool moved inside TaggerVertexChargeTool.

!======================== FlavourTagging v7r2p1 2007-04-26 ===================
! 2007-04-26 - Marco Cattaneo
 - Get ICaloElectron.h from CaloUtils (moved from CaloInterfaces in LHCb v22r4)
 - Remove obsolete file FlavourTagging_load.cpp

!========================== FlavourTagging v7r2 2007-03-09 ===================
! 2007-03-02 - Patrick Koppenburg
 - Adapt to new ICaloElectron interface.
 - Depend on CaloInterfaces, not CaloUtils

! 2007-03-01 - Marco Musy
 - general cleanup.
 - change in the categorization tool CombineTaggersProbability.cpp
   (before was CombineTaggersNNet). Changed way to sort taggers based on w.
 - various changes in Taggers cuts.
 - PID cuts changed for all types.
 - TaggingUtils contains common utility methods used by many taggers.
 - options files changed for PID definition. Now ExclusiveSelection=false.
   (protection of Secondary vertex finder introduced)

! 2007-02-28 - Stephane Poss
  - Changes in TaggerElectronTool.cpp,h : change default cut values and
    add correct E/p from O.Deschamp (ICaloElectron)
  - Changes in SVertexTool.cpp : put PDF polynomes parameters in
    declareProperties and update them.

!========================== FlavourTagging v7r1p1 2007-01-08 ==================

! 2006-12-21 - Juan PALACIOS

  - options/BTaggingTool.opts
    . Fix typo to do with OutputLeve.

  - cmt/requirements
    . Increase version to v7r1p1

!========================== FlavourTagging v7r1 2006-11-16 ===================

! 2006-11-06 - Juan PALACIOS

  - cmt/requirements
    . Increase version to v7r1

! 2006-11-03 - Marco Musy
 - fix for dE/dx
 - cleanup of option files.


!========================== FlavourTagging v7r0 2006-10-24 ===================

! 2006-10-24 - Juan Palacios
  - cmt/requirements
    Increase version to v7r0.

! 2006-10-24 - Marco Musy
 - First DC06 translation of the code:
   Known problems: "lcs" variable (old "last chi square") has changed and
   has to be retuned, the corresponding cut is temporarily disabled via opts.
   "Emeas" variable in TaggerElectronTool causes crashing.
   In SVertexTool background killing from Kshort temporarily disabled.
 - ALL taggers cuts (and Neural Nets) need to be retuned.

!========================== FlavourTagging v6r6 2006-05-29 ===================
! 2006-05-29 - P. Koppenburg
  - src/NNetTool_v1.cpp
    . sin is not a member of std on windows. sin alone works well on
      both platforms

! 2006-05-16 - Marco Musy
 - added NNetTool_v1.cpp,h which is a new tool that uses the neural
   net for new Root tuning. Neural nets are now put in src/NeuralNet folder
   This thing is now disabled, so there is non difference in results
   wrt before.
   To activate the changes you should comment out lines in
   BTaggingTool.opts :
   ToolSvc.BTaggingTool.TaggerMuonTool.NeuralNetName = "NNetTool";
   etc. for all taggers.
   NNetTool is the old nnet tuning.
   NNetTool_v1 is the new one.

!========================== FlavourTagging v6r5 2006-02-03 ===================
! 2006-01-27 - P. Koppenburg
  - src/DoubleTagging.cpp
    . std::sqrt -> sqrt for Windows

! 2006-01-28 - Marco Musy
 - The new DoubleTagging algorithm is introduced to study the correlations
   between SS/OS taggers. Please refer to the tagging web page for details.
   Files added are DoubleTagging.*; corresponding changes are in
   the FlavourTaggingChecker package
 - Options file DoubleTagging.opts changed to DVDoubleTagging.opts
 - The SVertexABTool is updated. It returns two inclusive secondary
   vertices instead of just one.

! 2006-01-27 - P. Koppenburg for Chris Barnes
  - New tool CombineTaggersOSTDR.
  - Options file options/DoubleTagging.opts

!========================== FlavourTagging v6r4 2005-12-15 ===================
! 2005-11-22 - Marco Musy
  - small bug fix on CombineTaggersTDR

!========================== FlavourTagging v6r3 2005-10-21 ===================
! 2005-10-21 - Marco Cattaneo
  - Fix usage of pow() in TaggerVertexChargeTool.cpp, to compile on Windows
  - Remove unused packages from requirements (L0Event, GenEvent, Tampering)

! 2005-10-05 - Marco Musy
  - SVertexTool.cpp has been changed: muon are now rejected only
    if they are possible taggers
    - VertexCharge is evaluated with pT weights.
    - NoSharedHit Tool added for muon taggers

! 2005-09-30 - Marco Musy
  - bug fix in CombineTaggersTDR.cpp, it affects the numer and type
    of taggers to be put in FlavourTag obj

!========================== FlavourTagging v6r2 2005-07-22 ===================
! 2005-07-20 - Marco Musy
  - bug fix on the user predefined list of tracks to be used
    as tagger candidates (vtags in BTaggingTool)
  - cosmetics

! 2005-07-13 - M. Musy
  - bug fix for multiple candidates in BTagging.cpp
  - small bug fix in summaryof.cpp for TDR categories

!========================== FlavourTagging v6r1 2005-07-08 ===================
! 2005-07-08 - F.Ranjard
  - bug fix for windows : add #include <math.h> in NNetTool.cpp

! 2005-07-06 - P. Koppenburg
  - bug fix for windows

! 2005-07-08 - M. Musy
  - fixed bug on writing FT object to tes
  - fixed bug on RequireTrigger, deleted by mistake
  - added property AverageOmega

!========================== FlavourTagging v6r0 2005-07-06 ===================

! 2005-07-06 - P. Koppenburg
  - src/NNetTool.cpp
    . include <math.h> for windows

! 2005-07-05 - M. Musy
  - added reorganised:
    CombineTaggersNNet.cpp  to combine taggers
    CombineTaggersTDR.cpp    same with old TDR definition
    inheriting from same interface ICombineTaggersTool.h
  - changed the ITagger interf to return a Tagger
  - included TaggerVertexChargeTool.cpp and TaggerJetSameTool.cpp
  - evaluation of omega is now done inside Tagger individually

! 2005-07-04 - P. Koppenburg
 - Add "const" where it seems reasonable
 - Indent properly
 - IMPORTANT: BTagging now uses the PhysDesktop to get it's input.
   ParticlesLocation is obsolete.
 - BTagging.cpp now uses flavourTagging() method of DVAlgorithm
   (needs DaVinciKernel v3r5)
 - Some reorganisation:
  - FlavourTagging/IBTaggingTool.h
  - FlavourTagging/INNetTool.h
  - FlavourTagging/ISecondaryVertexTool.h
    . Moved to DaVinciKernel
  - FlavourTagging/ITagger.h
    . Moved to src/

! 2005-07-04 - M. Musy
 - New version which exploits the new FlavourTag class definition
   in PhysEvent
 - BTagging has became BTaggingTool, while it remains for backward
   compatibility and as an example of how to use the tagging tool
 - BTaggingTool itself has been splitted in TaggerXXXTools which return
   the tagger candidates to BTaggingTool which eventually combines them
   into a final decision
 - SecondaryVertexTool has been splitted into 3 separate tools all
   inheriting from the same interface ISecondaryVertexTool which has been
   modified to return a vector of vertices instead of a single vertex
   A new SVertexABTool is created. It returns two vertices instead of
   just one, for the moment only for development purposes.

!========================== FlavourTagging v5r6 2005-05-30 ===================
! 2005-05-28 - M. Musy
 - summary.cpp has been updated
 - removed hlt part from options (no use case for the moment)
 - a WEB page is now available for tagging :

       ********************************************************
       https://uimon.cern.ch/twiki/bin/view/LHCb/FlavourTagging
       ********************************************************

   where you can find technical infos and summary of performances

! 2005-05-25 - M. Musy
 - code has been cleaned up a bit.
 - added new properties for most hard-coded numbers
 - many comments added along the way
 - each tagger can be disabled separately via property

! 2005-05-25 - P. Koppenburg
  - src/BTagging.{h,cpp}
    . Protect get<> methods with exist<>
    . Do not use TrgDecision::HLT as it is called hlt() in DaVinci v14
    . Use HltScore instead
    . Indent properly
 - src/BTaggingMonitor.cpp
    . Protect get<> methods with exist<>
!========================== FlavourTagging v5r4 2005-02-15 ===================
! 2005-03-01 - M. Musy
  - src/BTagging.{h,cpp}
    . Default is now without L0 L1 and Tampering; without Tampering, results
      may change (worsen) slightly depending upon the decay channel.
    . Code structure has been revised.
    . Bug on same-side pion tagger fixed.

! 2005-02-02 - P. Koppenburg for Marco Musy
  - src/BTagging.{h,cpp}
    . Allow the use without L0 L1 and Tampering.
    !! WARNING: results will be slightly different !!
  - src/ISecondaryVertexTool.h and src/INNetTool.h
    moved to FlavourTagging/

! 2005-02-01 - P. Koppenburg
  - FlavourTagging/IFlavourTaggingTool.h
    . Removed
  - options/CheatedSelection.opts
    . Removed DaVinciCommon and DaVinciReco already included in
      DVBTagging.opts

! 2005-01-31 - P. Koppenburg for Marco Musy
Main changes/upgrades are the following:

- tagging efficiencies and performance calculation are now moved
to BTaggingMonitor so that no truth information is accessed at any stage.

- BTagging.cpp still needs to rerun the trigger because it
makes use of the tampering info

- SecondaryVertex is now a tool, and the user can choose whether
to use the TDR definition or the revised version of it using
NeuralNets (default is old tdr)

- I implemented the new definition of tagging categories, obtained
by using a NNet tuned for each taggers separately.
these NNets are accessed via a tool (this was asked for in a meeting).
the user can still choose to stick to the old TDR categories via
BTagging.CombinationTechnique = "TDR";

- summaryof.cpp is an additional standalone program to quickly get
useful numbers out of the logfiles. it contains the instructions on
how to run it.

- DVBTagging.opts is meant as an example option file.

!========================== FlavourTagging v5r3p1 2005-01-18 ===================
! 2005-01-04 - P. Koppenburg
  - src/*.h
    . Change location of interfaces
! 2004-12-06 - P. Koppenburg
  - options/DVBTagging_example.opts
    . Correct location of L1.opts.
    . Do not run Hlt.opts it does nothing useful (yet).
    . Define BTagging TopAlg here
  - options/BTagging.opts
    . Define BTagging TopAlg in DVBTagging_example.opts
!========================== FlavourTagging v5r3 2004-10-04 ===================
! 2004-09-13 - P. Koppenburg for Thomas Ruf
  - src/BTagging.cpp
    . Do not wrap string over several lines.
      Causes compilation problems on widows.
  - Re-tag as v5r3 as it is already corrected on the release are in DaVinci
    v12r1
! 2004-09-13 - P. Koppenburg for Julien Babel
  Include trigger again
!========================== FlavourTagging v5r2 2004-08-03 ===================
! 2004-07-29 - P. Koppenburg
  - options/BTagging.opts
    . Set write to TES to true by default for backward compatibility.
! 2004-07-23 - P. Koppenburg
  - cmt/requirements
    . L1Event -> TrgEvent
    . Import AIDA
  - src/*.cpp
    . Comment out all obsolete L1 stuff
!========================== FlavourTagging v5r1 2004-07-22 ===================
! 2004-07-08 - P. Koppenburg for Marco Musy
  - options/BTagging.opts
  - options/CheatedSelection.opts
  - src/BTagging.cpp
  - src/BTagging.h
  - src/BTaggingMonitor.cpp
  - src/BTaggingMonitor.h
  - src/CheatedSelection.h
    . It includes SS pion tag and a revised treatment for electrons.

!==================== FlavourTagging v5r0 2004-05-05 ===================
! 2004-05-04 - P. Koppenburg for Marco Musy
  - src/BTagging.cpp
  - src/BTagging.h
  - src/CheatedSelection.cpp
  - src/CheatedSelection.h
  - src/FlavourTagging_load.cpp
  - src/BTaggingMonitor.cpp
  - src/BTaggingMonitor.h
  - options/DVBTagging_example.opts
  - options/BTagging.opts
  - options/CheatedSelection.opts
  . Modified or added new flavour tagging. Now official.
    Writes output to TES.

  - summary/summaryof.cpp
  . Little tool that allows to decode output

  - src/CategoryTaggingTool.cpp
  - src/CategoryTaggingTool.h
  - src/CheatedReco.cpp
  - src/CheatedReco.h
  - src/FTCombinedParticleMaker.cpp
  - src/FTCombinedParticleMaker.h
  - src/FlavourMonitorAlgorithm.cpp
  - src/FlavourMonitorAlgorithm.h
  - src/FlavourTaggingAlgorithm.cpp
  - src/FlavourTaggingAlgorithm.h
  - src/FlavourTaggingDebug.cpp
  - src/FlavourTaggingDebug.h
  - src/FlavourTaggingSummary.cpp
  - src/FlavourTaggingSummary.h
  - src/KaonSameSideTaggingTool.cpp
  - src/KaonSameSideTaggingTool.h
  - src/OrderedTaggingTool.cpp
  - src/OrderedTaggingTool.h
  - src/ParticleTaggerCriterion.cpp
  - src/ParticleTaggerCriterion.h
  - src/SingleParticleTaggingMonitor.cpp
  - src/SingleParticleTaggingMonitor.h
  - src/SingleParticleTaggingTool.cpp
  - src/SingleParticleTaggingTool.h
  - src/VertexChargeTaggingTool.cpp
  - src/VertexChargeTaggingTool.h
  - options/CombinedFlavourTagging.opts
  - options/DVCheatedSelection.opts
  - FlavourTagging/IFlavourTaggingTool.h
  . Obsolete and moved to src/attic and options/attic

!==================== FlavourTagging v4r9 2004-03-31 ===================
! 2004-03-25 - P. Koppenburg
 - CheatedReco.cpp
   . Correct location of IMCDecayFinder.h

!==================== FlavourTagging v4r8 2004-03-11 ===================
! 2004-03-11 - P. Koppenburg for Odie and Marco
 - CategoryTaggingTool.cpp (PK/Odie)
   . Don't try to access L1 or L0 when they're not there.
   . Avoid not assigning a B meson as the tagged particle
     in the case of opposing tag decisions.
 - BTagging class (Marco)
   . pion same side tagging
   . summary of tag performance at the end of run
   . writing output to TES in FlavourTag class
 - CheatedSelection (Marco)
   . Don't stop when signal B is not found in event
   (waiting for Gauss to provide flag of forced B).
 - VertexChargeTaggingTool.cpp and BTagging.cpp
   . upstream() -> isDownstream()

!==================== FlavourTagging v4r7 2004-01-28 ===================
! 2004-01-28 - Gloria CORTI for Marco MUSY
 - New version of tagging code to substitute what used for TDR.
   NOTE: Be CAREFULL to use the new (or old) tagging code after loose-cuts
         selections as this may imply that particles belonging
         to the signal are left as possible taggers, which spoils the tag!
 - src/BTagging.{h,cpp}
   . new tagging code, the output is provided as a line in the log file
     in the following sequence:
     RunNr EventNr Tag TagCategory L0 L1 NrReconPrimVTX NrVisiblePrimVTX
     ex: BTagging     INFO TAGGINGINFO  429208403 473 1 3 1 0 1 1
     Tag and TagCategory have the same meaning as in FlavourTagging.
 - options/DVBTagging_example.opts
   . example of how to use the new flavour tagging with either a real
     selection or a cheated selection
 - src/CheatedSelection.{h,cpp}
   . to perform tagging studies using a cheated selection
 - options/DVCheatedSelection.opts
   . options to execute a cheated selection as a real one

! 2004-01-14 - Gloria CORTI
 - cmt/requirements
   . use v* to allow compilation against different versions of LHCb

!==================== FlavourTagging v4r6p1 2003-08-06 =================
! 2003-07-24 - Gloria CORTI
 - src/FTCombinedParticleMaker.cpp
   . remove initialization of iterator = 0 to please gcc32
   . declare local variable to be passed as argument of method as int
     instead of double as in method (gcc32 warning)

!==================== FlavourTagging v4r6 2003-07-07 ===================
! 2003-07-04 - Olivier Dormond
 - src/FlavourTaggingAlgorithm.h, FlavourTaggingAlgorithm.cpp
   . Added a preselection cut to remove all particles compatible with a pileup
     vtx.
 - src/SingleParticleTaggingTool.h, SingleParticleTaggingTool.cpp
   . Added an option to sum the charge of the particles passing the cuts
     instead of just using the one with the highest pt.
 - option/CombinedFlavourTagging.opts
   . Activate the previous addition for the kaon same-side tag.
 - doc/release.note
   . This changelog.

! 2003-07-03 - Olivier Dormond
 - Tabification cleanup.
 - src/CategoryTaggingTool.cpp
   . Print out the number of reconstructed vertex instead of collisions.
   . Print out the category the event fall in.
   . Fixed the category key computation.
   . Fixed tag computation for e + Kss category.
 - src/CategoryTaggingTool.h
   . Fixed the computation of the error on epsillon effective.
 - src/CheatedReco.cpp
   . Correct the pid and mass of the Particle used to create the B in
     order to have the right B mass.
 - src/FlavourTaggingAlgorithm.cpp
   . Fixed the computation of the error on epsillon effective.
 - src/KaonSameSideTaggingTool.cpp
   . Updated the default cuts.
   . Fixed the vertex used for the IP cut.
 - src/VertexChargeTaggingTool.cpp
   . Fixed the cuts values.
   . Fixed the handling of the Kshort decay products.
 - doc/release.notes
   . This update.

!==================== FlavourTagging v4r5 2003-06-18 ===================
! 2003-06-16 - Olivier Dormond
 - src/CategoryTaggingTool.h, src/CategoryTaggingTool.cpp
   . Activated the vertex charge code path.
 - src/VertexChargeTaggingTool.h, src/VertexChargeTaggingTool.cpp
   . Added this new IFlavourTaggingTool subclass.
 - src/FlavourTaggingAlgorithm.cpp
   . Fixed a bug when dumping info for a vertexCharge tag.
 - src/FlavourTagging_load.cpp
   . Added the VertexChargeTaggingTool tool.
 - src/SingleParticleTaggingTool.cpp, src/KaonSameSideTaggingTool.cpp
   . Added a debug print out on entry of the active block.
 - options/CombinedFlavourTagging.opts
   . Updated the cuts including the CombinedParticleMaker tuning.
 - doc/release.notes
   . These lines.

! 2003-06-13 - Olivier Dormond
 - cmt/requirement
   . Added deps for L1 trigger and the visible collision tool.
   . Bumped version to v4r5
 - src/CategoryTaggingTool.h, src/CategoryTaggingTool.cpp
   . New tool which uses the previous one to get a set of tags it uses to
     categorize the event and make a decision about the final tag.
 - src/CheatedReco.h, src/CheatedReco.cpp
   . New algo to create particle from a cheated reconstruction.
     See doc/CheatedReco.txt for explanation about it's config.
 - src/FlavourTaggingAlgorithm.h, src/FlavourTaggingAlgorithm.cpp
   . Moved from Algorithm to DVAlgorithm and cleaned up the code a bit.
   . The Vertex passed to the tagging tool is now the primary vertex the B
     is pointing to.
 - src/FlavourTaggingSummary.h, src/FlavourTaggingSummary.cpp
   . Added L0 and L1 trigger to the output.
   . Added # of collision and # of visible collision to the output.
 - src/FlavourTagging_load.cpp
   . Added the CheatedReco algorithm and the CategoryTaggingTool tool.
 - src/KaonSameSideTaggingTool.cpp
   . Added some debugging output.
 - options/CombinedFlavourTagging.opts
   . The option file for the use of the CategoryTaggingTool which combines tags.
 - doc/CheatedReco.txt
   . Some documentation for the configuration of the CheatedReco algorithm.
 - doc/release.notes
   . This update.

!==================== FlavourTagging v4r4p1 2003-06-03 ===================
! 2003-05-30 - Gloria Corti
 - src/SingleParticleTaggingMonitor.h, SingleParticleTaggingMonitor.cpp
   . adapt to change in name of Particle2MCLinksAsct and removal of
     obsolete header file
 - src/FlavourMonitorAlgorithm.h, FlavourMonitorAlgorithm.cpp
   . adapt to change in name of Particle2MCLinksAsct and removal of
     obsolete header file

!==================== FlavourTagging v4r4 2003-04-28 =====================
! 2003-04-28 - Gloria Corti
 - cmt/requiremets
   . use DaVinciTools v8r* and DaVinciMCTools v5r*
   . remove explicit use of DaVinciAssociators and TrAssociators (via
     DaVinciMCTools)
   . increase version numver to v4r4

!==================== FlavourTagging v4r3 2003-04-25 =====================
! 2003-04-10 - Olivier Dormond
 - Added a combined particle maker until one is available globally.
 - The FlavourTaggingAlgorithm now reports the statistical errors at the end
   of the job.
 - Added a tool to implement the same-side kaon tagging.
 - Added a simple algorithm to summarise all the generated tags for a B in
   one line.
 - Cleanup the options files.

!==================== FlavourTagging v4r2 2003-01-06 =====================
! 2003-01-06 - Florence Ranjard
 - requirements - use LHCb v11r5

! =================== FlavourTagging v4r1 2003-01-06 ======================
! 2002-12-20 - Gloria Corti
 - Remove explicit dependecy of EventKernel in requirements

! 2002-11-20 - Olivier Dormond
 - Restructured the option files (have a look in
   /afs/cern.ch/user/o/odie/public/DaVinciOptionsForTheTagging for a set of
   option files for DaVinci).
 - Added support for multiple-collision in the FlavourMonitorAlgorithm. Stats
   are now splitted by number of collisions.
 - Added check for the L0 trigger in FlavourTaggingAlgorithm.
 - Droped the ntuple from the SingleParticleTaggingTool.
 - Added a SingleParticleTaggingMonitor to study the job of the so-named tool.

! =================== FlavourTagging v4r0 2002-11-13 ======================
! 2002-11-13 - Gloria Corti
 - Use explicitely EventKernel v2r0 because of compilation error
 - Use new major versions of DaVinciTools (v7r*) and DaVinciMCTools (v4r*)

! =================== FlavourTagging v3r0 2002-10-30 ======================
! 2002-10-21 - Gloria Corti
 - Introduce some missing std:: to compile on windows

! 2002-10-19 - Olivier Dormond
 - Fixed a typo which caused the error on the effective efficiency to be wrong.
 - Added three options files to do tagging with only one kind a particle (Kaon,
   muon, electron).

! 2002-09-20 - Olivier Dormond
 - requirement: added DaVinciMCTools v3r* for the monitoring.
 - FlavourTagging.opts: Changed particle maker to Charged and "All".
 -                      Changed measured Z cut to more closely match the VELO.
 -                      Added setting for the FlavourTaggingDebug algorithm.
 - FlavourTaggingAlgorithm: Added a property 'FirstOnly' (default to false)
     which will let the tagging only use the first B in each hypo location.
     The idea is to have a workaround for the strange behaviour of the
     SelectBs2mumu algo which produces n^2 identical Bs where n is the number
     of primary vertices.
 - SingleParticleTaggingTool: Fixed the removing of the B decay products from
     the event by comparing the ProtoParticles. It could be replaced by the
     CheckOverlap tool when commonly available.
 - Added a FlavourTaggingDebug algorithm which dumps the B and the event.

! 2002-09-13 - Gloria Corti
 - Remove use of PhysEvent, update version of use used packages to be
   consistent with DaVinci v6r0 and set version to v3r0

! =================== FlavourTagging v2r0 2002-09-10 ======================
! 2002-09-10 - Olivier Dormond
 - Monitor: Divided the statistics based on how well the B has been
            reconstructed.
 - Tagging: Added a consistency check.
 - SPTT:    Added the event and run number to the ntuple.
 - All:     Small code layout changes.

! 2002-09-06 - Olivier Dormond
 - Made a cleanup of the abort messages.
 - Fixed the handling of the vertices so the impact param cut realy works.

! 2002-09-05 - Olivier Dormond
 - Fixed computation and report of the statistics for tagging and monitoring
 - Added the missing writeRecord so the ntuples are realy filled in!
 - Stripped down the generated name for the ntuple by only using the last
   part of the tool name (the one after the rightmost dot).

! 2002-09-03 - Olivier Dormond
 - The "/Particles" part of the hypothesis locations is now added
   automatically if not present.
 - Added a check to avoid trying to tag particles without a bottom quark.

! 2002-09-03 - Olivier Dormond
 - Swapped the way particles and B hypothesis are setup. Now the PhysDesktop
   takes care of the particles and the B are handled seperatly.
 - Support multiple locations for the B.
 - The tools support both Particles and ParticleVector.
 - The tools can produce an ntuple for optimization.
 - The tools can save a FlavourTag for the monitoring only.
 - Added a FlavourMonitorAlgorithm to check the FlavourTag against the truth.

! 2002-07-18 - Gloria Corti
 - Increase version number to v2r0 and use DaVinciTools v5r*

! >>>>>>>>>>>>>>>>>>>>>>>>>>> FlavourTagging v1r0 <<<<<<<<<<<<<<<<<<<<<<<<<<<

! 2002-05-22 - Gloria Corti
 - New package provided by Olivier Dormond

