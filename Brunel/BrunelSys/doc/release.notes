<PRE>
Package: BrunelSys
Package Coordinator: Marco Cattaneo
Purpose: LHCb reconstruction programs

</PRE><H1><A NAME=v48r2>2015-08-27 Brunel v48r2</A></H1><PRE>
This version uses projects:
 LCG_79 (ROOT 6.04.02), Gaudi v26r3, LHCb v39r0, Lbcom v17r0, Rec v18r1
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Patch release for 2015 25ns reconstruction

- Changes to persistency for Run2 data
  . Add saving of ClosestToBeam state for Velo tracks

- Bug fixes
  . FastVeloFitLHCbIDs: Protect from segfault in case of not decoded hits.
    (FastVelo v1r22)
  . Fix in DLLMuonTool, see Jira task: https://its.cern.ch/jira/browse/LHCBPS-1431
    Added two functions to be sure a valid region is always used in the DLL
    calculation and consequentely changed two GaudiExceptions into Error messages
    (which should never happen, given the new code) (MuonID v9r17)

</PRE><H1><A NAME=v48r1>2015-08-06 Brunel v48r1</A></H1><PRE>
This version uses projects:
 LCG_79 (ROOT 6.04.02), Gaudi v26r3, LHCb v39r0, Lbcom v17r0, Rec v18r1
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Patch release for 2015 25ns reconstruction

- Changes to configuration for Run2 data
  . Switch on ghost probability in TrackBestTrackCreator for Run II tracking.
    Cuts set to chi2=4 and ghost prob = 0.4 (TrackSys v9r10)

- New physics tuning
  . Update default database tags to the latest ones (DDDB v1r79, v1r80):
    o DDDB,     2015: dddb-20150724
    o LHCBCOND, 2015: cond-20150805

- Bug fixes
  . Fix to PrPixelTrack concerning memory layout of hit classes (PrPixel v1r13)

- Changes to tests
  . Change 2015-em input file to a file more representative of the 2015 EM data
    taking period
  . Improve protections in readdstfsr against changes to ONLINE_2008
    initialisation that depend on environment in which the test is run.

</PRE><H1><A NAME=v48r0>2015-07-22 Brunel v48r0</A></H1><PRE>
This version uses projects:
 LCG_79 (ROOT 6.04.02), Gaudi v26r3, LHCb v39r0, Lbcom v17r0, Rec v18r0
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

New major release for 2015 25ns reconstruction

- General changes to configuration
  . In OnlineMode, set CondDB().Online = True if not already set.
  . Introduction of MuonIDAlgLite algorithm to replace old MuonIDAlg. Used also
    for all configurations except 2008, 2009, MC09 and Upgrade datatypes.
    See MuonID release notes for details of speed and performance improvements
    (MuonID v6r16)
  . Use DecodersDB for decoding of VP hits (PrPixel v1r12)
  . Remove list of detectors to process for FieldOff as it was the same as for
    FieldOn - just, CALO and RICH processing order was inverted. (RecConf v2r22)
  . Switch on fast Kalman fitting of Velo tracks for PV reconstruction. Scattering
    noise parameters tuned to improve the pull distribution of primary vertices.
    Old behaviour can be recovered via options (FastVelo v1r21, TrackSys v9r9)
  . Remove treatment of fitted Velo tracks for obsolete Run 1 RDST format
    (TrackSys v9r9, VeloRecMonitors v2r31)

- Changes to configuration for Run2 data
  . Replace PatDownstream with PatLongLivedTracking
    (PatKernel v2r10, TrackSys v9r9)
  . Filter fitted Velo tracks for PV reconstruction such that they use less space
    on the DST.
  . Switch on new multiple scattering correction with log term
    (TrackSys v9r9, TrackFitter v5r7, TrackTools v5r11, MuonTrackMonitor v2r9)
  . Erase ExtraInfo from the Fitted HLT1 Velo Track (TrackSys v9r9)
  . Check that fitters in HLT1 sequence only run when the corresponding PatReco
    algorithms have run (TrackSys v9r9)
  . Sort the active particle type enum list in Rich::ParticleProperties to
    ensure a strict (increasing) mass ordering (RichTools v2r49) 

- Persistency changes:
  . Add the fitted Velo tracks for the PV to the DST for 2015 (GaudiConf v19r11)

- New physics tuning
  . Update default database tags to the latest ones (DDDB v1r78):
    o LHCBCOND, 2015: cond-20150716
    o DQFLAGS,  2015: dq-20150717
    o DDDB,     2015: dddb-20150703

- Performance improvements
  . SIMDChi2Fit: speed up using custom vectorisable dot product implementation
    (code was introduced in v47r7 but not enabled by accident. Gains about 6%
     speed in the Seeding, no performance changes) (TfKernel v2r33)

- Bug fixes
  . Fixed problem with access to Gaussian fit parameters, exposed by Root 6.04
    (RichRecQC v2r71)
  . Break iteration in TrackRungeKuttaExtrapolator - evaluateRKStep if the values
    of the state are obviously too large, to prevent FPE in fieldVector
    calculation (TrackExtrapolators v2r38)
  . Protected TrackVertexMonitor from division by zero (TrackMonitors v2r9)
  . Bug fix in Run2GhostId: count *lite* clusters when determining the outliers
    per subdetector (TrackTools v5r11)
  . Fixed bug in 'State::linearTransportTo' (TrackEvent v6r3)

- Monitoring changes
  . Changed from 20 bins in phi to 60 bins in phi, for the 2D histograms used 
    in the mirror alignment (RichAlignment v1r12)
  . Added several TrackSelector cuts in order to remove background photons from 
    deltaTheta histograms (RichAlignment v1r12).
  . Small cleanup of the RichDataDecodingErrorMoni monitor (RichRecQC v2r71).
  . Modified TT and IT trackmonitor such that more functionality works for hits
    with Lite clusters (TrackMonitors v2r9)
  . In TrackMonitor: reduced max chi2/dof to 5 and added prof for average
    chi2prb vs phi in T stations (TrackMonitors v2r9)
  . Added histogram with residuals vs y for every module to TTTrackMonitor
    (in 'fullDetail') (TrackMonitors v2r9)
  . Change some warning messages to info in TrackMasterFitter (TrackFitter v5r7) 

- Changes to tests
 . In brunel-mc10-withtruth, use sim-20140625-vc-md100 tag (2010 compatible, but
   not MC10 compatible), to pick up muon-20140505 tag, needed by MuonIDAlgLite
 . Remove fixedfile-sim2010, compatibility.qms/fixedfile-r08s12b-2010,
   compatibility.qms/fixedfile-sim2010.qmt tests, since this particular simcond
   tag is no longer supported by this release and a more recent working tag is
   already tested by the corresponding "-latestdb" and "-globaldb" tests.

</PRE><H1><A NAME=v47r9>2015-06-18 Brunel v47r9</A></H1><PRE>
This version uses projects:
 LCG_76root6 (ROOT 6.02.08), Gaudi v26r2, LHCb v38r7, Lbcom v16r6,
 Rec v17r7 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

 Patch release to address issues found after initial tests with 2015 data and
 Turbo stream simulation

- New functionality
  . Finalise support for CALIBOFF partition (DetCond v12r42, DDDB v1r77)
  . Add support for Run Stamp check (DetCond v12r42)

- New tuning
  . Use new default tags for 2015 LHCBCOND: cond-20150617, DDDB: dddb-20150526
    (DDDB v1r77)
  . Fixes to provide same ANNPID inputs as in Run 1:
    o Fix TrackVelodEdxCharge in 2015 configuration (TrackTools v5r10)
    o Put back TrackLikelyhood ExtraInfo in 2015 configuration (TrackSys v9r8)

- Bug fixes
  . Fix typo in PackedWeightedRelations::clID() that was causing the wrong
    class ID to be returned (EventPacker v5r3)

- Monitoring changes
  . Print average number of real tracks per VELO track (TrackTools v5r10)

- Changes to tests
  . Add an EventClockSvc().InitialTime to 2015 tests, to avoid changes in
    initialisation output every time current magnet polarity changes
  . 2015-em, 2015-em-rdst tests now use latest CondDB tags for 2015


</PRE><H1><A NAME=v47r8>2015-06-08 Brunel v47r8</A></H1><PRE>
This version uses projects:
 LCG_76root6 (ROOT 6.02.08), Gaudi v26r2, LHCb v38r7, Lbcom v16r6,
 Rec v17r7 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

 Patch release to address issues found after initial tests with 2015 data

- Bug fixes
  . LHCBPS-1416: Make sure PrTrackAssociator writes out linker location, even if
    there are no tracks in the event (PrMCTools v2r10)
  . TrackEventFitter: Added missing delete in case track chisq cut is not passed.
    (TrackFitter v5r6)

- Changes to monitoring
  . OTTrackMonitor: Increase the range of the OT hit multiplicity to 15000.
    (TrackMonitors v2r8)
  . Fix bug in BeamGasVertexMonitor (matching of vertices) (TrackMonitors v2r8)

- Changes to tests
  . Remove sam.qms test suite, no longer used and not supported by CMake
  . Remove 2015-magdown and 2015-magdown-rdst tests that were using a 2012 test
    file, and replace them with 2015-em, 2015-em-rdst using the first 2015 data

</PRE><H1><A NAME=v47r7>2015-05-28 Brunel v47r7</A></H1><PRE>
This version uses projects:
 LCG_76root6 (ROOT 6.02.08), Gaudi v26r2, LHCb v38r7, Lbcom v16r6,
 Rec v17r7 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Changes to configuration
  . Change default DataType to 2015
  . Do not run MCRichDigitSummaryUnpacker explicitly in MCLinksUnpackSeq, as this
    breaks with LDST. Just run it on demand when/if needed by the Check sequence.
  . Use online calibration by default (RichDet v17r3, RichTools v2r48)
  . Add Turbo option in DstConf. Used for propagation of Turbo objects in MC
    workflow (GaudiConf v19r9)
  . Add support for the new MuonID calibration. Default is still the old one
    (MuonID v9r15)
  . Further support for HLT and offline convergence
    (RecAlgs v3r3, RichRecSys v5r7, TrackSys v9r7) 

- Changes to persistency
  . Change default SplitRawEventOutput to 4.1 (adds HC/RawEvent) if DataType is
    not a Run 1 DataType (in which case default remains 4.0)

- New physics tuning
  . Update default database tags to the latest ones (DDDB v1r76):
    o DDDB,     2015                  : dddb-20150520
    o DDDB,           2012            : dddb-20150522-2
    o DDDB,                 2011      : dddb-20150522-1
    o DDDB,                       2010: dddb-20150522
    o LHCBCOND, 2015                  : cond-20150511
    o LHCBCOND,                   2010: cond-20150527
  . Fix configuration of GEC for PatForward for HLT2 for 2015
    (PatAlgorithms v4r41)
  . Add VeloTT tracks to the collection of tracks to be fitted in HLT2 part of
    reco (TrackSys v9r7)
  . Added track chi2/ndf<3 cut for Hlt1 Forward tracks (TrackSys v9r7)

- Performance improvements
  . Sort hits on a track only once (PrPixel v1r11)
  . C++11 improvements (RecAlgs v3r3, RichRecQC v2r70, FastVelo v1r20)
  . Add move-constructor to PatVTTHybridTrack, use it in PatVeloTTHybridTool. 
    Gains about 4.5% in speed (according to callgrind), no change in performance.
    (PatVeloTT v4r7)
  . SIMDChi2Fit: speed up using custom vectorisable dot product implementation
    (this will gain about 6% speed in the Seeding, no performance changes)
    (TfKernel v2r32)
  . Skip loop in 'outlierRemoved' in 'TrackMasterFitter' if it is clear it will
    not do anything anyway (TrackFitter v5r5)

- Bug fixes
  . GAUDI-1023: issue a warning when re-declaring a property (GaudiKernel v31r5)
    Related fixes:
    o Renamed the Algorithm property "ErrorCount" to "ErrorCounter", avoids 
      clash with error counting in DecodeVeloRawBuffer (GaudiKernel v31r5)
    o Modifications to avoid re-definition of properties from base class
      (LHCbAlgs v3r6, L0DU v10r32, STTools v4r17)
  . Add a check to PackCluster to see if the packed data already exists or not.
    (EventPacker v5r2)
  . Several fixes in MuonIDAlg (MuonID v9r15)
  . Rework FastVeloFitLHCbIDs to reset and correct the FastVeloHits in a 
    repeatable way (FastVelo v1r20)
  . PatSeedingTool: fix a bug where the PatSeeding output depended on the
    "history" of the input hits (i.e. which other pattern reco algorithms ran
    in which order) (PatAlgorithms v4r41)
  . Fix to MuonTTTrack to only write out successfully fitted tracks
    (TrackTools v5r9)

- Monitoring changes
  . Downgrade message about non-successful propagation of track in
    TrackMasterFitter from 'Warning' to 'Info' (TrackFitter v5r5)


</PRE><H1><A NAME=v47r6p1>2015-05-04 Brunel v47r6p1</A></H1><PRE>
This version uses projects:
 LCG_74root6 (ROOT 6.02.05), Gaudi v26r1, LHCb v38r6, Lbcom v16r5,
 Rec v17r6 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Patch release to pick up GaudiConf v19r9, otherwise identical to v47r6

- Changes to persistency
  . Add Turbo option to DstConf. Needed for propagation of Turbo objects, e.g.
    in simulation workflows (GaudiConf v19r9)

</PRE><H1><A NAME=v47r6>2015-04-28 Brunel v47r6</A></H1><PRE>
This version uses projects:
 LCG_74root6 (ROOT 6.02.05), Gaudi v26r1, LHCb v38r6, Lbcom v16r5,
 Rec v17r6 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Changes to configuration
  . Activate RunII (online-like) tracking sequence by 'DataType == 2015'
    (RecConf v2r21, TrackSys v9r6)
  . liteClusters and simplifiedGeometry are default for Run 2
  . Enable running with separate Rich processing sequences for different track
    groups (RecConf v2r21, RichRecSys v5r6). To avoid unnecessary duplicates in
    this configuration, many Rich tools are now shared instances
  . Add RDST output type, same as DST without RawEvent (GaudiConf v19r8)
  . Remove obsolete SDST input and output types

- Changes to persistency
  . Packing of all references is now done on 64 bits. Reading is backwards
    compatible with old data, but data written with this version can only be
    read with LHCb v38r6 stack or later (EventPacker v5r0, v5r1)

- New Physics tuning
  . New default database tags (DDDB v1r75)
    o LHCBCOND, 2015                  : cond-20150119-2
    o LHCBCOND,       2013, 2012      : cond-20150119-1
    o LHCBCOND,                   2011: cond-20150119
  . Add missing configuration of STOnlinePosition tool in STOfflineConf.py
    (STTools v4r16)
  . Convergence between online and offline MuonID (MuonID v9r14)
  . Convergence between online and offline Tracking in 2015 configuration
    (Several chnges in many tracking packages)
  . Efficiency improvements in Seeding algorithm (PatAlgorithms v4r40)
  . For Run II, change options of Fitter: Don't refit, use FastMomentumEstimate,
    don't change dEdX in simulation (TrackSys v9r6)
  . Updates to Run2GhostId neural networks (TrackTools v5r8) 

- Performance improvements
  . Speed optimisation in multiple packages (DetDesc v18r7, OTDet v8r16,
     VeloDet v13r21, GaudiObjDesc v11r22, LHCbKernel v15r9, LHCbMath v3r55,v3r56,
     CaloReco v5r24,v5r25, RichRec packages, Tracking packages)

- Monitoring changes
  . Add a new histogram for the track momentum distribution (RichRecQC v2r69)
  . Reduced INFO printout from RichRec packages
  . Rich monitoring now determines the correct context to use for each monitor,
    based on the tracks it is monitoring (RichRecQC v2r69)

- Changes to QMTests
  . Add 2015magdown-rdst.qmt, same as 2015magdown with output to rdst
  . Remove SDST test cases

</PRE><H1><A NAME=v47r5>2015-02-04 Brunel v47r5</A></H1><PRE>
This version uses projects:
 LCG_74root6 (ROOT 6.02.05), Gaudi v26r1, LHCb v38r5, Lbcom v16r4,
 Rec v17r5 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Changes to Configuration
  . OnlineBrunel will run on the output of Hlt1, so don't try to decode
    Hlt2DecReports in OnlineMode. 
  . Add support for Brunel().SpecialData += ['pGun']
    (Brunel v47r5, RecConf v2r20)
  . Switch default config access service to CDB (HltServices v2r7)

- New functionality
  . Generalise local-to-global transformation to allow for rotated modules.
    (VPTools v2r5)

- New Physics tuning
  . New default database tags (DDDB v1r74)
    o DDDB,     2015                        : dddb-20150119-3
    o DDDB,                 2012            : dddb-20150119-2
    o DDDB,                       2011      : dddb-20150119-1
    o DDDB,                             2010: dddb-20150119
    o LHCBCOND, 2015                        : cond-20150119-1
    o LHCBCOND,       2013, 2012, 2011, 2010: cond-20150119
  . OTRawBankDecoder: use the vetoing of out-of-time hit pairs by default
    (OTDAQ v7r19)
  . Tuned uncertainty of point on magnetic plane in downstream tracking, change
    zMagnet parametrisation (PatAlgorithms v4r39)
  . PatForwardTool: Do not add additional TT hits to Forward candidates if the
    Seed is an Upstream track. (PatAlgorithms v4r39) 
  . PatFwdTool: Add option (enabled by default) to use pitch residuals to resolve 
    ambiguities in the OT in a manner similar to the seeding; this results in 
    slight efficiency gains (permille level), a ghost rate reduction on the
    percent. (PatAlgorithms v4r39)
  . Add code to account for overlap hits, change default value of PassHoleSize
    (PatVeloTT v4r5)
  . OTHit: make use of the new walk_fast method in OTDet::WalkRelation to speed
    up Seeding and Forward by about 4%; effects on efficiencies, ghost rates,
    pulls and so on are on the permille level (TfKernel v2r30
  . Add GhostProbability to RecoUpgradeTracking.py (TrackSys v9r5)
  . Adapt RecoTracking.py, such that for data type '2015' PatVeloTTHybrid instead
    of PatVeloTT is run. The (internal) Kalman filter is off per default.
    (TrackSys v9r5)

- Performance improvements
  . Vectorised optimisation of magnetic field (DetDesc v18r36, Magnet v7r9)
  . Speed optimisation in multiple packages (Tracking, Rich, MuonID)
    (LHCb v38r5, Rec v17r5)

 - Bug fixes
   . Fix bug affecting the way the fractional position is used in the light
     sharing for tracks crossing the inter SiPMs gaps (FTDet v2r9)
   . Decoders.py: set up separate configurations for the decoder of OT "normal"
     RawBanks and OTRaw and OTError "expert" banks (DAQSys v8r7)
   . PatSeedFit: fix bug which caused a successful stub fit to produce a warning
     and have its results ignored (PatAlgorithms v4r39)

- Monitoring changes
  . Add the histograms needed for online OT T0 calibration to the histograms
    produced online (TrackMonitors v2r5)

- Changes to QMTests
  . Add brunel.sim08-pgun test to test SpecialData=["pGun"] option
  . Fix compatibility tests to use root: instead of castor: protocol and to
    ignore detector description warnings when using old (2010) tags

</PRE><H1><A NAME=v47r4>2015-01-16 Brunel v47r4</A></H1><PRE>
This version uses projects:
 LCG_72root6 (ROOT 6.02.03), Gaudi v26r0, LHCb v38r4, Lbcom v16r3,
 Rec v17r4 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- New functionality
  . Add option to veto hit pairs in OT for which one hit falls outside the OT
    readout window. Disabled by default (OTDAQ v7r18)

- New Physics Tuning
  . New parametrisations in 'PatMatchTool', lower ghost rate and higher
    efficiency, mostly for low p tracks (PatAlgorithms v4r38)
  . Update default tunes to use MC12TuneV2 for all data types (removes 
    dependency on NeuroBayes, previously used for pre-2011 data and MC)
    (ChargedProtoANNPID v2r9)
  . Change 3 piece trajectory approximation in OT (OTDet v8r14)
  . Add support for mono layer alignment in OT geometry (OTDet v8r14)
  . Fix position of wire locators for short modules (OTDet v8r14)

- Performance improvements
  . C++ optimisations (FastVelo v1r18, PatAlgorithms v4r38, PatKernel v2r8,
      PatVeloTT v4r4, TfKernel v2r29, TfTools v1r20, TsaKernel v3r8,
      TrackExtrapolators v2r35, TrackFitEvent v6r5, TrackTools v5r6,
      MuonDet v9r17, LHCbKernel v15r7, LHCbMath v3r53, OTDAQ v7r18,
      GaudiKernel v31r3, GaudiCoreSvc v3r2)
  . Switch internal representation of the magnetic field grid to single precision
    (DetDesc v18r35, Magnet v7r8)

- Changes to monitoring
  . Change GhostClassification tools in PatChecking.py (TrackSys v9r4)

- Changes to QMTests
  . Remove enableANNPrintout.py and all use of it, was needed to print
    NeuroBayes errors, therefore obsolete since NB is not used anymore.

</PRE><H1><A NAME=v47r3p1>2014-12-15 Brunel v47r3p1</A></H1><PRE>
This version uses projects:
 LCG_71root6 (ROOT 6.02.02), Gaudi v25r6, LHCb v38r3p1, Lbcom v16r2p1,
 Rec v17r3p1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

</PRE><H1><A NAME=v47r3>2014-12-15 Brunel v47r3</A></H1><PRE>
This version uses projects:
 LCG_71 (ROOT 5.34.24), Gaudi v25r6, LHCb v38r3, Lbcom v16r2, Rec v17r3
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Changes in Configuration
  . Change to Hlt decoding and filtering to use 'split' TES locations
    and thus support 2015 real data (backward compatible for Run1 data)
    (Brunel v47r3, HltEvent v9r5, HltDAQ v4r10, HltServices v3r6,
     HltMonitors v1r7, RichRecQC v2r68)
  . Remove "upgrade" from KnownSpecialData (obsolete, use the DataType instead)
    and from pre 2010 treatment of primary vertex (RecConf v2r19)
  . Replace remaining usage of 'Match' with 'PatMatch' in old configurations
    and remove 'TrackMatching' and 'TrackSeeding' from dependencies
    (RecConf v2r19, TrackSys v9r3, TrackCheckers v4r21, TrackUtils v1r57)
  . Remove obsolete RDST special case (RecConf v2r19)

- New functionality
  . Add support for FT geometry v4 (FTDet v2r8, PrAlgorithms v1r15)
  . Improve support for monolayer alignment (OTDet v8r13)
  . Add support to move HPD DetectorNumbers to ONLINE (RichDet v17r0)

- Persistency changes
  . Support for cluster size in FT RawBank (FTDAQ v1r7)
  . Support for Herschel RawBank decoding (HCDAQ v1r1, LHCbKernel v15r6)
  . Support for Turbo stream decoding (HltDAQ v4r10)

- New Physics Tuning
  . CaloElectronMatch : change back to extrapolation to the ZShowerMax plane
    (CaloPIDs v2r50)
  . Added a rejection for too many tracks using the same phi clusters
    Protects against Velo ghosts causing large combinatorics in Stripping21
    (FastVelo v1r17)
  . Change TrackEventCloneKiller and TrackBestTrackCreator to use the ancestor
    information to get rid of obvious clones early in the process, use Bloom
    filters to quickly check for non-overlapping tracks. Changes in efficiency
    and ghost rate at per mille level, 3.5-15% speed improvements
    (TrackKernel v2r1, TrackUtils v1r57)
  . Fix in PatDownstream such that hits in at least three layers are required
    (PatAlgorithms v4r37)

- Performance improvements
  . C++ optimisations (HltDAQ v4r10, HltServices v2r6, HltInterfaces v5r3
      LoKiCore v11r21, LoKiHlt v3r17, PatAlgorithms v4r37, TrackUtils v1r57)
  . Algorithm improvements in PatForward, PatDownstream, PatSeeding, PatVeloTT
    (PatAlgorithms v4r37, PatVeloTT v4r3)
  . Speed up MuonIDAlg by 30% by using a single function call for foiX and foiY,
    and using vdt::fast_exp (MuonID v9r12)
  . Use vdt::fast_log to speed up hotspots (TrackTools v5r5)

- Bug fixes
  . Fix in "fibreMatMinY" and "fibreMatMaxY": the max and the min were inverted
    (FTDet v2r8)
  . Fix in hit fibre length computation (FTDet v2r8)
  . Fix bug introduced in decoding that prevented the proper decoding of TAE
    event (STDAQ v4r5)
  . Remove duplicate dictionary std::pair<short,float> (EventPacker v4r6)
  . Remove duplicate dictionary enum LHCb::L0DUDecision::Type (LoKiHlt v3r17)
  . Fix unprotected debugs (RichTools v2r45, CaloReco v5r22, RichGlobalPID v3r22)
  . Fix uninitialised (and unused) cluster size in VeloClusterPosition
    (TrackTools v5r5)
  . Fix the check in case of no MC hit association in VeloTrackMonitorNT 
    (VeloRecMonitors v2r30)

- Changes to QMTests
  . Do not set InitialTime="Now" in 2012 tests
  . Add test brunel.2012-bigevents, test on events that had huge processing
    times in Reco14/Stripping21 tests

</PRE><H1><A NAME=v47r2p1>2014-10-17 Brunel v47r2p1</A></H1><PRE>
This version uses projects:
 LCG_70root6 (ROOT 6.02.01), Gaudi v25r5, LHCb v38r2p1, Lbcom v16r1p1, 
 Rec v17r2p1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

</PRE><H1><A NAME=v47r2>2014-10-17 Brunel v47r2</A></H1><PRE>
This version uses projects:
 LCG_69 (ROOT 5.34.21), Gaudi v25r4, LHCb v38r2, Lbcom v16r1, Rec v17r2
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- New functionality
  . Add support for LDST (Brunel, GaudiConf v19r5)

- New physics tuning
  . New calorimeter calibration in cond-20141007 (DDDB v1r73)

- Performance improvements
  . Change to hit classes to facilitate exploitation of hit-level parallelism in
    chi^2 fits (PrKernel v1r5, TfKernel v2r27, PrPixel v1r10)
  . Introduce SIMDChi2Fit, a fully customisable chi^2 track fit that can exploit
    the parallelism inherent in simultaneously working on several hits using 
    autovectorisation in selected bits of code. Now used in PatSeeding. Does not
    change performance but opens door to future optimisations
    (TfKernel v2r27, PatAlgorithms v4r26)
  . Many optimisation improvements to PatForward (PatAlgorithms v4r26)
  . Take advantage of C++11 in OTHitCreator -- according to callgrind, this
    results in a 10% relative CPU gain (TfTools v1r19)

- Bug fixes
  . Properly propagate OutputLevel to GlobalRecoChecks configurable (was not
    happening due to typo in Configuration.py)

- Changes to QMTests
  . In BrunelExclusions.py: future proof upgrade tests against change in FTDet
    initialisation printout. Can be removed once we are on LHCb v38r3 stack
  . brunel.sim08 test now outputs LDST format


</PRE><H1><A NAME=v47r1>2014-09-30 Brunel v47r1</A></H1><PRE>
This version uses projects:
 LCG 69root6 (ROOT 6.00/01), Gaudi v25r3, LHCb v38r1, Lbcom v16r0p1, Rec v17r1
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- New functionality
  . Add support for 2015 DataType (Brunel(), RichRecQC v2r67, DDDB v1r71)
  . Add possibility to reprocess from DST without rerunning the tracking,
    enabled by Brunel().SkipTracking=True.
    Currently not implemented for MC (is it needed?) or for upgrade
    (RecConf v2r10, TrackSys v9r2, GaudiConf v19r4)

- Changes to persistency
  . Change default RawEvent output version to 4.0 (requires RawEventFormat v1r1):
    RawEvent/Other further split into RawEvent/{Velo,Tracker,Unstripped}
    (RecAlgs v3r2, DAQSys b8r4, RawEventCompat v1r6, DAQEvent v9r17, VeloDAQ v6r12)
  . Change the key in the PackedTrack and PackedProtoParticle classes from a
    32 to 64 bit int. Needed to allow the packing of the container information.
    (EventPacker v4r4)

- Configuration changes
  . Use standard tracking sequence also for 2010 data. Previously was using
    TsaSeed instead of PatSeed and non-standard GECs (TrackSys v9r2)
  . Remove Aerogel from default radiator list when DataType is set for Run II.
    (RichRecQC v2r67)

- New physics tuning
  . Propagate energy/position corrections to the photon/electron covariance
    (CaloReco v5r21)
  . Extrapolate the track to the CaloHypo Z position instead of ZShowerMax plane
    (CaloPIDs v5r19)
  . Several improvements to PrDownstream (PrAlgorithms v1r14)
  . NeutralProtoPAlg : Change default value to +1 for IsPhoton when variable is
    not evaluated (i.e. pt<2GeV hence not merged) (GlobalReco v6r49)
  . Configuration.py : decrease MergedPi0Pt threshold from 2 GeV to 1.5 GeV
    (CaloReco v5r21p1)

- Performance improvements
  . Vectorization of PrPixelTrack::fit and PrPixelTrack::covariance, conversion
    of double to float (PrPixel v1r9)	 
  . Performance updates to PatForward (PatAlgorithms v4r35, TfKernel v2r26)
  . Hide TrackEventFitter counters behind MsgLevel(INFO) (TrackFitter v5r2)
  . PatSeedingTool: use BloomFilter for fast overlap checking
    (PatAlgorithms v4r35, LHCbMath v3r50)
  . Various CPU performance improvements (CaloReco v5r21, MuonDet v9r16)
  . Improve speed of Track::probChi2 (TrackEvent v6r2)

- Bug fixes
  . Fix memory leak in TrackStateProvider::finalize (TrackExtrapolators v2r4)
  . Fixed (inconsequential) bug in FitNode smoother (TrackFitEvent v6r3)
  . Improve the FPE protection in AlignmentOnlineMonitor (TrackMonitors v2r4)
  . Make TrackVelodEdxCharge capable of running on tracks without measurements
    (TrackTools v5r4)
  . Fix untested StatusCode in LbAppInit.cpp (LHCbKernel v15r4)
  . CaloMergedPi0 : fix bug that affect sub-seed definition in some
    configurations (CaloReco v5r21p1)

- Changes to QMTests
  . Added repro2012reco14skiptracking, tests Brunel().SkipTracking functionality
    Checks also that RawEvent output version 4.0 can be recombined back to 2.0
    (Reco14 version)
  . brunel-mc11a-xdst.qmt now explicitly tests RawEvent output version 2.0
    (a few other tests adapted to default output version 4.0)
  . Added 2015magdown to test 2015 DataType configuration. Currently uses 2012
    raw data, to be updated...
  . BrunelExclusions.py: Clean up obsolete exclusions
  . Update the valgrind suppression files (GaudiConf v19r4)

</PRE><H1><A NAME=v47r0>2014-07-21 Brunel v47r0</A></H1><PRE>
This version uses projects:
 LCG 69root6 (ROOT 6.00/01), Gaudi v25r3, LHCb v38r0, Lbcom v16r0, Rec v17r0
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

First version to support ROOT6 in production

- Known issues
  . Memory usage increased by ~500 MB due to ROOT6 dictionaries. Workaround
    expected in ROOT 6.01.

- New physics tuning
  . Major improvements in Calo reconstruction and calibration, see details in
    RecSys release notes
    (CaloReco v5r20, CaloTools v6r9, CaloInterfaces v8r8, CaloUtils v10r4)
  . Minor changes to VP pattern recognition (PrPixel v1r8, VPTools v2r4)

- New functionality
  . Add support for a new MC12TuneV3 network tune. Default for now is still
    MC12TuneV2 (ChargedProtoANNPID v2r7)
  . Restore the ability of the RICH reconstruction to run on tracks saved to DSTs
    (i.e. without redoing the tracking) (RichRecTrackTools v1r37)
  . RunChangeHandlerSvc now triggers a detector description update on every run
    change incident (even if run number does not change) (DetDescSvc v3r7)
  . OdinTimeDecoder now fires a RunChangeIncident not only when the run number
    changes, but also when the "trigger flagging" bit in the EventType word goes
    from flagging to filtering. Adapted RunChangeHandlerSvc to trigger a detector
    description update this incident (LHCbAlgs v3r3, DetDescSvc v3r7)

- Configuration changes
  . Prepare disabling Aerogel for Run II DataTypes (2015 onwards)
    (RichRecSys v5r3)

- Persistency changes
  . NeutralProtoPAlg now always stores a neutral PID's value (default value = -1
    when not available), added to ProtoParticle.xml
    (GlobalReco v6r48, RecEvent v2r51)

- Performance improvements
  . Improve memory layout of PatFwdHit (PatKernel v2r7)
  . Change hitpointer container layout in T, TT, UT station managers: replace
    3D,2D and 1D arrays of vectors by single vector + arrays of indices.
    Improves timing of eg. PatForward by 5-10% (TfKernel v2r25)
  . Use the VDT math library in a few more places (RichDet v16r24)

- Bug fixes
  . Fixed GAUDI-971: successful failover to a replica in IODataManager leads
    to non-zero exit code (GaudiUtils v5r2)
  . Fixed GAUDI-962: unprotected debugs in FileRecordCnvSvc (RootCnv v1r22p2)
  . Prevent FPE when refitting a cheated PR track (PatVelo v3r31)
  . Fix divide by 0 FPE in VeloTrackMonitorNT (VeloRecMonitors v2r29)
  . CaloMomentum.cpp : protect against negative calo energy (CaloUtils v10r4)
  . CovarianceEstimator : Set default energy to 0 in case of evaluation failure
    (no more huge negative value !) (CaloUtils v10r4)
  . Fix untested StatusCode in LbAppInit.cpp (LHCbKernel v15r3)

- Changes to QMTests
  . Move all upgrade test files to TestFileDB and CERN-SWTEST-EOS
  . Added brunel-cheatedpr test: checks ideal PR tracking and 
    VELO montoring tuples

</PRE><H1><A NAME=v46r1>2014-06-10 Brunel v46r1</A></H1><PRE>
This version uses projects:
 LCG 68 (ROOT 5.34.18), Gaudi v25r2, LHCb v37r3, Lbcom v15r2p1, Rec v16r3
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- New functionality
  . Prepare Brunel configuration for 25 ns filling schemes in 2015 and beyond
    (filterFillingScheme) (LumiAlgs v9r3)
  . Improve handling of missing RawEvent in HltDecReportsDecoder (HltDAQ v4r4)

- Performance improvements
  . Fix unprotected debugs (MuonID v9r11, RichAlignment v1r9, FTDet v2r7)
  . Introduce flag in 'buildGeometry' of PrFTHitManager that ensures that the 
    geometry is only built once (PrAlgorithms v1r12)
  . Use fast VDT asin and acos (RichRecPhotonTools v1r5)
  . Use VDT for various math functions (RichRecTools v4r25)
  . Various optimisations and consolidation of ParForward (PatAlgorithms v4r33)
  . Reintroduce binary search in DeFTDetector (FTDet v2r7)
  . Precompute cosine of angle in DeFTFibreMat (FTDet v2r7)

- Bug fixes
  . Fix untested StatusCodes (CaloPIDs v5r18, PrAlgorithms v1r12, RichDet v16r23)
  . Fix FPEs (CaloTools v6r8, RichRecPhotonTools v1r5, FTDet v2r7)
  . Call the base class initialize and finalize in various tools (MuonID v9r11)
  . Fix inaccuracy in fractional position computation for cellID 0 and 130 in 
    CellIDCoordinates() (FTDet v2r7)

- Changes to QMTests
  . Added SC and FPE monitors to all tests that did not have them.

</PRE><H1><A NAME=v46r0>2014-05-16 Brunel v46r0</A></H1><PRE>
This version uses projects:
 LCG 68 (ROOT 5.34.18), Gaudi v25r1, LHCb v37r2, Lbcom v15r2, Rec v16r2
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Changes to Configuration.py
  . Add new boolean Brunel().OnlineMode property. Default is False. Option is
    propagated to the underlying configurables, to allow them to as needed tweak
    the Brunel configuration as required Online

- Backward incompatible persistency changes
  (require input from Boole v28r0 or greater)
  . Changes to FTChannelID: no more quarter --> module + mat
    (LHCbKernel v15r2, FTDet v2r6, PrAlgorithms v1r11, TrackTools v5r2)
  . Modification of the bit sharing in 16-bit words according to the FT TDR
    electronic design (FTDAQ v1r6)
  . Changes to VPChannelID (LHCbKernel v15r2, VPDet v3r2, VPDAQ v2r7,
                            VPAlgorithms v4r4, PrMCTools v2r2, PrPixel v1r7)
  . Digits linker tables use keys instead of VPDigit objects (PrMCTools v2r2)
  . DigiConf.py: replace VPCluster by VPDigit linker tables (GaudiConf v19r2)

- New functionality
  . Add support for new CondDB partitions 'CALIB' and 'CALIBOFF' as additional
    layers above 'ONLINE' partition, for 2015 workflows (DetCond v12r36)
  . Add new OnlineMode property (RecConf v2r17, RichRecSys v5r2, RichRecQC v2r66)
  . Additional functionality in ANNPID tuple
    (ChargedProtoANNPID v2r6, GlobalReco v6r47, RecInterfaces v1r2) 

- Functionality removed
  . Removed FT bilayer code
    (PrAlgorithms v1r11, TrackFitEvent v6r1, TrackTools v5r2)
  . Remove support for obsolete (pre-TDR) VP geometry (TrackTools v5r2)

- New physics tuning
  . Change default LHCbCond tag for 2010 to 2014328
    (new Tracking alignment, new OT T0 database) (DDDB v1r69)
  . PatForward: added option to flag seeds as used (PatAlgorithms v4r32)
  . Add X-correction for track-cluster matching (CaloPIDs v5r17)
  . Use same data n-1 scale factors in all photon reconstruction tools, to 
    synchronise offline and HLT tunings (RichRecPhotonTools v1r14)
  . When OnlineMode=True, tune the reconstruction so it can be used for
    the Online HPD and refractive index run by run calibrations (RichRecSys v5r2)

- Performance improvements
  . Performance optimisations of DeVP (VPDet v3r2)
  . Performance optimisations of FT geometry (FTDet v2r6)
  . Reimplement the tanh approximation in WalkRelation (OTDet v8r12)
  . Use float instead of double where possible (Tf/PatVeloTT)
  . Various improvements to PrPixel (PrPixel v1r7)
  . Many perfomance improvements in PatForward and PatSeeding
    (PatAlgorithms v4r32)
  . Renamed FTRawCluster to FTLiteCluster
    (FTEvent v1r6, FTDAQ v1r6, PrMCTools v2r2, RecAlgs v3r1, TrackTools v5r2)
  . Replace VPLite measurement type by VP measurement type (TrackFitEvent v6r1,
    TrackFitter v5r1, TrackFitter v5r1, TrackMonitors v2r2, TrackProjectors v3r1)
  . Remove VPLiteCluster from VPCluster, add inter-pixel fraction to VPCluster
    (DigiEvent v4r2, VPDAQ v2r7, VPAlgorithms v4r4, VPTools v2r3, PrMCTools v2r2,
     PrPixel v1r7)

- Bug fixes
  . Fix in PatSeedingTool to reduce ghost rate and avoid FPE (Tf/PatAlgorithms)
  . Fix unprotected debug()
    (CaloPIDs v5r17, CaloDet v10r19p1, CaloMoniDst v5r17, RichRecQC v2r66)

- Monitoring changes
  . When OnlineMode=True, tune monitoring so it can be used for the Online HPD
    and refractive index run by run calibrations (RichRecQC v2r66)

- QMTest changes
  . Modified configurables test to test all configurables, but only fail if there
    are more than 50 "missing". See task #50698
  . Pick up brunel-mc11a-xdst PFN from TestFileDB
  . Update brunel2011magdown to test the option Brunel().OnlineMode=True

</PRE><H1><A NAME=v45r1>2014-03-27 Brunel v45r1</A></H1><PRE>
This version uses projects:
 LCG 68 (ROOT 5.34.18), Gaudi v25r1, LHCb v37r1, Lbcom v15r1, Rec v16r1
 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Configuration changes
  . Propagate OutputLevel value to Calo sequences only when the property is
    explicitly set
    (CaloDAQ v4r38, CaloMonidst v5r16, CaloPIDs v5r16, CaloReco v5r19)

- Bug fixes
  . Fix in VP clustering routine. Changed two break statements to continue
    (VPAlgorithms v4r3)
  . Put an FPE::Guard into DeRichGasRadiator::calcSellmeirRefIndex to protect
    against a very very weird FPE exception when running clang... (RichDet v16r21)
  . Fix unstable sorting in PrSeedingXLayers (PrAlgorithms v1r9p1)
  . Fix in PrPixelHitManager: the size of of clusters in super pixel patterns was
    off by one (legacy debugging code) (PrPixel v1r6)
  . Fix in PrPixelClustering: matched super pixel clusters sometimes received the
    wrong sensor column number (wrong grouping of integer divisions)
    (PrPixel v1r6)
  . Fixed rare FPE in phi cluster weights (FastVelo v1r16)

- Performance improvements
  . Changes to VPCluster format
    (DigiEvent v4r1, VPDAQ v2r6, PrMCTools v2r1, PrPixel v1r6, TrackMCTools v3r8)
  . Replace linear search for fibreMat with binary search in DeFTDetector
    (FTDet v2r5)
  . Store all common sensor properties in static members (VPDet v3r1)
  . Provide a static cache of x pixel positions and pitches (VPDet v3r1)
  . Speed improvements to PrForward through changes tp PrPlaneCounter
    (PrAlgorithms v1r10)
  . Many optimisations to PrPixel (PrPixel v1r6)
  . Optimised VeloUT for speed (PrVeloUT v2r1)
  . Speed improvements to PatForward (PatAlgorithms v4r31)

- Monitoring changes
  . Reduce Calo verbosity (CaloDAQ v4r38, CaloDet v10r19)
  . Reduce verbosity of memory pool release messages (LHCbKernel v15r1)
  . Suppress warnings in the default case (MuonID v9r10)

- Changes to tests
  . EventSelector PFN exclusion moved from BrunelExclusions to LHCbExclusions
    (Brunel v45r1, GaudiConf v19r1)


</PRE><H1><A NAME=v45r0>2014-02-25 Brunel v45r0</A></H1><PRE>
This version uses projects LCG 66, Gaudi v25r0, LHCb v37r0, Lbcom v15r0,
 Rec v16r0 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

First version that can be built and run against ROOT 6.

This version contains all tracking code that was used for the upgrade tracking
TDR studies

- Changes to Configuration
  . Add 'pA' SpecialData type, to set special GECs developed for Reco14r1
    reprocessing of 2013 heavy ion data
    (Rec/RecConf v2r16, Rich/RichRecSys v5r1, Tf/TrackSys v9r0)
  . Clean up propagation to LHCbApp of Detectors slot
  . Integrate into DecodeRawEvent configurable (task #19106) 
  . Renamed PatPixel* to PrPixel*

- New functionality
  . Adaptation for using large+standard PMTs in RICH2.
    (Det/RichDet v16r20, Rich/RichRecPhotonTools v1r13)
  . Add support for Upgrade geometries to RichCKthetaBandsPhotonPredictor.
    (Rich/RichRecPhotonTools v1r13, Rich/RichRecTrackTools v1r36)

- New tuning
  . Update in PrSeedingXLayers, to represent code used for Upgrade Tracking TDR. 
    (Pr/PrAlgorithms v1r9)
  . Add in small wrong side window (Pr/PrAlgorithms v1r9)
  . Changed how x of state atTT is assigned (Pr/PrVeloUT v2r0)
  . Changed how clustering is done and resulting changes to algorithm.
    (Pr/PrVeloUT v2r0)
  . Add an explicit tuning of the photon reconstruction for the Upgrade.
    (Rich/RichRecSys v5r1)

- Performance improvement
  . Avoid calling System::virtualMemory() more often than required in LbAppInit.
    (Kernel/LHCbKernel v15r0)
  . Removed unneeded calls to foiX and foiY in MuonIDAlg::setCoords.
    (Muon/MuonID v9r9)
  . Restructured code in hottest part of PatPixelTracking (Pr/PrPixel v1r5)
  . Use vdt implementation of tanh in OTDet (Det/OTDet v8r11)

- Bug fixes
  . Chi2 cut on short tracks was not applied (Pr/PrPixel v1r5)
  . Fixed small bug in clustering, change state to LastMeasurement
    (Pr/PrVeloUT v2r0)
  . Fix floating point exceptions 
    (Det/CaloDet v10r18, Event/EventPacker v4r0, OT/OTMonitor v3r8,
     Muon/MuonInterfaces v1r6, Pr/PrAlgorithms v1r9, Pr/PrMCTools v2r0,
     Rich/RichTools v2r43, Tf/FastVelo v1r15, Tf/PatAlgorithms v4r30,
     Tr/TrackMonitors v2r0, Velo/VeloRecMonitors v2r28)
  . DeRichPMTPanel: fixed minor issue with RICH2 Local PD plane transform
    definition for PMTs for plotting the hit coordinates in the PD plane.
    (Det/RichDet v16r20)
  . Fix the enabling of the FPEAuditor in LHCbApp (Kernel/LHCbAlgs v3r0)
  . Fixed logic of applyConfigurableUsers() (see bug #103803 and bug #103808)
    (GaudiKernel v30r0, RichRecQC v2r64)

- Monitoring changes
  . Update LbAppInit to only report memory changes when they are greater than
    some small delta value (16KB by default). (Kernel/LHCbKernel v15r0)
  . Update PrChecker with 'electron' flag, to take electrons into account or not.
    (Pr/PrMCTools v2r0)
  . Updated PrCounter and PrChecker: Added trigger condition and new efficiency
    categories. (Pr/PrMCTools v2r0, Pr/PrKernel v1r4)
  . Fix behaviour of flag 'fromB' to only include B baryons and mesons, and not
    particles from string fragmentation of b quarks
    (Pr/PrMCTools v2r0, Rec/ChargedProtoANNPID v2r5, Tr/PatChecker v3r15,
     Tr/TrackCheckers v4r20, Tr/TrackMCTools v3r7)
  . Add upgrade detector linking to LHCbIDsToMCHits (Tr/TrackMCTools v3r7)
  . TrackMonitor: removed use of extrapolator; split residuals by x,y for pixel.
    (Tr/TrackMonitors v2r0)

- Obsolete functionality removed
  . Remove support for VL upgrade detector
  . Remove never used UpgradeDets slot
  . Remove Brunel().Persistency option (Rec/Brunel v45r0, GaudiConf v19r0)
  . Moved all functionality from DeVPNewSensor to DeVPSensor and removed
    DeVPNewSensor (Det/VPDet v3r0)

- Changes to example options
  . Fix 2008 RAW data options following changes to Castor setup at CERN

- Changes to QMTests
  . repro2013-pa test now sets Brunel().SpecialData += ['pA'] instead of
    explicitly setting the Reco14r1 GECs
  . Fix several tests to take input data via TestFileDB

</PRE><H1><A NAME=v44r9>2013-12-16 Brunel v44r9</A></H1><PRE>
This version uses projects LCG 66, Gaudi v24r2, LHCb v36r4, Lbcom v14r4,
 Rec v15r4 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Configuration changes
  . Major change: RawEvent decoders are now configured via DecoderDB. RawEvent
    writing delegated to DSTConf, juggling to the RawEventJuggler, reconfiguring
    to DecodeRawData() (Configuration.py, LumiAlgs v9r0, RichRecSys v5r0,
    TrackSys v8r0, DAQSys v7r2, RawEventCompat v1r4, GaudiConf v18r0)
  . New options added to over-ride default settings of above change:
    o Brunel().SplitRawEventInput (for reconfiguring decoders)
    o Brunel().SplitRawEventOutput (for juggling before writing)
  . Upgrade: Move matching algorithm before downstream in RecoUpgradeTracking.py
    (TrackSys v8r0)

- New tuning 
  . Make "cond-20131128" the default LHCBCOND tag for 2012 and 2013 data
    (DDDB v1r67)

- New tuning (Upgrade only)
  . Implemented the new momentum dependent windows (PrAlgorithms v1r8)
  . Changed number of hits from 8 to 4, pick up LastMeasurement state
    (PrVeloUT v1r3)
  . Removed unused variables, changed default values (PatPixel v1r4)

- Persistency changes
  . Add support for data federations (try out all PFN replicas in file catalog in
    turn in case of file open failures) (GaudiUtils v4r7)
  . Add output for per-event timing of execute(). Controlled by ChronoStatSvc
    property "PerEventFile". Default is empty string, do nothing
    (GaudiCommonSvc v2r2)
  . Add property to RootHistCnv::RFileCnv that allows ROOT compression settings
    to be defined (RootHistCnv v11r3)
  . Upgrade: Replace all 'Pat' track histories with 'Pr' track histories
    (PrAlgorithms v1r8, PrVeloUT v1r3, RichRecBase v4r17, TrackUtils v1r3,
     TrackEvent v5r23)

- Performance optimisation
  . Avoid repeated calculation of index station * m_NRegion + region (MuonID v9r8)
  . Added possibility for in/output in local coordinates to channelToPoint and
    pointToChannel functions (VPDet v2r5, PrMCTools v1r8)

- Performance optimisation (Upgrade only)
  . Put some speed improvements in PrSeedingXLayers (PrAlgorithms v1r8)
  . Speed improvements in clustering (VPAlgorithms v4r2)

- Bug fixes
  . Fixed bug when making R cluster VELO tracks crossing sectors
    (FastVelo v1r14, also in v44r8p1 branch release)
  . Fixed inconsistency PatFwdTool.cpp in fitStereoCandidate where a x layer 
	  was marked as a stereo layer
    (PatAlgorithms v4r29, also in v44r8p1 branch release)
  . Fix in RecMoniConf, was crashing when expertHistos were enabled and
    CheckEnabled was false (RecConf v2r15)
  . Fixed eta range in TrackIPResolutionChecker (TrackCheckers v4r19)
   
- Bug fixes (Upgrade only)
  . No SPD/Prs property is only set if no user RecoSequence is defined 
    or if "PROTO" is in user RecoSequence (Configuration.py)
  . Fixes for the No M1 setup: a few bugs to correctly pick the station
    index and set FindQuality to false because Chi2MuIDTool is not yet fixed to
    no M1 case (MuonID v9r8)
  . Fix uninitialized pointers in various Pr Classes (PrAlgorithms v1r8)
  . Fix initialize/finalize memory leak in PrHitManager (PrKernel v1r3)
  . Fix uninitialized pointers, change track history to PrVeloUT (PrVeloUT v1r3)

- Changes to QMTests
  . Updated full Upgrade test suite and removed old tests.
  . Add test and options for reprocessing of 2013 pA data without GECs. Includes
    event that was failing prior to FastVelo fix (brunel.repro-2013pa)
  . Added tests of DecoderDB use cases, mainly in existing tests but also new
    tests splittostrip17rawevent and repro2012recombine
  . brunel-mc11a-xdst now also writes out xdst

- Changes to example options
  . Remove explicit setting of DATAFILEs, pick them up from PRConfig TestFileDB
    Requires PRConfig > v1r6p3

- Updated valgrind.job to use gaudirun.py directly

</PRE><H1><A NAME=v44r8p1>2013-11-21 Brunel v44r8p1</A></H1><PRE>
This version uses projects LCG 66, Gaudi v23r10, LHCb v36r3, Lbcom v14r3,
 Rec v15r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Patch release for 2013 Heavy Ion reprocessing.

- Bug fixes
  . Fixed bug when making R cluster VELO tracks crossing sectors (FastVelo v1r14)
  . Fixed inconsistency PatFwdTool.cpp in fitStereoCandidate where a x layer 
	  was marked as a stereo layer (PatAlgorithms v4r29)

V</PRE><H1><A NAME=v44r8>2013-10-25 Brunel v44r8</A></H1><PRE>
This version uses projects LCG 66, Gaudi v23r10, LHCb v36r3, Lbcom v14r3,
 Rec v15r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Changes to configuration
  . physics Sequence   :  CaloBankHandler setup via CaloDigitConf
                          (Calo decoding and ProcStatus conversion)
  . MCChecker sequence :  Calo checkers sequence via CaloMoniDstConf
  . Remove the temporary switch to disable CaloPhotonChecker
    (algorithm removed from CaloMoniDstConf for now)
  . Added some lines for NoSpdPrs

- New functionality
  . Now possible to reconstruct Upgrade configurations without Prs/Spd. Note
    however that Calo PID algorithms have not been retuned for absence of Prs/Spd
    (CaloDAQ v4r36, CaloInterfaces v8r7, CaloUtils v10r2, GaudiConf v17r13,
     CaloAssociators v6r13, CaloMoniDst v5r15, CaloPIDs v5r15, CaloReco v5r17,
     CaloTools v6r7, GlobalReco v6r46)

- New tuning
  . Changed default value of UseSlopeCorrection to False (PatPixel v1r3)

- Performance optimisation
  . Improved speed of TrackStateVertex (TrackKernel v1r18)

- Bug fixes
  . Bug fixes in pointToChannel and channelToPoint functions of DeVPNewSensor
    (VPDet v2r4)
  . Fixed iterator for clustering search (VPAlgorithms v4r1)
  . Fixed bug in container access in FastVeloHitManager.cpp when more than 
    10k clusters in the event (needed for the pA data) (FastVelo v1r13)
  . Add missing constructor data member initializers in MuonTrackMomRec
    (MuonTrackRec v3r10)
  . Fix behaviour of flag 'fromB' in PrChecker to only include B baryons and
    mesons, and not particles from string fragmentation of b quarks
    (follow-up of change in Gauss, r159594) (PrMCTools v1r7)
 
- Monitoring changes
  . Issue a warning if a non-default track type is used (TrackSys v7r13)
  . Add to the valgrind suppressions file, Gaudi.supp, some entries to suppress
    warnings when accessing data via XRootD (GaudiConf v17r13)

- Changes to QMTests:
  . Removed VL tests and references.
  . Added VP_Compact_MicroChannel-UT-FT_Mono-Muon_NoM1 test and reference file.
  . Renamed VP_Compact_MicroChannel-UT-FT_Mono test to be consistent with other
    tests. 
  . Updated many references after Calo changes.
  . Fix repro2012magdown test following Calo changes
  . Removed one option from no_spdprs test also removed option file.

</PRE><H1><A NAME=v44r7>2013-10-04 Brunel v44r7</A></H1><PRE>
This version uses projects LCG 66, Gaudi v23r10, LHCb v36r2, Lbcom v14r2,
 Rec v15r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Development release

- Platform support
  . Support for x86_64-slc6-gcc47 removed, replaced by x86_64-slc6-gcc48

- New functionality
  . Fix problems when running without M1, no M1 configuration now fully
    supported (MuonID v9r7)
  . Support for new VP sensor description and reorganisation of VP detector
    description (LHCbKernel v14r3, VPDet v2r3, VPDAQ v2r4, Lbcom+Rec packages) 
  . Add VPDigit raw bank decoding (DAQEvent v9r13, VPDAQ v2r4)
  . Add cheated PR for VP detector (PrMCTools v1r6)
  . Add support for Rich reconstruction with PMTs in Upgrade 
    (RichRecPhotonTools v1r12, RichRecTools v2r24, RichDet v6r19)

- New tuning
  . Split polynomial fit function for velo + VP (PrMCTools v1r6)
  . Introduced a scalefactor for the pixel signal calculation so that one can 
    give different weights to Rich2 signals compared to Rich1 signals for 
    example. This is applied only in the case of PMTs (RichRecPhotonTools v1r12)
  . VP tracks fit on multiple scattering model, instead of a straight line,
    improves hit efficiency (and IP resolution as a result) (PatPixel v1r2)
  . Removed MC09 specific tuning (TrackSys v7r12) 
  . Update default database tags to the latest ones (DDDB v1r64)
    o LHCBCOND, 2013, 2012      : cond-20130710
    o LHCBCOND,             2011: cond-20130522
    o DDDB,     2013, 2012      : head-20130503-1
    o DDDB,                 2011: head-20130503
  
- Bug fixes
  . Fix bug in TimeAccounting.cpp to avoid writing multiple timeSpanFSRs when
    processing more than one input file (LumiAlgs v8r2, LumiEvent v3r5)
  . Fix bug in PatSeedingTool which disabled protection against hot events 
    in the OT when disabling protection against hot events in IT
    (PatAlgorithms v4r28)
  . Fix for wrong z position of FibreMat in DeFTFibreMat.cpp (FTDet v2r3, v2r3p1)

- Performance optimisation
  . Move some calculations from the event loop to initialize()
    (RichRecPhotonTools v1r12)
  . Use vdt::fast_exp in PhotonSignalGaussProb (RichRecPhotonTools v1r12)
  . Import some Upgrade specific tunings and tweeks (RichRecSys v4r8)
  . Remove unnecessary repeated accesses to TES from inside a loop in
    VeloTrackMonitor.cpp (VeloRecMonitors v2r27)
  
- Monitoring changes
  . Add some specific tuning options for DataType="Upgrade". Currently just
    disables the use of Aerogel (RichRecQC v2r63)
  . Add AlignmentOnlineMonitor to default sequence. Produces residual plots to
    check the alignment in OnlineBrunel (TrackMonitors v1r46)

- Changes to QMTests:
  . Add brunel-upgrade-calo_nospdprs to tests
    o Added relevant options to $BRUNELROOT/tests/options
    o Test will fail until problem is fixed.
  . Fix a bug in the exclusions file, introduced in v44r5, that meant that
    comparisons with reference were always successful.

</PRE><H1><A NAME=v44r6>2013-07-26 Brunel v44r6</A></H1><PRE>
This version uses projects LCG 65a, Gaudi v23r9, LHCb v36r1, Lbcom v14r1,
 Rec v15r1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Development release for Fibre Tracker upgrade productions

- New functionality
  . Add support for new FT detector description, keeping support also for old
    version (FTDet v2r2,PrAlgorithms v1r6, TrackFitEvent v5r23, TrackTools v4r25)

- New tuning
  . Modifications of default parameters (in particular for space tracking) 
    (PrVL v1r4)
  . Added pT dependent window and printout (PatVeloTT v4r1, PrVeloUT v1r2)

- Bug fixes
  . In PatVeloTTTool, set passUnmatched default to false
	  (reverts change made in Brunel v45r0) (PatVeloTT v4r1)
  . Fix segfault in gcc 4.8 optimised build (PatAlgorithms v4r27)

- Performance optimisation
  . Use VDT for a couple cos and sin calculations
    (RichDet v16r18, RichRecPhotonTools v1r11)
  . Remove empty finalize methods (CaloMoniDst v5r14, MuonID v9r6, 
     MuonTrackAlign v1r10, MuonTrackMonitor v2r8, rackMonitors v1r45, VPDAQ v2r3)
  . Reduce calls to phiOfStrip by pre-calculating R sector of each Phi hit
    (PrVL v1r4)

- Monitoring changes
  . Add HistoCountersPrint property to GaudiHistos, to control printing of
    booked histogram statistics in finalize() (GaudiAlg v14r6)
  . Reduced verbosity in PrVeloUTTool, use PrintVariables flag (PrVeloUT v1r2)

- Changes to example options
  . Remove COLLISION10-Beam3500GeV-VeloClosed-MagDown.py, now in PRConfig

- Changes to tests
  . Increase timeout to 3600 seconds for long tests, avoids timeout in dbg tests
  . Fix a bug in the exclusions file, introduced in v44r5, that meant that
    comparisons with reference were always successful.
  . Pick up input files from CERN-SWTEST (EOS), new location for 'freezer'
  . Updated all upgrade tests to latest DEV DB tags.
  . Updated all upgrade tests to use "Upgrade" DataType.

</PRE><H1><A NAME=v44r5>2013-06-07 Brunel v44r5</A></H1><PRE>
This version uses projects LCG 65, Gaudi v23r8, LHCb v36r0, Lbcom v14r0,
 Rec v15r0 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Development release for Upgrade productions

- Changes to external packages (LCGCMT 65). Main changes:
  . ROOT 5.34.07a (was 5.34.05)
  . Boost 1.50.0 (was 1.48.0)
  . HepMC 2.06.08 (was 2.06.05)
  . Python 2.7.3 (was 2.5.5p2)
  . Full list at http://lcgsoft.cern.ch/index.py?chkbox0=64d&chkbox1=65&show=diffs&page=compare

- Functionality changes
  . Supports configurations without M1
    (TrackTools v4r24, MuonDet v9r12)
  . Modified StalledEventMonitor to be able to print a stack trace of the 
    stalled process and abort the execution (GaudiUtils v4r5)

- New tuning
  . PatVeloTTTool by default now returns one track per velo candidate even
    if no TT match is found (PatVeloTT v4r0)
  . PrForward track now picks up state closest to the end of velo
    (PrAlgorithms v1r5, also in Brunel v44r4p1)
  . Modifications after change of stereo angles
    (PrVL v1r3, also in Brunel v44r4p)
  . Add a specific ANNPID tuning for 2013 data, using "MC12TuneV2"
    (ChargedProtoANNPID v2r2)
  . Implemented a simple fixed-noise kalman filter to improve IP resolution
    (PatPixel v1r1)
 
- Persistency changes
  . Fix bug in WritePackedDst where && insead of & was accidentally used
    (EventPacker v3r1)
  . Add Ecal and Hcal linkers back to standard DSTs, as they are needed for MC
    matching in DaVinci (GaudiConf v17r10)

- Performance optimisation
  . Use getIfExists (HltDAQ v2r17)
  . Remove unused finalize methods
    (CaloPIDs v5r14, CaloTools v6r5p1, CaloDAQ v4r34, CaloDet v10r16p1)

- Bug fixes
  . Fix in PrForwardTool when using momentum estimate
    (PrAlgorithms v1r5, also in Brunel v44r4p1) 
  . Fixed old bug in LHCb::TrackTraj::distTo1stError and
    LHCb::TrackTraj::distTo2ndError (TrackKernel v1r15)
  . Fixed operator precedence order issue for ? and + in 
    LHCb::TrackTraj::distTo1stError and LHCb::TrackTraj::distTo2ndError
    (TrackKernel v1r15)
  . Bugfix for VL (TrackKernel v1r15)
  . Fix clang32 and gcc48 warnings, UNINIT_CTOR defects
    (RecSys v15r0, LbcomSys v14r0, LHCbSys v36r0)
  . Fix bug in sequencer timer (GaudiAlg v14r5)

- Changes to tests
  . vl_compact tests updated to use the new optimised geometry
    (local tag VL-CompactOptimize-Local-20130527, also in Brunel v44r4p1)
  . Add exclusion for MC12TuneV2 INFO messages from ANNPID (introduced in
    ChargedProtoANNPID) in all Rec/Brunel tests. Their existence is tested
    with a reference block in the brunelsys test.
  . In brunelsys.qmt, added a reference block to check existence of 
    MC12TuneV2 INFO messages from ANNPID

</PRE><H1><A NAME=v44r4>2013-05-02 Brunel v44r4</A></H1><PRE>
This version uses projects LCG 64d, Gaudi v23r7, LHCb v35r6, Lbcom v13r6p1,
 Rec v14r6 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Development release for Upgrade productions

- Changes to supported platforms
  . Now supports build with CMake, gcc47, clang32
    (Rec v14r6, Lbcom v13r6, LHCb v35r6)

- Configuration changes
  . Fixes to monitoring sequence to allow for missing detectors in Upgrade
    configurations (RecConf v2r13, TrackMonitors v1r44)
  . Removed dependency on ChargedProtoANNPIDParam (ChargedProtoANNPID v2r0)  
  . Update the CMT and CMake configurations of ChargedProtoANNPID to only enable
    Neurobayes on platforms that it supports. TMVA is now default for 2011 and
    2012 data types (ChargedProtoANNPID v2r0) 
  . Updated default database tags to the latest ones (DDDB v1r62):
    o LHCBCOND, 2013, 2012, 2011: cond-20130404
    o DDDB,     2013, 2012      : head-20130312-1
    o DDDB,                 2011: head-20130312
    o DQFLAGS   2013, 2012      : dq-20130418
  . No longer set the -DRICHDEBUG flag in debug builds, as no longer used
    (Rich/RichKernel v7r53)

- New functionality
  . Add support for reprocessing from split RawEvent (i.e. from DST) for upgrade
    configurations (FTDAQ v1r3, VLDAQ v1r4, VPDAQ v2r2) (Also in Brunel v44r3p1)
  . Add support for compressed CondDB
    (DetCond v12r30, CondDBUI v3r22, CondDBEntityResolver v5r5)

- New tuning
  . Added check for backward velo tracks in Upgrade forward tracking
    (PrAlgorithms v1r4)
  . Put back check for VL overlap tracks (PrVL v1r2)
  . Modifications for VL compact design (PrVL v1r1) (Also in Brunel v44r3p1)
  . Replace UpgradeBestTrackCreator by TrackBestTrackCreator in upgrade 
    configurations (TrackSys v7r11)
  . Add new MC12TuneV2 network tuning (ChargedProtoANNPID v2r0):-
    o Based on high statistics training using new MC12 inclusive B samples.
    o Uses TMVA instead of Neurobayes as MVA technology.
    o Gives slightly PID better performance.
      + Much faster implementation due to use of compiled TMVA macros.
  . Drop support for obsolete ANN PID tunings (parameters not imported).
    Only MC12TuneV1 and MC12TuneV2 now supported. (ChargedProtoANNPID v2r0)

- New optimisations
  . Rework the code to compute the input variables to the ANN PID networks,
    to remove the remaining CPU overheads. (ChargedProtoANNPID v2r0)
  . Remove the use of a full track selector tool, as we are only using it to
    select the correct track type. More efficient to just do it directly.
   (ChargedProtoANNPID v2r0)
  . Some minor CPU optimisations (/RichDet v16r17)

- Bug fixes
  . Fix for 2pi -> 0 transition in VL overlap region (PrVL v1r2)
  . Remove spurious factor 2 in VPLite error (TrackFitEvent v5r22)
  . Fix incorrect setting of STMeasurement type for UT (TrackFitEvent v5r22)
  . Fixes in TrackMonitor and TrackVertexMonitor to make them work for upgrade
    (TrackMonitors v1r44)
  . TrackCloneData: bug fixes + adapted for upgrade (TrackKernel v1r13, v1r14)

- Monitoring changes
  . Improved PV monitoring (TrackCheckers v4r16)
  . Added code for track multiplicity information  (TrackCheckers v4r16)
  . Added code to distinguish secondaries from primaries & from ghosts
    (TrackCheckers v4r16)
  . Improved and simplified variable binning for 2D histograms
    (TrackMonitors v1r44)
  . Added a few new histograms (tx, ty, mass vs. tx, mass vs. opening angle)
    (TrackMonitors v1r44)

- Changes to tests
  . Update test files and references for latest fixes to upgrade geometries
  . Pick up options files for input files from PRConfig package. This is
    future proofing for changes to physical location of input data
  . Add dependency on PARAM/QMTestFiles, which now contains the small input
    data files used by 2011-crashes, 2012-crashes and bigevents test, previously
    in /castor/cern.ch/user/c/cattanem.
  . Remove enabling of ANN Neurobayes printout from tests using 2011 or 2012
    data, since NeuroBayes is no longer run by default for these DataTypes

- Changes to example options
  . Remove options files that are duplicated in PRConfig package 

</PRE><H1><A NAME=v44r3>2013-03-26 Brunel v44r3</A></H1><PRE>
This version uses projects LCG 64d, Gaudi v23r7, LHCb v35r5, Lbcom v13r5,
 Rec v14r5 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

- Release for Upgrade productions

- Changes to supported platforms
  . Full support for x86_64-slc6-gcc46 (Gaudi v23r7 + LCG 64d)

- Changes to configuration
  . Support for all upgrade tracking detector configurations
    (RecAlgs v2r13, RecConf v2r12, LHCbAlgs v2r55)
  . Added support for TMVA based network tunings (ChargedProtoANNPID v1r12)
  . Use VL instead of VeloLite CondDB path (VLDet v1r5)

- Persistency changes
  . RecSummary added to DST also for upgrade detectors (GaudiConf v17r7)
  . Add back Ecal and Hcal linkers to standard DSTs, as they are needed for
    MC matching in DaVinci (removed in Brunel v44r1)

- New tuning
  . New algorithm PrSeedingXLayers replaces PrSeedingAlgorithm as default for FT
    seeding (PrAlgorithms v1r3, TrackSys v7r10)
  . Fixed track type (Long -> Ttrack) in PrSeedingAlgorithm and PrSeedingXLayers
    (PrAlgorithms v1r3)
  . Added PatMatch to upgrade sequence (TrackSys v7r10)
  . Added PrAddUTCoord to PrForwardTool (PrAlgorithms v1r3)
  . Changed default UT size and hole shape (PrVeloUT v1r1)
  . Added "Upgrade" key to NetworkVersions property. New key maps to "MC12TuneV1"
    which is the same as the "2012" key (ChargedProtoANNPID v1r12)
  . Modified energy loss correction factor in RecoTracking.py to be consistent
    with Sim08 (also on v7r6p1 branch) (TrackSys v7r10)
  . Update default database tags for 2011,2012,2013 (Reco14 setting) (DDDB v1r61)

- New optimisations
  . Improved access to the RecSummary data object to prevent multiple loads from 
    the TES each event (ChargedProtoANNPID v1r12)

- Monitoring changes
  . Added UT to PrTrackAssociator (Pr/PrMCTools v1r3)
  . Implemented basic efficiency checking for Matching, Downstream and Upstream
    tracking in upgrade configuration (Pr/PrMCTools v1r3)
  . Print some basic statistics of the ANNPID distributions during finalize,
    to help monitor for instabilities in the expert (ChargedProtoANNPID v1r12)
  . In PatChecking.py: Remove PrimaryVertexChecker from Check sequence, since
    it requires HepMC, no longer available in MC DSTs by default (from Sim08)
    (also on v7r6p1 branch) (TrackSys v7r10)
  . Minor changes to TrackParticleMonitor (TrackMonitors v1r43)

- Bug fixes
  . Added extra protection when Velo track has no state at end of Velo
    (PrVeloUT v1r1)
  . Bugfix in VLClusterPosition tool (inter-strip fraction) (TrackTools v4r22)

- Changes to tests
  . In brunel2012magdown, add a reference block to monitor ChargedProtoANNPID
    histogram statistics
  . Add sim08 test to test compatibility with .digi files from sim08 productions
  . Add several tests for the various upgrade configurations

</PRE><H1><A NAME=v44r2>2013-02-18 Brunel v44r2</A></H1><PRE>
This version uses projects LCG 64c, Gaudi v23r6, LHCb v35r4, Lbcom v13r4,
 Rec v14r4 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first upgrade simulation productions

- Changes to supported platforms
  . Add support for x86_64-slc6-gcc46 (I/O via Castor client not yet supported)
  . Remove support for i686-slc5-gcc43

- Functionality changes
  . Add support for three baseline upgrade detector configurations
    (See Rec+Lbcom+LHCb release notes for all new upgrade related packages)

- Changes to configuration
	. Added "Detectors" property to Brunel configurable. This switches on/off
    all detector specific code throughout the application, including persistent
    objects on the output file. Default is 2012 detectors, no change in default
    behaviour relative to Reco14

- Changes to persistency
  . Add back MC/TrackInfo to MC DST (GaudiConf v17r5, broken in Brunel v44r1)
  . Do not save Rich and Muon Digitisation summary objects by default, only
    in XDSTs (GaudiConf v17r3)
  . Fix OptItemList for /Event/Gen/HepMCEvents and ItemList for
    /Event/Gen/BeamParameters, in both cases there was a missing #1.
    (GaudiConf v17r2, broken in Brunel v44r1, v44r0)

- New optimisations
  . Add back an approximate log(exp(x)-1) implementation. Gains a signficant 
    speed up (factors of 3 or more) in the likehood (RichGlobalPID v3r20)
  . Remove check on full bank length when decoding Velo lite clusters, add
    corresponding protection to full decoding (VeloDAQ v6r9)
  . Avoid creating multiple instances of OTHitCreator (PatChecker v3r14)
  . Various minor fixes (remove unused finalize specialisations, use getIfExists)

- Changes to monitoring
  . Add a job option to enable NeuroBayes printout to stdout and stderr
    (previously forcibly removed, now off by default) (ChargedProtoANNPID v1r11)
  . Additional profile histograms for track resolution (TrackCheckers v4r15)
  . Bad Velo bank length flagged in ProcStatus (VeloDAQ v6r9)

- Changes to example options
  . Remove 2009-FEST-Data.py, obsolete since these data have been deleted

- Changes to tests
  . Add NameAuditor to brunel-mc10-withtruth test to monitor changes in
    called components, and debug causes of non reproducible Brunel exits
  . Enable printout from ANNPID in most tests, to follow any new problems
    caught by NeuroBayes
  . Remove brunel-fest09 test since input data no longer exists
  . Change brunel2010magup test to create Online rather than Express
    historgams (Online histograms previously only tested in brunel-fest09)
  . Remove configurables test, redundant with those in RecSys and LbcomSys

</PRE><H1><A NAME=v44r1>2012-11-30 Brunel v44r1</A></H1><PRE>
This version uses projects LCG 64b, Gaudi v23r5, LHCb v35r3, Lbcom v13r3,
 Rec v14r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development release, post Reco14

- Platform support
  . Introduces support for CMake and C++11 builds

- Changes to configuration
  . Do not use SequencerTimerTool to MeasureTime, duplicates measures already
    done by TimingAuditor

- Persistency changes (GaudiConf v17r0)
  . Make saving of HepMCEvents optional (was mandatory), allows Gauss to create
    Sim files without HepMCEvents
  . Never save HepMCEvents for Spillover slots
  . Do not save Digit to MCParticle linkers on default MC DST,
    saved only if DstConf().SimType = "Extended"

- Physics performance changes
  . New default global tags (DDDB v1r59)
    o LHCBCOND, 2012: cond-20121108 (Reco14 calibrations to October 2012)
    o LHCBCOND, 2011: cond-20120724 (was cond-20120829, which is only for 2012)
  . Add more states to Downstream tracks (TrackExtrapolators v2r33) 
  . Switch interpolator in TrackNNGhostId from cspline to linear, fixes negative
    ghost probabilities (TrackTools v4r20) 
  . Updates to Aerogel Rich photon reconstruction (RichRecPhotonTools v1r10)
  . Loosen Aerogel selection cuts (RichRecSys v4r7)

- Computing performance optimisations
  . Protect many unprotected debug and verbose messages
  . Use getIfExists wherever possible, instead of separate exist and get calls
  . Remove finalize() in derived classes if it only calls the base class
  . New exit code (0x10) to flag corrupted input file
    (RootCnv v1r19, GaudiKernel v28r4)

- Bug fixes
  . Fix bug in RecInit, introduced in v2r9, whereby RecHeader::rawID is filled
    with an empty string rather than name of the raw file. Affects Reco14
    (RecAlgs v2r11)
  . Error conditions during initialize (like failure to open a file) are now
    correctly propagated to application exit code (GaudiCoreSvc v1r3)
  . Propagate correct exit code after a segfault in C++ (Gaudi v23r5)
    
- Changes to tests
  . Update input data for 2011 test to more typical run 103370

</PRE><H1><A NAME=v44r0>2012-10-04 Brunel v44r0</A></H1><PRE>
This version uses projects LCG 64a, Gaudi v23r4, LHCb v35r2, Lbcom v13r2,
 Rec v14r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development release, post Reco14

- Changes to configuration
  . If MC Checking is enabled, run the expert Proto monitors in the 
    check sequence

- Persistency changes
  . Remove conversion of Calo raw banks from 'packed' to '0-suppressed'
    (CaloDAQ v4r30)

- New tuning
  . Update default DDDB tags (DDDB v1r58)
    o DDDB, 2012: dddb-20120831: new modelling of RF foil
    o LHCBCOND, 2012: cond-20120917: Reco14 calibrations to June 2012
  . New TrackNNGhostID tuning now runs in standard tracking sequence and is
    picked up by default as input to ANNPID (RecConf v2r9, TrackSys v7r7)
  . TrackNNGhostID updated on Reco14, for use in postReco14 (TrackTools v4r19)
  . Use new getIfExists TES access rather than if exists() {get();}
  . Memory optimization for Root output buffers (RootCnv v1r18, v1r17)
      RootCnvSvc().BasketSize = 2*MBYTE
      RootCnvSvc().BufferSize = 2*kBYTE
      RootCnvSvc().SplitLevel = 0

- Monitoring changes
  . Fixed bug #95733: GaudiKernel::ToStream truncates numbers &lt; 1e-8
    Use ios::showpoint instead of ios::fixed (GaudiKernel v28r3)
  . Patch #5518: save TimingHistograms in job histograms (GaudiAlg v14r3)

</PRE><H1><A NAME=v43r2p5>2013-02-15 Brunel v43r2p5</A></H1><PRE>

Patch release built on v43r1p2b branch, for Reco14 simulation.

- Changes to persistecy
  . Add back MC/TrackInfo to MC DST (GaudiConf v17r4p1, broken since v43r2p3)
  . Only save Rich + Muon Digitisation summary objects in XDSTs (GaudiConf v17r3)

- Changes to monitoring
  . Put back forcible suppression of stdout and stderr printout from NeuroBayes
    by default, can now be switched via a job option (ChargedProtoANNPID v1r11)

- Changes to example options
  . Remove 2009-FEST-Data.py, obsolete since these data have been deleted

- Changes to tests:
  . Remove brunel-fest09 test since input data no longer exists  

</PRE><H1><A NAME=v43r2p4>2013-01-31 Brunel v43r2p4</A></H1><PRE>

Patch release built on v43r1p2b branch.
Version for Reco14 simulation and Reco14 2011 reprocessing.

- Changes to monitoring
  . Turn off forcible suppression of stdout and stderr printout from NeuroBayes,
    to track down reason for occasional exit(1) (ChargedProtoANNPID v1r10)

</PRE><H1><A NAME=v43r2p3>2012-12-17 Brunel v43r2p3</A></H1><PRE>

Patch release built on v43r1p2b branch.
Version for Reco14 simulation and Reco14 2011 reprocessing.

- New tuning (GaudiConf v17r0)
  . Add tuning for BufferSize to FSR service (512 Bytes) for optimization, 
    see Core Soft meeting, indico.cern.ch/conferenceDisplay?confId=207776
  . Memory optimization for Root output buffers (RootCnv v1r18, v1r17)
      RootCnvSvc().BasketSize = 2*MBYTE
      RootCnvSvc().BufferSize = 2*kBYTE
      RootCnvSvc().SplitLevel = 0

- Changes to persistency (GaudiConf v17r0)
  . Make saving of HepMCEvents optional (was mandatory), allows Gauss to create
    Sim files without HepMCEvents
  . Never save HepMCEvents for Spillover slots
  . Do not save Digit to MCParticle linkers on default MC DST,
    saved only if DstConf().SimType = "Extended"

- Bug fixes
  . Fix bug in RecInit, introduced in v2r9, whereby RecHeader::rawID is filled
    with an empty string rather than name of the raw file. Affects Reco14
    (RecAlgs v2r11)

</PRE><H1><A NAME=v43r2p2>2012-08-28 Brunel v43r2p2</A></H1><PRE>

Patch release built on v43r1p2b branch, for Reco13e/Reco13f/Reco14.

- Bug fixes
  . TrackNNGhostId: Fix a bug in the last fix, limiting the NN output range
    to 0-1 (TrackTools v4r18)

</PRE><H1><A NAME=v43r2p1>2012-08-28 Brunel v43r2p1</A></H1><PRE>
This version uses projects LCG 64, Gaudi v23r3, LHCb v35r1p1, Lbcom v13r1p1,
 Rec v14r1p1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Patch release built on v43r1p2b branch, for Reco13e/Reco13f/Reco14.

- Bug fixes
  . TrackNNGhostId: fix NN output value to range 0-1 (TrackTools v4r17)

</PRE><H1><A NAME=v43r2>2012-08-16 Brunel v43r2</A></H1><PRE>
This version uses projects LCG 64, Gaudi v23r3, LHCb v35r1p1, Lbcom v13r1p1,
 Rec v14r1p1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Patch release built on v43r1p2b branch, for Reco13e/Reco13f/Reco14.

- New Tuning
  . Added a second instance of TrackAddNNGhostId, running after ProtoParticle
    creation, that updates the TrackNNGhostID of long tracks based on MC 2012
    tuning (TrackTools v4r16, RecConf v2r8, TrackSys v7r6)
  . Updated the default ANN PIDtuning for 2012 and 2011 to MC12TuneV1, trained on
    a preliminary sample of 2012 B inclusive MC processed with Reco13d.
    (ChargedProtoANNPID v1r8)

</PRE><H1><A NAME=v43r1p2>2012-08-10 Brunel v43r1p2</A></H1><PRE>
This version uses projects LCG 64, Gaudi v23r3, LHCb v35r1p1, Lbcom v13r1p1,
 Rec v14r1p1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 simulation

- Bug fixes (persistency change)
  . In DigiConf, made writing of Trig/L0/Calo to MCParticle links optional, since
    these objects are no longer created by default from Boole v25r0 

</PRE><H1><A NAME=v43r1p1>2012-07-31 Brunel v43r1p1</A></H1><PRE>
This version uses projects LCG 64, Gaudi v23r3, LHCb v35r1p1, Lbcom v13r1p1,
 Rec v14r1p1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking

- New tuning
  . Revert to using standard Boost memory pools for TES objects, since ordered
    pools introduced in Brunel v43r1 were causing huge penalty in CPU time
    (several seconds per event when clearing TES at the end of the event)
    (Now using GaudiObjDesc v11r14 instead of v11r15)
  . Minor CPU performance improvements:
    o Replace separate TES exist<>() + get<>() calls with getIfExists
      (OTDAQ v7r4, TrackMonitors v1r40)
    o Do not perform level1HardwareID DB update if associated check is disabled
      (RichDAQ v3r38)
  . New default DDDB tags (DDDB v1r57):
    o LHCBCOND, 2011, 2012: cond-20120730
      (updates rich2-20120730 (new HPD numbers for data after 2012-07-30 15:00)
       and ehcal-20120725 (Ecal+Hcal calibration update for 2012))
    o DDDB, 2011: dddb-20120727
      (updates magnet-20120405 (beampipe supports), velo-20120120 (R sensor M2
       routing lines) and ot-20111214 (connection pieces for T2+T2) were not
       propagated to a 2011 global tag)

- Bug fixes
  . Fix an issue in Rich RawDataSize monitoring where RawEvent object was not
    found when reprocessing from DST (RichRecQC v2r60)

- Monitoring changes
  . Introduced IP chi2 cut in TrackV0Monitor after loosening it in TrackV0Finder
    in Brunel v43r1. This should take care that online monitoring will not
    suddenly see much dirtier Ks list (TrackMonitors v1r40)

</PRE><H1><A NAME=v43r1>2012-05-26 Brunel v43r1</A></H1><PRE>
This version uses projects LCG 64, Gaudi v23r3, LHCb v35r1, Lbcom v13r1,
 Rec v14r1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking

- Persistency changes
  . Added FitTrackUsedOTTimes and NCandCommonHits ExtraInfo to persistent track
    (TrackEvent v5r17, TrackFitEvent v5r17, TrackFitter v4r8, TrackUtils v1r48)

- New tuning
  . Loosened cuts in TrackV0Finder to make it much more efficient for Ks from B.
    (TrackUtils v1r49, RecConf v2r7)
  . New default tuning for 2011 and 2012 data from CondDB tag cond-20120724
    o New Rich front end numbers for data after June 2012 TS
    o New HPD quantum efficiencies and average conditions predictions
    o New baseline calo calibration and electron PID tuning
  . Unused memory released from Boost memory pools whenever total VMEM exceeds
    2GB (tested every 100 events) and before finalize
    (GaudiObjDesc v11r15, LHCbKernel v13r12)
  . Use new TES getIfExists function instead of separate exist and get calls
    (CaloDAQ v4r29, DAQUtils v1r9, EventPacker v2r18)
  . Speed improvements to primary vertex finder (PatPV v3r24)

- New monitoring
  . Add RawDataSize plots (RichRecQC v2r59)
  . Add zoom histo for distribution of number of clusters (VeloRecMonitors)
  . Print VMEM if it has changed in last 100 events (LHCbKernel v13r12)

- Changes to tests
  . Change brunel.brunel2010magdown timeout to 2400 seconds
  . Disable Rich RawDataSize plots in brunel2012magdown and repro2012magdown
    tests the number of histogram differs when reading from DST, making
    comparison impossible

</PRE><H1><A NAME=v43r0>2012-06-27 Brunel v43r0</A></H1><PRE>
This version uses projects LCG 64, Gaudi v23r3, LHCb v35r0, Lbcom v13r0,
 Rec v14r0 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking

- Changes to configurable
  . HltRecReports now decoded unconditionally on every event
  . L0DU now decoded unconditionally on every physics event
  . Do not run InitReprocSeq if not reprocessing

- Persistency changes
  . (S)DST now contains a complete copy of RawEvent, split into groups of banks:
    {Calo,Muon,Rich,Trigger,Other}/RawEvent
		o Access to original DAQ/RawEvent is removed.
    o Since SDST content is now identical to DST, SDST format is declared 
      obsolete (but still supported as an output type)
    (CaloDAQ v4r28, DAQUtils v1r8, DAQEvent v9r8, GaudiConf v16r0, MuonDAQ v4r14,
     OTDAQ v7r13, RichDAQ v3r37, STDAQ v3r28, VeloDAQ v6r7, RecAlgs v2r9)
  . Add CaloHypo->MC linkers to MC DSTs (GaudiConf v16r0)

- New tuning
  . Use LHCBCOND tags head-20120607 by default for 2011 and 2012 data:
    o New module t0 database based on run 114318 of 2012 (DDDB v1r55)
  . Get Calo Cluster covariance parameters from DetCond Gain condition.
    Incoherent noise now 1.2 ADC for both data and MC (was 1.3 for data)
    (CaloDet v10r14, CaloReco v5r15)
  . Add covariance matrix for SplitClusters and SplitPhotons
    (CaloReco v5r15, CaloInterfaces v8r4, CaloUtils v9r4, CaloTools v6r4)
  . Allow spd-dependent PileUp subtraction (CaloDet v10r14, CaloReco v5r15)
  . Make default network tuning for 2010, 2011 and 2012 "MC11aTuneV3"
    (ChargedProtoANNPID v1r7)
  . Remove CK theta correction factor for Aerogel, taken care of in calibration
    (RichRecSys v4r6)
  . Improve FastVelo clone rejection (FastVelo v1r10)
  . Reject faster wrong combination in findUnusedPhi, when two phi were
    diametrically opposite (FastVelo v1r10) 

- Functionality changes
  . Fix DeRichGasRadiator to allow the scale factors to be used Online
    (RichDet v16r11)
  . Add 'Calo' to the MCLinksSequence and run CaloHypo2MCTruth
    (CaloAssociators v6r11)

- Bug fixes
  . Bug fix in FastVelo beam splash handling (FastVelo v1r10)
  . Fix unprotected debug and verbose messages
    (GaudiCommonSvc v1r2, DAQUtils v1r8, OTDAQ v7r13, RichDAQ v3r37)
  . Fix bug #95019 (missing import in case of OldCloneKiller+Simulation)
    introduced in v42r3p1 (TrackSys v7r4)

- Monitoring changes
  . Reduce the chi^2 range from 0-10 to 0-3, to adapt to tracking changes. Reduce
    the 'tight' track monitoring selection to chi^2 < 2 (RichRecQC v2r58)
  . Update L0Filters for Rich monitoring (RichRecQC v2r58)
  . Enable by default the resolution plots per PD column (RichRecQC v2r58)

- Changes to tests
  . Add a test for bug #94407 in brunel.2012-crashes
  . Add a test for bug #95019 in brunel.brunel-mc09-notruth
  . Add brunel.repro2012magdown to test that reprocessing gives identical
    output to brunel.brunel2012magdown
  . Change the name of the output file of brunel.bigevents, used as input to
    brunel.readdstfsr, so that latter can be executed after any other test


</PRE><H1><A NAME=v42r3p2>2012-05-09 Brunel v42r3p2</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r3, Lbcom v12r3,
 Rec v13r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking and simulation (v42r3b branch)

- Bug fixes
  . Bug #95645: Fixed small memory leak in TrackITOverlapMonitor
    (TrackMonitors v1r38p1)
  . Bug #94407: Changed to dynamic array (vector) for the size of the LHCbIDs in
    the TrackBestTrackCreator internal track container (TrackUtils v1r47)

</PRE><H1><A NAME=v42r3p1>2012-05-08 Brunel v42r3p1</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r3, Lbcom v12r3,
 Rec v13r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 simulation (v42r3b branch)

- Changes to Configurable
  . Propagate "Simulation" slot to TrackSys()
  . Change default DataType to 2012

- New tuning
  . MC11 dEdx correction is now applied by default in case of Simulation.
    (Previously resuired AppConfig options) (TrackSys v7r3)

- Bug fixes
  . Added a protection against FPE (divide by zero) in FastVeloTrack::solve
    (FastVelo v1r9p1)
  . In PrimaryVertexChecker, fix more missing initialisations in RecPVInfo and
    MCPVInfo causing FPE on i686 architecture. (PatChecker v3r12)

</PRE><H1><A NAME=v42r3>2012-05-04 Brunel v42r3</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r3, Lbcom v12r3,
 Rec v13r3 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2012 data taking

- Changes to Configuration
  . Fixes to allow Brunel to run online with condDB snapshop
    (Brunel, DetCond v12r24)
  . OTReadOutWindow algorithms updated to load readOutGate values from database.
    (OTDAQ v7r12)

- New tuning
  . Switch to new TrackBestTrackCreator clone killer. Chi2 cut set to 3.
    (TrackSys v7r2, TrackTools v4r15, TrackUtils v1r46)
  . Update Rich and ProtoParticle track chi^2 cut from 0->10 to 0->5. Since by
    default in the tracking clone killing a cut of 0->3 is now applied, this cut
    does nothing, retained as a sanity check (RichRecSys v4r5, GlobalReco v6r42)
  . Use LHCBCOND tag head-20120420 on 2012 data: new Ecal calibration, Rich 
    mirror alignments, refractive index and HPD image calibrations, OT T0 
    calibration and parameterisation of resolution leading to improved pull vs
    momentum distribution (DDDB v1r54)

- Persistency changes
  . Calo and Muon now report decoding failures in ProcStatus
    (CaloDAQ v4r27
  . Added a ProcStatus when FastVelo clone killing fired to make monitoring
    easier (FastVelo v1r9)
  . Fix a bug in the RecVertex class when a vertex had tracks but no weights.
    (RcEvent v2r42)
  . Change the default initialisation for VertexBase::position from (0,0,-1*km)
    to (0,0,-100*m) to avoid packing truncation issues. (RecEvent v2r42)

- Monitoring changes
  . Use the new EnableCheck functionality of the Packers for the packing tests,
    instead of separate Pack, Unpack, Compare algorithms
    (GaudiConf v15r10, EventPacker v2r16, PackedEvent v4r10)
  . Add minimum bias rate and event time monitors to Hlt monitor sequence
    (HltMonitors v1r5, RecAlgs v2r8)


</PRE><H1><A NAME=v42r2p2>2012-04-13 Brunel v42r2p2</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r2, Lbcom v12r2,
 Rec v13r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version including patches for initial 2012 data taking

- New tuning
  . Update default database tags for 2012, to pick up first 2012 alignment
    (DDDB v1r53)
  . Added a sanity check in FastVelo just before conversion to LHCb::Tracks: if
    there is more than 1 track for every 4 clusters the event should be very 
    aggressively clone killed (default only 10% overlap allowed). Fix cases of
    off axis beam backgrounds causing a combinatoric explosion in the number of
    VELO tracks made and subsequent processing time. See Savannah bug #93550.
    (FastVelo v1r8)

- Bug fixes
  . Fix in PatForward: left-right ambiguity bit of PatFwdHits was not being
    reset when reusing hits (PatAlgorithms v4r21)
  . Add algorithms to convert ROStatus to ProcStatus for Calo and Muon 
    (CaloDAQ v4r27, DAQUtils v1r7, RecConf v2r6)

- Changes to monitoring
  . add eta->gg monitoring (CaloMoniDst v5r10)

- Changes to tests
  . Add 2012-crashes.py. Currently tests fix for huge processing times, 
    bug #93550, fixed in FastVelo v1r8

</PRE><H1><A NAME=v42r2p1>2012-04-04 Brunel v42r2p1</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r2, Lbcom v12r2,
 Rec v13r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for initial 2012 data taking
Identical to v42r2, but with the following fixes

- Bug fixes
  . Fixed https://savannah.cern.ch/bugs/?93382, crash in DeVeloRType when getting
    closest M2 line to points at inner edge of acceptance. (VeloDet v13r18p1)

- Changes to tests
  . Add to 2011-crashes.py a test for bug #93382

</PRE><H1><A NAME=v42r2>2012-03-29 Brunel v42r2</A></H1><PRE>
This version uses projects LCG 62b, Gaudi v23r2, LHCb v34r2, Lbcom v12r2,
 Rec v13r2 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for initial 2012 data taking

- External dependencies changes
  . Uses LCGCMT v62b. Relevant changes are ROOT 5.32.02 and neurobayes 3.7.0

- Persistency changes
  . Add HltRoutingBits and HltVertexReports to Trigger/RawEvent on SDSTs
  . Remove ProcessHeader::m_randomSeeds since they are not used anywhere and
    causes portability problems with persistency of vector<long>
    (EventBase v3r0, RecAlgs v2r7, RichParticleSearch v1r6)
  . Fix the packing of RichPID and MuonPID objects, where the key was not
    properly restored (PackedEvent v4r8)

- Configuration changes
  . New default global tags for 2012 DataType, first usable tags for 2012 data:
    o DDDB,     2012: head-20120316
    o LHCBCOND, 2012: head-20120316
	  (DDDB v1r52)

- New tuning
  . Make 2011 the default data type in ConfiguredMuonIDs.py, and apply it for
    2012 DataType (MuonID v9r4)
  . Implemented faster method to invert transport matrix (TrackFitEvent v5r16)
  . Exploit emptiness of transport matrix in zero B field (trackFitEvent v5r16)
  . Add EndVelo state to (forward) velo-only fits (TrackFitter v4r6)
  . Propagate the ForceBiDirectionalFit option to all case in ConfiguredFitter.py
    (instead of BiDirectionalFit) (TrackFitter v4r5)
 
- Bug fixes
  . Fix in TrackTraj: Backward tracks have states in opposite order
    (TrackKernel v1r9p1)
  . PatForwardTool: Bug fix in PatForward in part which uses momentum estimate.
    Variable was shadowed, resulting in wrong behaviour of the algorithm.
    (PatAlgorithms v4r20)
  . Use std:stable_sort instead of std::sort everywhere, fixes differences
    between gcc43 and gcc46 (TsaAlgorithms v3r26, PatPV v3r23)
  . Fix in filter logic: backward state could be in state 'smoothed' without
    having gone through 'filtered' (TrackFitEvent v5r15)
  . Fix sign of qOverP in FastMomentumEstimate, fixes TT efficiency of Match
    tracks (TrackTools v4r13)
  . Fix bug #92491: problems reading vector<long> (ROOT 5.32.02)
  . Reduce verbosity when failing to access /Event/DAQ (RootCnv v1r14)
  . Protect some unprotected debug and verbose messages
    (PatVeloTT v3r18, PatPV v3r23, DAQUtils v1r6, TrackUtils v1r45, 
     CaloPIDs v5r12, TrackFitter v4r6p1, MuonID v9r4, LHCbKernel v13r10)

- Monitoring changes
  . Reduce range of PV chi2 plot (TrackMonitors v1r38)
  . Added mass pull histogram to TrackParticleMonitor (TrackMonitors v1r38)
  . Defined ranges for Z0 and D0 daughters plots in TrackParticleMonitor
    (TrackMonitors v1r38)
  . Added new plot for "Low ADC Cluster" monitoring to "VeloTrackMonitor"
    coupling effect of M2 routing line (VeloRecMonitors v2r18)
  . Changed default for occupancy monitoring to not periodically reset
    occupancy histograms - this is needed to make the offline monitoring of
    dead/noisy channels more reliable; online plots will be done by setting
    this property in the online jobs to the old default (VeloRecMonitors v2r18)

- Changes to tests
  . add a test for 2012 data type (brunel2012magdown), for the time being using
    2011 data as input. 

</PRE><H1><A NAME=v42r1>2012-03-02 Brunel v42r1</A></H1><PRE>
This version uses projects LCG 62a, Gaudi v23r1, LHCb v34r1, Lbcom v12r1,
 Rec v13r1 and SQLDDDB v7r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v34r1 software stack

- Changes to persistency
  . Change default Root compression algorithm to LZMA, with compression level 6.
    Reduces SDST size by a few per cent, probably more for MC DST (RootCnv v1r13)
  . Vertex weights now included directly in RecVertex and PackedVertex classes,
    WeightsVector removed from (S)DST. Needs LHCb v34r1 (DaVinci v30r1) to read.
    (RecEvent v2r40, PackedEvent v4r7, EventPacker v2r12, GaudiConf v15r7)

- Configuration changes
  . Force use of new SQLDDDB v7r* distribution scheme (DDDB v1r51)
  . Update FilterFillingScheme for 2012 (LumiAlgs v7r4)
  . Do not apply FilterFillingScheme in data prior to 2011 since information
    not available in CondDB (LumiAlgs v7r4)
  . Add support for skipping events with bad DQ. By default, all events are 
    processed (LHCbAlgs v2r48)

- New tuning
  . Pattern recognition improvements for large IP tracks (FastVelo v4r18)
  . Changes in PatForward X search window parameterisation (PatAlgorithms v4r18)
  . Speed improvements (FastVelo v4r18, PatAlgorithms v4r18, TrackFitEvent v5r14)
  . Increased minimum number of hits left in outlier removal (TrackFitter v4r4)
  . Improvements in track fit initialization (TrackTools v4r12)

- Bug fixes
  . Fix gcc4.3/4.6 differences (TfKernel v2r22, PatAlgorithms v4r18)
  . Run TrackEffChecker also for FastVelo tracks (TrackSys)
  . Fix switching off of Boost memory allocators in event model classes in debug
    builds, that was broken several LCGCMT releases ago
    (GaudiObjDesc v11r13, LHCbKernel v13r9)

- Changes to tests
  . brunel.brunel-mc11a-xdst now takes input file from svcClass=lhcbdisk
  . Add a specific reference files to brunelsys and brunel. brunel2011magdown
    tests in dbg mode, to track changes in untested StatusCodes

</PRE><H1><A NAME=v43r0>2012-02-03 Brunel v42r0</A></H1><PRE>
This version uses projects LCG 62a, Gaudi v23r0, LHCb v34r0, Lbcom v12r0,
 Rec v13r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v34r0 software stack.

- Supported platforms and libraries
  . Added support for for gcc46 on slc5 (64-bit only) - not yet production
    quality, some differences with gcc43 still to be fixed
  . Migrated to Boost 1.48
 
- Changes to configuration
  . Add a filter for the States on Best and Muon Tracks
  . (DDDB v1r50) For each DataType, in case of real data, set initial time
    (used for CondDB initialisation before first event)
    to the last meaningful time of the corresponding year:
    o End of year for 2008, 2009
    o End of last fill for 2010, 2011
    o Current time for 2012, if before end of 2012

- Persistency changes
  . Removed support for POOL persistency
  . Change to states saved by default on tracks written to output file:
    Velo:       ("ClosestToBeam")
    Long:       ("ClosestToBeam")("FirstMeasurement")("BegRich2")("V0Vertex")
    T:          ("FirstMeasurement")( "BegRich2")
    Downstream: ("FirstMeasurement")("BegRich2")("V0Vertex")
    Upstream:   ("ClosestToBeam")("FirstMeasurement")
    Muon        ("FirstMeasurement")

- New functionality
  . Added support for 2012 DataType, behaviour currently identical to 2011
  . Added infrastructure for filtering on DQ flags, not yet usable
    (DetCond v12r23, LHCbAlgs v2r47)

- New tuning
  . Make the network tuning MC11aTuneV2 the default for all data types, and
    change some of the network variables (ChargedProtoANNPID v1r6)
  . Introduce beamspot constraint into PVSeedTool to make PatPV3D faster which
    gives a factor between 2 or 3 in exe time when switching from 3D PVSeed3DTool
    to PVSeedTool, lower false PV rate and lower PV->SV mistakes, same
    performance for other parameters like resolution and PV efficiency
    (PatPV v3r21)
  . Changes to track fit: fewer smooth operations to improve timing,
    smarter use of OT times in OTTrackProjector leading to better Chi2 and 
    therefore more ProtoParticles
    (TrackFitEvent v5r13, TrackFitter v4r3, TrackProjectors v2r30)

- Bug fixes
  . Fixes to cached conditions updates: not all caches were correctly updated
    when IOV changed between initialization and first event
    (CaloDAQ v4r26, CaloDet v10r13, DetDesc v18r29, DetDescSvc v3r5, 
     RichDet v16r9, LumiAlgs v7r3, PatVeloTT v3r17)
  . Redirect sporadic stderr+stdout messages from NeuroBayes to /dev/null. 
    Temporary measure, until we have access to a fixed version of NeuroBayes
    (ChargedProtoANNPID v1r6)

- Monitoring changes
  . Fixes to primitive types that can be saved in Tuples::TupleObj (Gaudi v23r0)
  . Move 2D histograms to expert mode (MuonTrackMonitor v2r5)
  . Add monitor for ANN PID variables (ChargedProtoANNPID v1r6, RecConf v2r5)
  . Add TrackVertexMonitors in online mode, to get PV position
    (TrackMonitors v1r36)
  . Remove a Velo clusters histogram (VeloRecMonitors v2r17)

- Changes to tests
  . Remove tests that write to POOL files, no longer supported

</PRE><H1><A NAME=v41r3>2011-12-19 Brunel v41r3</A></H1><PRE>
This version uses projects LCG 61b, Gaudi v22r5, LHCb v33r2, Lbcom v11r2,
 Rec v12r2 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v33r2 software stack.
 
- Changes to configurable
  . Explicitly set L0Conf().RawEventLocations to take L0 banks from DAQ/RawEvent
    (follows changes to L0Base, L0DU, L0Muon, L0Calo)
  . Remove support for RDST (superseded by SDST) (Brunel v41r3, GaudiConf v15r5)

- New functionality
  . More updates to support multiple Rich photodetector technologies
  . Updates to support running without Aerogel (RichTools v2r39)
  . Allow to select Max/Min number of photons per track (RichParticleSearch v1r5)

- New tuning
  . Improve efficiency for large IP tracks (FastVelo v1r6)
  . Use long long instead of long where appropriate (various Rich packages)
  . Remove use of Track::nodes (TrackTools v4r10)
  . Improve packing of Rich::Rec::PhotonKey
    (RichRecBase v4r10, RichRecMCTools v2r29, RichRecPhotonTools v1r9)
 
- Persistency changes
  . MuonPID objects now saved only if track is InAcceptance (MuonID v9r3)

- Bug fixes
  . Fix bug #89269 affecting two Reco12 jobs: MergedPi0Rec was returning 0 from
    execute() in rare case of pathological clusters (CaloReco v5r13)
    (Also fixed in Brunel v41r1p1)
  . Fix error message from PropertyConfigSvc at initialization (LumiAlgs v7r2)
  . Use stable_sort instead of sort, to avoid reproducibility problems
    (RichParticleSearch v1r5)
  . Fix in PatAddTTCoord: If chi2 was still much too high with only 3 hits left
    it went into an infinite loop. (PatAlgorithms v4r16)
  . In PrimaryVertexChecker, properly initialize MCPVInfo struct to avoid
    floating point exceptions in debug mode (PatChecker v3r11)
  . Fix a wrong length string, was causing a memory corruption on occasions
    when running debug version of Brunel (TrackCheckers v4r12)
  . Add some missing calls to GaudiAlgorithm::finalize (VeloDAQ v6r6)
  . Fix some unprotected debug() streams
  . Various fixes to UNINIT_CTOR defects, gcc46 warnings and icc remarks

- Monitoring changes
  . Monitor tracks with large IP (TrackCheckers v4r12)
  . New algorithm VertexChecker to measure the performance of vertexing
    (TrackCheckers v4r12)
  . Hide warning by default due to problems with TELL1 cluster maker
    putting the same strip into two clusters (to be re-enabled for data/mc
    after the TELL1 bug is resolved) (VeloDAQ v6r6)

- Changes to tests
  . Add brunel.2011-crashes for regression testing of fixes to crashes on 2011
    data. Currently covers bug #89269 affecting Reco12, fixed in CaloReco v5r13
  . Add RegexpReplacer expression to BrunelExclusions.py, to take into account
    different printout format from RichHotPixels and RichRawDataDBCheck when
    running in debug mode
  . brunel2010magup test now writes SDST in MDF format, was RDST

</PRE><H1><A NAME=v41r2>2011-11-11 Brunel v41r2</A></H1><PRE>
This version uses projects LCG 61b, Gaudi v22r5, LHCb v33r1, Lbcom v11r1,
 Rec v12r1 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v33r1 software stack.
 
- New functionality
  . Make Rich reconstruction agnostic to photodetector type (for upgrade)
    (RichRecTools v4r19, RichTools v2r38, RichDet v16r7, LHCbKernel v13r6,
     RichKernel v7r46, RichRecBase v4r9)

- New tuning
  . Update default DDDB and LHCBCOND tag for 2011 data to head-20111102
    (DDDB v1r48)
  . Complete the migration to LHCb::ParticlePropertySvc (TrackMCTools v3r1)
  . Avoid locating the same TES object from the same algorithm multiple times
    per event (RichRecQC v2r55, PatAlgorithms v4r15)
  . Improve the sorting operator of Pixels (RichHPDImageAnalysis v1r10)
  . Update MagneticFieldSvc to cache the field polarity (Down or Up) and return
    this, instead of calculating it each time ::isDown() is called (Magnet v7r4)
  . Disable by default the ROOT tree caches in the event persistency
    (GaudiConf v15r3)

- Bug fixes
  . Fixes to MuonPID status in ProtoParticle (Savannah task 23459)
    (MuonID v9r2, GlobalReco v6r39, RecreatePIDTools v1r4, TrackEvent v5r13)
  . Fix type conversion typo in the DAQ decoding errors monitor (RichRecQC v2r55)
  . Fix a bug in the fill of the 2D decoding errors histogram (RichRecQC v2r55)
  . Fix incorrect usage of std::unique to remove duplicates
    (RichHPDImageAnalysis v1r10)
  . Fix various UNINIT_CTOR defects
    (PatAlgorithms v4r15, GlobalReco v6r39, TrackMonitors v1r35, )
  . Bug fix in TrackGhostClassificationBase::fromPhi : was returning True if
    ancestor of first particle was Phi, without checking second particle
    (TrackMCTools v3r1)
  . In TrackNNGhostID, fix typo in ITClusterLocation, effect of which is that
    IT hit multiplicity was never added to the hit multiplicity used to get the
    ghost probability (TrackTools v4r9)
  . Fixed bug #87392: Event time not set correctly on first event
    (DetDescSvc v3r4)
  . Add protection for duplicated hits (due to data corruption). (MuonDAQ v4r12)
  . Fix bug #88049: RootCnv has problems reading POOL XDST (RootCnv v1r9)
  . Fix typo in TsaKernel/SeedTrack.h, coverity bug 22106 (TsaKernel v3r6p1)
  . Fix Root bug #87880: xrootd was returning wrong buffer length on rare
    occasions (Root 5.30.04) 
  . Fix IOExtension problem with SvcClass (GaudiConf v15r2)
    (Also fixed in Brunel v41r1p1)

- Monitoring changes
  . Print Magnetic Field polarity also when ProductionMode is True
  . NeuroBayes output at initialisation now suppressed (NeuroBayes 10.12)
  . Minor improvements to Rich decoding error messages (RichDAQ v3r34)
  . Change the title of the DAQ decoding errors by board histogram
    (RichRecQC v2r55)
  . Change the number of the sequencer used for the inclusive timing monitor
    from "BrunelSequencer" to "PhysicsSeq" to avoid problems with the monitor
    timing a still running sequence (RecConf v2r4)

- Changes to example options
  . Add COLLISION11_25.py, example options for processing 2011 25ns fill

- Changes to tests
  . Add brunel2011-25ns.qmt, to test COLLISION11_25.py
  . Add brunel-mc11a-xdst.qmt, to test reprocessing from xdst

</PRE><H1><A NAME=v41r1>2011-09-21 Brunel v41r1</A></H1><PRE>
This version uses projects LCG 61, Gaudi v22r4, LHCb v33r0, Lbcom v11r0,
 Rec v12r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for MC11 and 2011 end of year reprocessing (Reco12)

- Changes to Brunel persistency:
  . add NextNext to default DstConf().SpilloverPaths (GaudiConf v15r1)

- Bug fixes:
  . In TrackNNGhostID, fix typo in ITClusterLocation, effect of which is that
    IT hit multiplicity was never added to the hit multiplicity used to get the
    ghost probability (TrackTools v4r9)

</PRE><H1><A NAME=v41r0>2011-09-15 Brunel v41r0</A></H1><PRE>
This version uses projects LCG 61, Gaudi v22r4, LHCb v33r0, Lbcom v11r0,
 Rec v12r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 end of year reprocessing (Reco12)

- Changes to Brunel persistency:
  . Output files are now in ROOT format by default, can be read by DaVinci v28r4
    or later. POOL output can be switched on by options.
    (GaudiConf v15r0, RootCnv v1r8, Gaudi v22r4, ROOT 5.30)
  . Write ROOT technology when creating output file entry in XmlCatalog
    (RootCnv v1r8)
  . SDST now contains copies of Raw event banks (Trigger/RawEvent, Muon/RawEvent)
    see task #21716 (Configuration.py, GaudiConf v14r2)
  . RecSummary object now contains total number of (Best) tracks (RecAlgs v2r6)
  . Added IsMuonTight field to StatusBits in MuonPID (RecEvent v2r39)
  . Uses HepMC v2.06 for HepMCEvent, can be read by DaVinci v29r0 or later
    (GenEvent v6r1, LCG 61)

- New tuning
  . Changed default global event cut for number of OT hits from 1M to 15k
    (TrackSys v7r0)
  . Introduce new StandardPV configuration to include radial cut for primary
    vertices, see https://indico.cern.ch/conferenceDisplay.py?confId=134893 and
    task #19768 (PatPV v3r20, RecConf v2r3)
  . Add FilterFillingScheme algorithm to LumiBeam1 and LumiBeam2 sequences,
    changes luminosity results for 2011 MagUp data (LumiAlgs v7r0)
  . Implemented IsMuonTight, added counter for each IsMuon flag (MuonID v9r1)
  . Remove use of random weights for IsMuon or IsMuonLoose. Keep, however, weight
    0 for hits in M4 if p<3.5 GeV and hits in M5 if p<4.2 GeV. (MuonID v9r1)
  . Small improvements to Rich background tools (RichRecTools v4r18)
  . Lower default 'hot pixel' fraction from 90% to 50% of consecutive events
    (RichTools v2r37)
  . Updated default DDDB and LHCBCOND tags for 2011 to head-20110914 (DDDB v1r47)

- Bug fixes
  . Write out FSRs when using ROOT persistency. In previous versions, FSRs were
    missing (GaudiConf v15r0, RootCnv v1r7, Gaudi v22r4)
  . Various improvements to avoid unstable behaviour when sorting objects
    (RichGlobalPID v3r17, LHCbKernel v13r5)
  . Fix many unprotected DEBUG/VERBOSE messages

- Monitoring changes
  . Add TrackParticleMonitor (TrackMonitors v1r34)
  . Add histograms for IT module overlap residuals for A/C/Top/Bottom for use in
    DQ monitoring (TrackMonitors v1r34)
  . Updated track selection in VeloIPResolutionMonitor to be consistent with
    standard offline selection (VeloRecMonitors v2r15)
  . Remove Muon Stations efficiency monitor MuEffMonitor, moved to DaVinci
    (MuonTrackMonitor v2r4)
  . Reduced verbosity from Gaudi persistency service initialisation

- Changes to QMTests
  . Fix brunel-lumiconddbchecker following fix to bug #85240
  . Replace ROOT persistency tests with POOL persistency test, default for
    all other tests is now ROOT

</PRE><H1><A NAME=v40r1>2011-07-29 Brunel v40r1</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r5, Lbcom v10r5,
 Rec v11r6 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 August processing (Reco11a)

- Changes to Brunel configurable:
  . When ProductionMode=True, print the event number only every 1000 events
  . Add new slot TrackSys().GlobalCuts, sets global tracking cuts (TrackSys v6r3)

- Persistency changes
  . Add pi0/gamma separation variable to neutral ProtoParticle ExtraInfo
    (GlobalReco v6r38, CaloInterfaces v8r2, CaloTool v6r2, RecEvent v2r38)  

- New functionality
  . Add support to per tile Rich1 aeorogel calibration
    (RichTools v2r36, RichDet v16r5

- New tuning
  . New default tracking cuts for 2011+ data (PatAlgorithms v4r14, TrackSys v6r3)
    o No tracks of any kind reconstructed if more than 6000 Velo clusters
    o Remove cut on max IT and OT hits in PatForward and PatSeeding
  . Loosen the Rich reconstruction abort cuts for 2011+ data (RichRecSys v4r3)
    o MaxUsedTracks set to 1000 (was 500)
    o MaxPixels set to 30000 everywhere (previous 20000 in global PID)
  . Increase slightly the size of the aerogel photon selection window for the
    "Wide" photon selection
  . Set default clone distance variable to 1e10, instead of FLT_MAX, to avoid
    problems in the track selectors later on (RichRecBase v4r7)
  . Speed improvements:
    o Fine tune LikelihoodTool::logExp for better branch prediction
      (RichGlobalPID v3r16)
    o Use trajectory.endRange/beginRange instead of module().wireLength
      (TrackFitEvent v5r11)
    o Protect many unprotected debug and verbose messages
  . Use latest DDDB and LHCBCOND tags from SQLDDDB v6r14
    (new field map by default for 2011 data, new Rich aerogel geometry)
  . Add protections for parasitic FEB in Calo readout
    (CaloDAQ v2r24, CaloDet v10r12)

- Bug fixes
  . Fix a problem with the track selector when trying to apply a clone distance
    cut (RichRecTrackTools v1r30)
  . Protect OTHitCreator::handle from dereferencing a NULL m_detectordata
    pointer (TfTools v1r15)

- Changes to monitoring
  . Some minor improvements to the charged ProtoParticle monitor
    (GlobalReco v6r38)
  . Add "Hlt" to the list of sub-systems ProcStatAbortMoni knows about
    (RecAlgs v2r5)
  . Fine tune the event 'abort' messages from Rich (RichGlobalPID v3r16)
  . Many updates to Rich monitors, see RichRecQC v2r53 release notes
  . Disable by default Rich decoding check that compares L1 number in data for
    each HPD to the database (RichDAQ v3r33)
  . ITTrackMonitor: add histogram for overlaps (TrackMonitors v1r33)
  . TrackVertexMonitor: introduce cutoff for IP profiles to be more sensitive
    to mean (TrackMonitors v1r33)

- Changes to QMTests:
  . Add check of unprotected DEBUG and VERBOSE messages to brunelsys.qmt and
    brunel2011magdown.qmt (activated in debug mode only); increase timeout of
    brunel2011magdown.qmt test to 2400 sec.

</PRE><H1><A NAME=v40r0>2011-06-20 Brunel v40r0</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r4, Lbcom v10r4,
 Rec v11r5 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 summer processing (Reco11)

- New functionality
  . Add support for new ROOT persistency (Brunel, GaudiConf v14r0, RootCnv v1r6)

- Changes to configuration
  . Add "Persistency" slot to Brunel (default POOL) and propagate to DstConf
  . Add "VetoHltErrorEvents" slot (default: True) to Brunel Configurable

- New tuning
  . By default, Brunel now skips events that are flagged as Hlt{1,2}ErrorEvent
    and writes a line in ProcStatus. See Patrick's talks at 04 and 20/06 PPMTS
    o Disabled for data prior to 2010, and off by default for simulation
  . Tune PatSeedingTool to better cope with high occupancy events
    (PatAlgorithms v4r13)
  . Major changes to MuonID (MuonID v9r0):
    o Implement use of KalmanFoI in MuonIDAlg
    o Introduce nshared tool
    o Add flag to restrict use of uncrossed hits in MuonID 
  . Fix error assigned to OT hits in 'prefit' (TrackProjectors v2r29p1)
  . Apply walk correction in OT drift times
    (TrackFitEvent v5r10, OTDet v8r6, TfKernel v2r21)
  . Small changes to Rich track selection cuts so they are noe the same
    everywhere and extend max P cut to effectively +inf value (RichRecSys v4r2)

- Bug fixes
  . Fix uninitialised member data to please Coverity
    (TrackFitEvent v5r10, PatAlgorithms v4r13)

- Obsolete functionality removed
  . Remove obsolete 'earlyData' flag from KnownSpecialData list (RecConf v2r1)

- Changes to monitoring
  . Add new plot for high Velo cluster multiplicity (VeloRecMonitors v2r13)
  . Add TrackMonitoring to the list of RICH online histograms (RichRecQC v2r52)
  . Put back "L1SizeMonitoring" from the default list of monitors following
    fixes to initialisation (RichRecQC v2r52)
  . Update clusterization counters (CaloReco v5r10) 

- Changes to tests
	. Add test of Brunel().WriteFSR=False to brunel.brunel-mc09-notruth test
  . Remove import of obsolete earlyData.py options from test-big.py
  . Add brunel2010magoffroot, brunel2011magdownroot,  brunel-bigeventsroot,
    brunel-mc10-withtruthroot, readdstfsrroot, replacing POOL with ROOT 
    persistency and comparing with corresponding POOL tests.

</PRE><H1><A NAME=v39r4>2011-05-14 Brunel v39r4</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*
 and additional packages OTDAQ v7r10, TrackSys v6r2, RichRecTrackTools v1r29,
   RichRecQC v2r51

Bug fix version for first 2011 reprocessing (Reco10)

- Bug fixes
  . Add protection to FunctionalCKResForRecoTracks to catch exceptions from the
    TransportSvc to prevent them from terminating the job execution.
    Fixes problem reported in http://lblogbook.cern.ch/Operations/5474
    (RichRecTrackTools v1r29)
  . Remove "L1SizeMonitoring" from the default list of monitors, as it does not
    support changes to the L1 IDs between initialize() and the first event.
    Fixes problem reported in http://lblogbook.cern.ch/Operations/5701
    (RichRecQC v2r51)

</PRE><H1><A NAME=v39r3>2011-05-11 Brunel v39r3</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*
 and additional packages OTDAQ v7r10, TrackSys v6r2

Production version for first 2011 reprocessing (Reco10)

- New tuning
  . Apply fiducial time window in OTRawBankDecoder -8.0*ns to 56.0*ns
    (OTDAQ v7r10, TrackSys v6r2)

</PRE><H1><A NAME=v39r2>2011-04-29 Brunel v39r2</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first 2011 reprocessing

- Changes in functionality
  . Drop all support for DC06. This DataType is no longer recognised
  . Muon ID DLL runing now read from database by default (MuonID v8r1)

- New tuning
  . New MuonID tuning (DLL_flag == 4) picked up by default for old databases
    (MuonID v8r1)  
  . Turn off by default the final HPD fitting (RichHPDImageAnalysis v1r7)

- Bug fixes
  . Fix bug #80947 (access system-memory information, if process memory is > 4GB)
    (GaudiKernel v27r14)
  . Fixes to GaudiMP to work with Brunel (GaudiMP v1r1)
  . Recover precision in matrices for rotations through pi or halfpi
    (DetDesc v18r25, DetDescCnv v4r13)
  . Fixes to ensure cached conditions are updated when conditions change
    (RichDet v16r3, RichTools v2r34)
  . Fix memory leak in WritePackedDst (EventPacker v2r9)
  . Various fixes to uninitialised variables in constructors

- Monitoring changes
  . Ignore errors due to (known) mismatch of IDE and Tell1 firmware (MuonDAQ

</PRE><H1><A NAME=v39r1>2011-04-12 Brunel v39r1</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r2, Lbcom v10r2,
 Rec v11r3 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first 2011 reprocessing

- New functionality
  . Add new pattern recognition algorithm for velopix
    (RecoUpgrade v2r1, TrackEvent v5r12)
  . Add support for MaPMTs and HPDs in RichSmartID class, for upgrade studies.
    (LHCbKernel v13r0)

- Changes to configuration:
  . Change ParamFiles dependency to v8r* (was v8r4)

- New tuning
  . Improvements in HPD analysis (RichHPDImageAnalysis v1r6)
  . Use latest LHCBCOND tags from SQLDDDB v6r6 by default (DDDB
  . New data integrity checks:
    o In Rich decoding tool, if hardware ID in data disagrees with database 
      value, no hits are decoded for that HPD (RichDAQ v3r32)
    o In Calo decoding extend protection against multiple entry in KeyedContainer
      (CaloDAQ v4r22, DAQEvent v9r5)

- Bug fixes
  . Fix to bug #80076 (wrong condition used on first event)
    (DetCond v12r18, DetDescSvc v3r1)
  . Register OT/STHitCreator to detector geometry conditions, previously was
    ignoring any conditions update after initialisation (TfTools v1r14)
  . Check for negative element in state covariance matrix diagonal, update
    KalmanFitResult error printing accordingly (TrackFitEvent v5r8)
  . Bug fix for VeloPixRawBankToLiteCluster.cpp (VeloPixDAQ v1r4)

- Monitoring changes
  . Remove RichHPDImageShifts from default monitoring (RichRecQC v2r49)
  . Extend the decoding errors monitor (RichRecQC v2r49)
  . Fixed typo in bunch id plot (STMonitors v3r5)
  . Added map of cluster size in each sector (expert moni) (STMonitors v3r5) 
  . Add Mu monitor to Hlt monitoring sequence (HltMonitors v1r3)

- Changes to example options and tests
  . Add example options for 2011 data and update brunel.brunel2011magdown test
    to use them.

- Packaging changes:
  . Change ParamFiles dependency to v8r* (was v8r4)

</PRE><H1><A NAME=v39r0p3>2011-03-23 Brunel v39r0p3</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r4, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version for production
 - Pick up protection in Spd L0 decoding (CaloDAQ v4r21p1)

Includes Det/DDDB v1r42 to pick up latest tags from SQLDDDB v6r4:
 - Ecal pre-calibration for 2011
 - Ecal/Hcal LED reference and initial quality for 2011
 - Change in Prs/Ecal readout scheme for 2011
 - New calorimeter resconstruction tuning for 2010
 - TT/IT dead channel masks etc for 2011 startup
 - First TT/IT/OT alignment for 2011
 - New Rich L1 and HPD IDs for 2011
 - VeloClusterPosition now configured with VeloError paremeterisation from DB

Updated QMTest references for above changes

</PRE><H1><A NAME=v39r0p2>2011-03-17 Brunel v39r0p2</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version for production to pick up fixes in MuonID and Rich which
were provoking NAN and other oddities in production.

MuonID had a large memory leak as discussed here: https://savannah.cern.ch/bugs/?79569

Fixes in: Muon/MuonID v8r0p2 and Rec/ChargedProtoANNPID v1r3p1

For more details see: 
https://lhcb-tag-collector.web.cern.ch/lhcb-tag-collector/display.html?project=Brunel&version=v39r0p2

</PRE><H1><A NAME=v39r0p1>2011-03-10 Brunel v39r0p1</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version to pick up patched LHCb Lbcom and Rec.

- Necessary for 2011 data to process latest TCKs and fill RecHeader with GUID
  of raw file for DQ checks

- See Rec v10r2p1 release notes for details

</PRE><H1><A NAME=v39r0>2011-03-04 BrunelSys v39r0</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1, Lbcom v10r1,
 Rec v11r2 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Production release candidate for 2011 data taking
Output data requires GaudiPoolDB v5r11 (i.e. Gaudi v22r1) to read

- Persistency changes:
  . Backward incompatible persistency change in Root 5.28.00a, data produced
    with this release requires GaudiPoolDB v5r11 or later to read
  . Add TT cluster and Muon information (# Muon Coords in each station and
    # Muon tracks) to RecSummary object (RecEvent v2r35, RecAlgs v2r1))

- New features:
  . Add support for pileup offset calibration in Calo (CaloDet v10r10)
  . Added possibility to load MuonID calibration from DB (MuonID v8r0)
  . Possibility to configure VeloClusterPositionTool from DB (TrackTools v4r3)

- New tuning:
  . Rework the way the various DeRich objects initialise, moving as much as
    possible to happen on demand (RichDet v16r1)
  . Added MuonID tuning for 2010 and 2011 (MuonID v8r0)
  . Add support for cluster offset correction in Calo (CaloReco v5r8p1)
  . Minor improvement of PatSeedingTool momentum estimate (PatAlgorithms v4r12)
  . Set the ForceBiDirectionnal in KalmanFilter back to True (TrackFitter v4r2)

- Bug fixes
  . Fix bug in accessing the (x)rootd protocol (MDF v3r29, v3r28)
  . Pick up ROOT (5.28.00a) with a fixed memory leak in I/O subsystem
    (LCG 60a, GaudiPooldDB v5r11)
  . Added another special case for the order of service finalization
    (NTupleSvc after ToolSvc, because of GaudiTupleTool) (GaudiSvc v18r13)
  . Various fixes for ICC compilation warnings
  . Various fixes for Coverity warnings (UNINIT_CTOR, leaks, sprintf etc.)
  . Protect against numerical difficulties in PatSeed (PatAlgorithms v4r12)
  . Protect against removal of essential layers in PatSeed (at least 2 X and 2
    stereo layers have to remain) (PatAlgorithms v4r12)
  . Fix in TrackStateProvider (TrackExtrapolators v2r30)
  . Classical smoother was always putting fitresult in error mode 
    (TrackFitEvent v5r7)

- Monitoring changes:
  . In TrajPoca, set the maximum warning to 0 to avoid printouts (LHCbAlgs v2r37)
  . FastVeloHitManager prints in finalize, not destructor (FastVelo v1r5)
  . Reduce verbosity of TrackEventFitter (TrackFitter v4r2)

- Changes to unit tests
	. Add brunel-lumiconddbchecker to test online partition usage for lumi


</PRE><H1><A NAME=v38r1>2011-02-08 BrunelSys v38r1</A></H1><PRE>
This version uses projects LCG 60, Gaudi v22r0, LHCb v32r0, Lbcom v10r0,
 Rec v11r1 (plus TrackFitter v4r1 and TrackTools v4r2) 
 and SQLDDDB v6r0, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

Development version, in preparation for 2011 data taking

- Changes to supported platforms:
  . slc4_ia32_gcc34(_dbg), win32_vc71_dbg no longer supported
  . support added for i686-slc5-gcc43-{opt,dbg}
  . support in prepration for i686-winxp-vc9-dbg and x86_64-slc5-icc11-{opt,dbg}

- Configuration changes
  . Default DataType is now 2011
  . Removed support for ETC input
  . #116130: New tracking sequence is now the default for new data types 
             (including 2011). Summary of changes:
             . Switch to FastVelo
             . Switch to PatSeeding
             . Switch to PatMatching and remove SeedFitting
    New options Brunel().ForceOldSeq and Brunel().ForceNewSeq can be used to 
    switch between old and new sequences (TrackSys v6r0, Brunel v38r1)
  . #116712,#116318,#116127,#116216,#116122: "earlyData" setting is now the
    default (was used for all 2010 data and MC processing) 
    (STTools v4r6, MuonID v7r0, RecConf v2r0, PatAlgorithms v4r11,
     TrackMatching v2r33, TrackSys v6r0)

- New tuning:
  . #116384, 116383: Major modification of Kalman filter implementation
                    (speed improvement, no change in performance) 
                    (TrackFitEvent v5r6, TrackFitter v4r1)
  . #114881: FastVelo efficiency improvement at high nu (FastVelo v1r3)
  . #116680: Add cut against dirty area in PatForwardTool (PatAlgorithms v4r11)
  . #115240: Switch default ANN configuration from MC2010Tune to MC10TuneV1,
             activate the new Ghost ID network for each track type
             (ChargedProtoANNPID v1r1, GlobalReco v6r34)
  . #115040: New default DDDB tag for real data: head-20101206. Includes:
    . rich-20101205 - updates to aerogel parameters
    . velo-20101130 - new RF foil description
  . #116912: Put back DC06 Velo error parameterisation, MC10 one introduced
             in Brunel v38r0 (#114631) needs more study (TrackTools v4r2)

- New functionality:
  . #115635,#115873: Add new SUMMARY sequence, runs RecSummaryAlg to fill new
    reconstruction summary object (RecEvent v2r34, RecConf v2r0, RecAlgs v2r0,
    TrackTools v4r1, TrackInterfaces v4r18, EventPacker v2r6)
  . #114925: all Calo corrections now taken from CondDB (CaloReco v5r8)

- Persistency changes
  . #116124,#116126: new Track::History flags following tracking sequence changes
    (N.B. Track::History should not be used outside tracking, use Track::Types
     instead) (TrackSys v6r0, TrackEvent v5r10, FastVelo v1r4, TrackUtils v1r40)
  . #115635: Rec/Summary added to DST, holds basic summary information from the
             reconstruction (GaudiConf v13r8)

- Monitoring changes
  . #115196: New expert monitoring for ProtoPIDANN (GlobalReco v6r34)
  . #115007: reduce CaloReco verbosity (CaloReco v5r8)
  . #115674: Suppress Warning "Ingress/ODIN Event ID checks are disabled"
             (RichDAQ v3r30)

- Changes to qmtests:
  . Add a test brunel.brunel2011magdown, for the time being identical to
    brunel.brunel2010magdown (same input data and same reference) to validate 
    2011 DataType settings
  . Remove obsolete brunel.brunel-mc09-stripping test
  . Input file for brunel2010magdown test is now taken from 'freezer' castor
    directory, to test rootd access to this pool.

- Changes to example options
  . Remove options and catalogs accessing DC06+MC09 files that no longer exist
  . Remove all imports of earlyData.py, since this now the default

</PRE><H1><A NAME=v38r0>2010-12-21 BrunelSys v38r0</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r8, Lbcom v9r9,
 Rec v10r6 and SQLDDDB v5r44, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- Development version, in preparation for 2011 data taking

- New tuning:
  . #101117: New default tags for 2010,2009,2008 data. Changes include:
    . ecal-20101106-qual: Ecal channel quality update for 2010 reprocessing
    . ecal-20101106-calib: Ecal calibration update for 2010 reprocessing
    . ecal-20101106-led: LED measured gain shift correction for Ecal
    . rich-20101106-corr: Final 2010 RICH run by run gas refractive index corrs.
    . rich-20101106-hpd: Added list of inactivwe HPDs
    . rich1-20101106: New aerogel refractive index calibrations
    . tt-20101106: updated TT dead strip maps
  . #114631: New tuning of VeloCluster error parameterization (TrackTools v4r0)

- New functionality
  . Add support for inactive HPDs (RichDet v15r2)
  . #87476: add options to switch on FastVelo instead of PatVelo (TrackSys v5r1)

- Monitoring changes
  . #95658: reduce verbosity of CaloDet initialisation (CaloDet v10r8)
  . #101202: add profile plots of Rich data size vs. HPD and L1 ID
  . #103054: Add processing time monitor for Vertex, Calo, Muon, Proto sequences
    (RecConf v1r4)
  . #103050: Various new Rich monitoring plots, reduce verbosity
    (RichRecQC v2r48)
  . #103947: Various improvements to trck resolution monitor
    (RichRecMonitors v2r30)
  . #114423: Add ExpertProtoMoni sequence to expert monitoring (RecConf v1r4)
  . #103287, 103294: Execute track associators only if corresponding track type
    has been reconstructed (TrackSys v5r1, TrackAssociators v2r9)

- Changes to example options
  . In COLLISION10-Beam3500GeV-VeloClosed-MagDown.py use a more recent raw file,
    from run 81694

- Changes to QMTests
  . Added fixed-file sim2010 tests, to check for processing sim2010 files
  . Started compatibility.qms suite, for future-proofing DB changes
  . Modified the other fixedfile tests so that they only care about the
    number of errors/warnings in the results
  . fixedfile-boole-v19r8-2009-digi-extended test now only runs if 
    fixedfile-boole-v19r8-2009-digi was successful
  . fixedfile-boole-v19r8-2009-digi-extended-spillover test now only runs if 
    fixedfile-boole-v19r8-2009-digi-extended was successful
  . Update brunel.brunel2010magdown for changed input file
  . New test brunel-mc10-withtruth.qmt to test MC10 simulation settings.
    Currently uses a private file from Chris Jones.
  . Ignore NeuroBayes initialization messages in QMTest references


</PRE><H1><A NAME=v37r8p5>2010-11-23 BrunelSys v37r8p5</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p3 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a production version, for MC10 reconstruction

- This is a minimal patch and clean-up to include the latest fixes which were
  also done for the reprocessing release of Brunel v37r8p3.

- There are also the RICH specific changes for smearing Cherencov angles from
  the MC See the Rec release notes for more details.

</PRE><H1><A NAME=v37r8p4>2010-11-11 Brunel v37r8p4</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a production version, for 2010 end of run reprocessing

- This version picks up the Tf/PatVelo fix for DB caching problems,
  and the Tr/TrackTools fix of an uninitialized pointer
  It replaces v37r8p3 as the winter reprocessing version.

</PRE><H1><A NAME=v37r8p3>2010-11-05 Brunel v37r8p3</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This version picks up the Rich/RichHPDImageAnalysis fix required to prevent a segfault.
  It replaces v37r8p2 as the winter reprocessing version.

</PRE><H1><A NAME=v37r8p2>2010-11-05 Brunel v37r8p2</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This version picks up the Rec/LumiAlgs fix required to always make FSRs.
  It replaces v37r8p1 as the winter reprocessing version.

</PRE><H1><A NAME=v37r8p1>2010-10-28 Brunel v37r8p1</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p1 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a production version, for 2010 end of run reprocessing

</PRE><H1><A NAME=v37r8>2010-10-04 Brunel v37r8</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r5, Lbcom v9r7,
 Rec v10r5 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

This is a production version, in preparation for 2010 end of run reprocessing

- New functionality:
  . Add support for upgrade reconstruction: Brunel().SpecialData += ['upgrade'] 
    (RecConf v1r3, TrackSys v5r0, RecoUpgrade v2r0, RecoUpgradeMC v1r1, 
     PatVeloTT v3r15, TrackCheckers v4r11, TrackMCTools v2r27)

- New tuning:
  . Changed track selection chi2 for charged ProtoParticles to < 10 from <50
    and removed "earlyData" tuning (GlobalReco v6r33)
  . Make fit in PatSeedFit more similar to what is in PatSeeding
    (PatAlgorithms v4r7)
  . Remove obsolete cut for PV fit in LSAdaptPVFitter, include track weights in
    vertex chi2 calculation (PatPV v3r18, TrackInterfaces v4r16)
  . Improve Calo LCorrection (CaloReco v5r7)
  . PhotonFromMergedRec algorithm removed from Calo Reco sequence, save time by
    doing it in MergedPi0Rec algorithm (CaloReco v5r7, CaloPIDs v5r8)
  . New tags picked up by default from SQLDDB v5r39 and DDDB v1r36
    o head-20101003 for LHCBCOND, head-20101003 for DDDB. Changes include:
      + align-20100902: Tracking alignment v4.1
      + it-20101001: Fix wrong positioned IT support column in Station 2 Aside
      + it-20100930: Protection in IT geometry against rounding error
      + tt-20100820: Fix overlap between outer modules in TTb
      + tt-20101001: Latest TT dead strip map after VCSEL repair
      + rich*-20100906*: New HPD chip alignments, new Rich mirror alignments 
    o MC09-20100921-vc-md100 for SIMCOND (bug fix to previous MC09 default tag)
    o MC-20101004-vc-md100 for 2009 SIM (bug fix to previous MC 2009 default tag)
  . Propagate value of Simulation slot to RecMoniConf and LumiAlgsConf, switches
    off LumiAccounting algorithm in case of Simulation=True

- Persistency changes:
  . The new Rich NN based PID algorithms are now run by default (not on Windows).
    Results are added to DST for further study 
    (ChargedProtoANNPID v1r0, uses neurobayes_expert from LCGCMT 58f)
  . Task #17217: ProtoParticle PID cleaning algorithm, that removes Rich and Muon
    information prior to DST writing is now run only in case of packed DST.
    (GaudiConf v13r7)
  . Task #14927: Weights for tracks in each PV are now stored on the DST
    (PatPV v3r18,EventPacker v2r5,PackedEvent v4r3,RecEvent v2r32,GaudiConf v13r7)
  . Task #16215: The event time is now stored in RecHeader, avoiding the need to
    decode the RawEvent to configure the UpdateManagerSvc
    (RecAlgs v1r11p1, RecEvent v2r32, LHCbAlgs v2r35)
  . New Calo additional info in neutral and charged ProtoParticles
    (GlobalReco v6r33, RecEvent v2r32)

- Bug fixes
  . Fix uninitialised member variables in CaloPhotonChecker (CaloMoniDst v5r4)
  . Bug #72071: Suppress unnecessary printouts (RichDAQ v3r24)
  . Bug #64670: Suppress unnecessary printouts (MuonID v7r9p2)
  . Fix against very rare crashes in the isolated track tool, when photon 
    Cherenkov phi value is exactly 2.0*M_PI (RichRecTrackTools v1r24p1)
  . Fix for OT expected hits (TrackTools v3r35)
  . Fix bug in TrackHitAdder (TrackUtils v1r39)
  . Fix bug in evaluation of F11 and F12 matrix elements (CaloUtils v9r0)
  . Bug #71237: GaudiHistos treatment of HistoProduce incomplete (GaudiAlg v13r4)

- Monitoring changes:
  . ProtoParticle monitor now produces efficiency plots by track type
    (GlobalReco v6r33)
  . Added Hlt monitoring sequence, monitors Hlt rate and composition 
    (HltMonitors v1r0, RecConf v1r3)
  . Minor improvements in track selection efficiency monitor (RichRecQC v2r46)
  . Widened window for PV plot (TrackMonitors v1r30)
  . Add histograms for magnet kick (TrackMonitors v1r30)
  . Add TrackPV2HalfAlignMonitor to monitoring sequence (TrackMonitors v1r30)
  . Add histograms for Velo-Calo matching (TrackMonitors v1r30)
  . Add VeloIPResolutionMonitor to standard monitoring (VeloRecMonitors v2r12)
  . patches #4299, #4332: Add option for field size in SequencerTimerTool
    (GaudiAlg v13r4)
  . Switched off running of expert checking algorithm CaloPhotonChecker, while
    waiting for fix to bug #73392. Can be switched on by setting
    Brunel().CaloPhotonChecker = True

- Changes to example options
  . In MC09-Files.py, do not set database tag for MC09 DataType, use the default 


</PRE><H1><A NAME=v37r7>2010-08-25 Brunel v37r7</A></H1><PRE>
This version uses projects LCG 58e, Gaudi v21r10p1, LHCb v31r4, Lbcom v9r6,
 Rec v10r4 and SQLDDDB v5r34, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

This version requires ParamFiles >= v8r3, Det/DDDB >= v1r34

- NB: This version of Rec and LHCb require new Database tags otherwise processing will fail.
  DDDB must be >= head-20100826
	LHCBCOND must be >= head-20100831
  SIMCOND depends on the data being analysed
  Consult the defaults in Det/DDDB for more information
  Det/DDDB has been updated with these new defaults

- Updated references for tests.

- This version pick up the latest geometry and event model changes
  from LHCb and Lbcom. 

- The Luminosity methods have been updated to allow for -log(P), and write those FSRs
  but this requires a full reprocessing before they can be used

- Tracking and Vertexing have been updated to more appropriate cuts,
  timing has also been improved slightly

- The DDDB, SIMCOND, LHCBCOND tags required to use this software have been
  updated. The software is not strictly backward-compatible on the old DB tags.
  head-20100826 tags should be used. Det/DDDB v1r34 contains the new defaults.

- Det/DDDB v1r34 and Rich/RichRecTrackTools v1r24p1 have been absorbed. 
  . Rich/RichRecTrackTools v1r24p1 fixes bug #72136.
  . Det/DDDB v1r34 fixes many backwards-compatibility problems

</PRE><H1><A NAME=v37r6p1>2010-08-04 Brunel v37r6p1</A></H1><PRE>
This version uses projects LCG 58e, Gaudi v21r10p1, LHCb v31r4, Lbcom v9r5p1,
 Rec v10r3p1 and SQLDDDB v5r34, ParamFiles v8r2, FieldMap v5r5, AppConfig v3r*

- There were a few bugs in the v10r3 Rec release. This is an emergency patch of those.

- bug #70990, problems with stateless tracks in the Best track container
  . Only one package is changed Tf/TrackSys v4r37

- bug #71012, new fit mechanism for tracks breaks Calo photon reconstruction
  . Two packages are reverted to older versions: Tr/TrackFitter v2r49, Tr/TrackTools v3r33

</PRE><H1><A NAME=v37r6>2010-07-28 Brunel v37r6</A></H1><PRE>
This version uses projects LCG 58e, Gaudi v21r10p1, LHCb v31r4, Lbcom v9r5p1,
 Rec v10r3 and SQLDDDB v5r33, ParamFiles v8r2, FieldMap v5r5, AppConfig v3r*

This is a production version for processing 2010 data and Montecarlo


- It was discovered that LCG_58d has major problems with Oracle, Pyroot and Xerces.
  Gaudi v21r10p1 will pick up the patched LCGCMT.


- New minor version to fix urgent problems in production:
  . Crashes in brunel from a segfault in KalmanFitResult savannah bug #70643
  . Rich processing speed improved by a factor of 5 with better Aerogel cuts

- This release goes hand-in-hand with the CondDB patch #4301 which updates the tile calbration

For further information see the release notes for REC v10r3


</PRE><H1><A NAME=v37r5>2010-07-22 Brunel v37r5</A></H1><PRE>
This version uses projects LCG 58d, Gaudi v21r10, LHCb v31r3, Lbcom v9r5,
 Rec v10r2 and SQLDDDB v5r33, ParamFiles v8r2, FieldMap v5r5, AppConfig v3r*

This is a production version for processing 2010 data and Montecarlo

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

For consistent deployment of bug fix #69634, should not be used with simulation
produced with Gauss v38r6 or earlier, Boole v21r5 or earlier

- New tuning:
  . Changes available in SQLDDDB v5r33:
    o New ST charge calibration  (LHCBCOND tag head-20100715)
    o Updated ST dead strip maps (LHCBCOND tag head-20100715)
    o New HPD demagnification parameters (DDDB tag head-20100624)
    o Updated simplified material description including new Velo RF foil
      thickness (DDDB tag head-20100624)
  . Use loose PV for open velo and micro bias trigger in 2010 data. Latter
    requires setting Brunel().SpecialData += ["microBiasTrigger"] (RecConf v1r2)
  . Updated ST eta correction and hit error estimates (STTools  v4r3)
  . Abort processing of hot events in various algorithms:
    o Too many Velo clusters (VeloDAQ v5r3)
    o Too many input data objects (RichGlobalPID v3r14, RichRecBase v3r31) 
    o Too many input tracks (RichRecTrackTools v1r22, RichRecBase v3r31) 
    o Too many Velo tracks (PatAlgorithms v4r5, TrackMatching v2r30)
    o Too many IT or OT hits
      (PatAlgorithms v4r5, TrackMatching v2r30, TsaAlgorithms v3r22)
  . Tighten "large event" abort cuts for photons from <1000000 to <250000
    (RichRecSys v3r30)
  . Remove the "earlyData" track selection cuts (main change is chi^2/dof cut 
    is tightened from <100 to <10) (RichRecBase v3r31, RichRecSys v3r30)
  . Turn off the "earlyData" loose photon selection cuts (RichRecSys v3r30)
  . In track selection of Rich PID, attempt to use only long tracks if total 
    tracks exceed large event cuts (RichRecTrackTools v1r22)
  . Track fits now done after clone killing, avoids fitting tracks that are
    subsequently killed (TrackSys v4r35)
	. Update the Muon PID algorithm to lazy load the PID tool for first time it
    is really needed (MuonID v7r9)

- Persistency changes
  . ProcStatus now has abort flag set if any algorithm has aborted processing
    due to hot event cuts. Abort reason follows convention enforced by new
    ProcStatus addAlgorithmStatus method (RecEvent v2r30)

- Bug fixes:
  . Removal of spurious "Seckrb5" error when opening files with xrootd
    (Root 5.26.00c from LCGCMT_58d)
  . Fix bug #68626, small memory leak when connecting to SQLite database
    (CORAL_2_3_10 from LCGCMT_58d) 
  . Fix bug #69364: Wrong fractional mass calculation on composite material
    (DetDesc v18r21)
  . Fixed a few uninitialized variables, see bug #68795 (VeloDet v13r11)

- Monitoring changes
  . Changes to histogram axis and bin labels 
    (GaudiUtils v3r9,  RichKernel v7r37, RichRecQC v2r43, RichRecTools v4r12)
  . Add MuonEffMonitor, for chamber efficiency monitoring, including fixes to
    speed up the track extrapolations (MuonTrackMonitor v2r1)
  . MuonTrackAligMonitor (MuonTrackMonitor v2r1): 
    o speeded up the extrapolation for residuals calculation on each muon station
    o added some useful histograms to understand if there are shearings wrt to
      the tracking 
  . Add MoniGENERALSeq sequence, with the following algorithms (RecConf v1r2):
    o New monitor for ProcStatus processing aborts. Fill a single histogram
      with the abort rates (%) overall and by sub-system (RecAlgs v1r9)
    o New monitor for the event processing times. Takes a list of algorithm
      names, uses the ChronoSvc to sum the processing time per event for them,
      and produces some basic plots (RecAlgs v1r9)
    o ChronoSvc output level increased, to avoid duplicate timing table
  . Add plot to monitor total number of photon candidates (RichRecQC v2r43)
  . Add counter for number of tracks changing sign (TrackFitter v2r49)
  . Add HitEffPlotter and TrackExpectedXYZHitsTool to make 2D hit efficiency
    plots for Velo, TT, IT, OT. Runs only in Expert mode (TrackMonitors v1r27)
  . Added 2D histos (hiteff,hoteff,expected occ) per layer in 
    OTHitEfficiencyMonitor.cpp (TrackMonitors v1r27)

</PRE><H1><A NAME=v37r4>2010-06-24 Brunel v37r4</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r2, Lbcom v9r4, Rec v10r1
 and SQLDDDB v5r30, ParamFiles v8r2, FieldMap v5r4, AppConfig v3r*

This is a development version for processing 2010 data and Montecarlo

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

Simulation should be produced with Boole v21r5

- New tuning
  . Changes available in SQLDDDB v5r30:
    o new Calo calibration (head-20100531 LHCBCOND tag)
    o Rich run by run refractive index calibration (head-20100531 LHCBCOND tag)
    o Velo RF foil thickness change (head-20100531 DDDB tag)
  . Changed default tags for 2009 and 2010 data (DDDB v1r32)
    o head-20100531         for LHCBCOND
  . Switch from loose to default PV (RecConf v1r1)
  . Improved rejection of R clusters on other side from non-overlap tracks
    (PatVelo v3r24)
  . Do not reconstruct forward tracks if there are more than 1000 velo tracks
    (PatAlgorithms v4r3)
  . New tuning of eta correction (STTools v4r2)
  . Changed the calculation of the effect of the Lorentz angle (STTools v4r2)
  . Use OT dead strip list in expected hit calculation (TsaAlgorithms v3r21)
  . New hit error estimates for MC (STTools v4r2). N.B. The default values are
    only compatible with the corresponding tuning from Boole v21r5
  . Changed precision of OTMeasurement::deltaTimeOfFlight (TrackFitEvent v5r0)

- New features
  . Introduce database usage to calculate integrated luminosity (LumiAlgs v3r6)
  . Added LumiLowCount FSR (LumiAlgs v3r6)
  . Added option FilterBeforeFit in TrackSys and relevant algorithms
    under that condition in RecoTracking (TrackSys v4r34, TrackUtils v1r37)

- Bug fixes
  . In Configurable, fix AgeLimit when reprocessing from RDST or SDST
  . Follow fix #67937 to MagneticFieldSvc().ForceToUseDownMap. As result of this
    bug, DC06 reco was using wrong polarity, since Brunel v37r2 (Magnet v7r1)
  . Fixed configuration bug #68610 with noDrifttimes (TrackProjectors v2r28p2)
  . Improve end of file detection (MDF v3r26, MDF_ROOT v1r3)

- Monitoring changes
  . Reduce verbosity of log file (CondDBEntityResolver v5r2, LumiAlgs v3r6)
  . New STClusterMonitor histograms (STMonitors v3r2)
  . Added 2D histograms (hit-hot) to OTHitEfficiencyMonitor (TrackMonitors v1r26)
  . New histograms in TrackVertexMonitor and TrackVeloOverlapMonitor 
    (TrackMonitors v1r26)
  . New Cherenkov angle plots for aerogel (RichRecQC v2r42)
  . Book all histos at initialize (MuonPIDChecker v5r2)

- Changes to example options
  . All castor data accesses are now down through root: (xrootd) protocol

- Changes to tests
  . remove brunelmdfrst test, as all functionality is already tested elsewhere
  . ignore BrunelInit warnings count in comparisons (due to fluctuations in
    memory usage) 
  . switch off STOfflinePosition Lorentz correction in brunel-mc09-withtruth and
    brunel-mc09-withtruth-invfield tests, to avoid differences when inverting
    the magnetic field.


</PRE><H1><A NAME=v37r3>2010-05-28 Brunel v37r3</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r1, Lbcom v9r3, Rec v10r0p1
 and SQLDDDB v5r29, ParamFiles v8r2, FieldMap v5r4, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- Configurable changes
  . Splitting of RecSys package into RecSys and RecConf task #14804
    o RecSys is the container package, and can contain sam tests
    o RecConf is where the RecSysConf configurable will sit
  . Eliminate importOptions from Rec task #15141
  . New framework for CaloCorrections. Parameters from condDB (CaloReco v5r5)

- Persistency changes
  . Added the ProcStatus object if the VELO decoding fails for any reason
    (VeloDAQ v5r1)
 
- New tuning
  . Changes available in SQLDDDB v5r29:
    o Latest Rich calibration from head-20100430 LHCBCOND tag
    o Latest OT T0 calibration from head-20100509 LHCBCOND tag
    o New field map from head-20100518 LHCBCOND tag
    o Muon half station X,Y positions compatible with tracking alignment from
      head-20100518 LHCBCOND tag
  . Changes to default database tags (DDDB v1r31)
    o default tags for 2009 and 2010 data:
      head-20100518         for DDDB
      head-20100518         for LHCBCOND
    o default tag for 2009 MC:
      head-20100504         for DDDB
    o default tag for MC09:
      MC09-20100430-vc-md100 for SIMCOND
  . Add tighter cuts to NN neurons in physics case (MuonTrackRec v3r3)
  . LumiIntegrateFSR: remove dependence on rawdata, integration at terminate
    only, now also integrate LumiLowFSR (LumiAlgs v3r5)
  . Changes to PatVeloSpaceTool and PatVeloTrackTool to improve internal fit in
    the case of half box misalignments (PatVelo v3r23)
  . Improvements to fit and better PatVeloSpaceTool behaviour for overlap tracks
    (PatVelo v3r23)
  . Changed how PatVeloGeneral flags backward tracks for beam gas events
    (PatVelo v3r23)
  . Modification of LSAdaptPV3DFitter. Tuning of track error parametrization.
    (PatPV v3r16)
  . Fit velo-backward tracks towards vertex instead of away from it.
    (TrackFitter v2r46)
  . Fix an untested statuscode in filter method of TrackInterpolator
    (TrackTools v3r31)
  . Turn back on the Event ID cross checks within the RICH data (RichDAQ v3r27)
  . Turn back on the BXID check between the RICH and the ODIN (RichDAQ v3r27)

- Bug fixes
  . Fix bug in splitCluster onDemand settings (CaloReco v5r5)
  . small fix in CaloProcessor (CaloReco v5r5)
  . Fix bug #67077: suppress printout of 'Error from cov', but keep printout at
    end of job (CaloReco v5r5) 
  . Added check on "Method" to select random Lumi events correctly
    (works for Moore >=v9r0) (LumiAlgs v3r5)
  . Bug fix in DeVeloRtype: the trajectories for the fit sometimes had the
    wrong direction, depending on alignment constants (VeloDet v13r10)

- Monitoring changes
  . Task #15441: major cleanup of warnings and errors in event loop (REC v10r0)
  . Clear the linker table before associating (TrackAssociators v2r8)
  . Added MuonTrackMonitor (MuonTrackMonitor v1r0)
  . Activate monitoring for resolved Pi0 (CaloMoniDst v5r2)
  . Add a couple new plots to show number of active HPDs per event
    (RichRecQC v2r41)
  . In Expert mode, add monitor for ODIN trigger types (RichRecQC v2r41)
  . Turn on summary printout of suppressed high occunpancy HPDs
    (RichTools v2r29p3)
  . Various fixes and protections in STMonitors (STMonitors v3r1)

- Changes to tests
  . brunel.brunel-bigevents: 
    o add a big event from run 70122, tests bug #67111
    o add an event from run 71491, tests bug #67364
  . brunel.brunel-mc09-withtruth-invfield.qmt: fix polarity of inverted field, 
    should be Down (MC09 was simulated with Up polarity)

</PRE><H1><A NAME=v37r2p2>2010-05-16 Brunel v37r2p2</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r0p1, Lbcom v9r2p1, Rec v9r2p1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- bug fixes:
  . Make lite decoding check full bank length, remove lite and full clusters 
    from the conatiners for corrupted TELL1 banks then continue normally. Fixes
    bug #67364 (VeloDAQ v5r2)

- monitoring changes:
  . Clean up verbosity of errors and warnings (VeloDAQ v5r2)

</PRE><H1><A NAME=v37r2p1>2010-05-10 Brunel v37r2p1</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r0p1, Lbcom v9r2p1, Rec v9r2p1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- bug fixes:
  . Fix TrackMatchVeloSeed to always make the container before exiting. Fixes
    bug #67111 (TrackMatching v2r28p1)

</PRE><H1><A NAME=v37r2>2010-04-29 Brunel v37r2</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r0p1, Lbcom v9r2p1, Rec v9r2p1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- Changes to configuration:
  . Event processing time watchdog now disabled by defalut. Enable with
    ApplicationMgr().StalledEventMonitor = True (Gaudi v21r9)
  . Add support for SDST
  . Changed default tags for 2009 and 2010 data (DDDB v1r30):
    o head-20100407         for DDDB
    o head-20100414         for LHCBCOND
  . Change to unambiguous names of accessor functions for MagneticFieldSvc
    (scaleFactor -> signedRelativeCurrent, polarity => is Down) (Magnet v7r0)

- New tuning
  . Turn on suppression of very high occupancy HPDs (>200 hits). Reduces the # of
    photon candidates, speeds things up by ~ a factor of 4 (RichRecSys v3r29)
  . Add protection against hot events (TsaAlgorithms v3r19, TrackMatching v2r28)
  . Change in parametrisation and some other small changes in PatAddTTCoord 
    (PatAlgorithms v4r1)
  . Switch on RZ overlap track finding in backward direction (PatVelo v3r22)

- Persistency changes
  . ProcStatus object is filled by algorithms that abort processing due to large
    event protections (task #14958) (RichGlobalPID v3r13, 
    RichRecTrackTools v1r20, RichRecBase v3r30, STKernel v2r1, VeloDAQ v5r1)
  . Add support for SDST ("slim" or "stripping" DST). Content is identical to
    real data DST, minus DAQ/RawEvent (GaudiConf v13r5)

- New functionality
  . Add support for new RICH background source; Scintillation in the CF4 
    radiator medium (MCEvent v2r17)

- Bug fixes
  . Bug fix for LFC plugin library of CORAL (CORAL_2_3_9, LCG_58c)
  . Bug fix in NeutralProtoP (GlobalReco v6r32p1)
  . Bug fix for downstream tracks in TrackStateInitTool (TrackTools v3r30)

- Monitoring changes
  . Fixes to MuonPID Monitoring (MuonPIDChecker v5r1p1)
  . Many changes to histograms for online and offline monitoring
    (RichRecQC v2r40)
  . Various improvements to track monitoring histograms, added 
    TrackVeloOverlapMonitor (TrackMonitors v1r24)
  . Bug fix in Velo occupancy monitor (VeloRecMonitors v2r9)
  . Adapted configurable to deal with missing Velo tracks on RDST.
    Needed for offline DQ monitoring (VeloRecMonitors v2r9)

- Changes to example options
  . Use consistent DDDB and SIMCOND tags in 2009-FEST-Data.py, following
    change in default 2009 DDDB tag
  . Added example options for 2010 data:
    COLLISION10-Beam3500GeV-VeloClosed-MagDown.py
    COLLISION10-Beam3500GeV-VeloClosed-MagOff.py
    COLLISION10-Beam3500GeV-VeloClosed-MagUp.py

- Changes to tests
  . Add tests on 2010 data:
    brunel.brunel2010magdown - tests also MDF SDST output
    brunel.brunel2010magup   - tests also MDF RDST output
    brunel.brunel2010magoff  - tests also packed DST output
  . Add test on selected big events that caused problems in early 2010 data:
    brunel.brunel-bigevents  - tests also unpacked DST output


</PRE><H1><A NAME=v37r1>2010-04-15 Brunel v37r1</A></H1><PRE>
This version uses projects Gaudi v21r8, LHCb v30r1, Lbcom v9r1, Rec v9r1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data and MonteCarlo

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- Changes to Configurable
  . Use named instance of RichRecQCConf (Same as in RecSys)
  . Propagate "Simulation" property to RecSys (for use by RichRecSysConf)

- New tuning
  . Early Data tweaks disabled for MC in Rich (RichRecSys v3r28) 
  . Make the Functional CK theta resolution tool the default (RichKernel v7r33)
  . New earlyData tuning of PatDownstream (PatAlgorithms v4r0)
  . Replaced FastParabolicExtraplator by ParabolicExtrapolator 
    (TrackMCTools v2r25, TrackTools v3r29, RichRecTrackTools v1r19) 
  . Minor speed improvements to DeRichHPD when updating for T/P condition changes
    (RichDet v14r1)

- New functionality
  . New option to TrackPrepareVelo to reverse arbitrary charges on Velo tracks 
    (TrackUtils v1r35)
  . Allow use of cuts from conditions in STClusterCreator (STAlgorithms v4r0)
  . Added the capability to use the C3F8  as RICH1Gas (RichDet v14r1)

- Bug fixes
  . Fix to handling of "Up" polarity of Magnetic field in extrapolation. Fix
    includes better handling of polarity in MagneticFieldSvc 
    (PatAlgorithms v4r0, TrackTools v3r29, Magnet v6r0)
  . Bug #65360: Protected PatVeloGeneralTracking from pathological events
    (PatVelo v3r21)
  . Bug #65441: 
    o Implement maximum pixel, track and photon cuts; abort large events
      (RichRecSys v3r28, RichRecTrackTools v1r19, RichRecBase v3r29)
    o Abort Velo decoding when more than 10k VeloClusters are to be decoded, 
      empty containers are provided instead (both lite and full) (VeloDAQ v5r0)
  . Bug #64336: Fixed crash when track without measurements (TrackFitter v2r47)
  . VeloTrackMonitor: protection against missing clusters (VeloRecMonitors v2r8)
  . Added protection against huge Velo events when more than 10k VeloClusters are
    to be decoded, decoding is aborted, an Error is printed and empty containers
    are provided instead (both lite and full) (VeloDAQ v5r0)
  . Made a corrupted bank length in the full cluster decoding an Abort event
    incident (VeloDAQ v5r0)
  . Bug 65440: Increased max capacity of ISolid::Ticks. Throw exceptions from
    complicated Solids if capacity insufficient (DetDesc v18r20)
  . Protect against bug 65121 (negative errors (squared !) from Track States)
    (RichKernel v7r33)

- Monitoring changes
  . Add simplified PID monitoring algo CaloEMuPIDMon (CaloMoniDst v5r0)
  . Remove completely CaloEMuMonitor and CaloEMuChecker (CaloMoniDst v5r0)
  . MuonPIDChecker looks at Downstream tracks also in OffllineFull mode
    (MuonPIDChecker v5r1) 
  . Fine tune event abort messages (RichGlobalPID v3r12, RichGlobalPID v3r12)
  . Improvements to the CK theta and resolution detailed monitors 
    (RichRecMonitors v2r27)
  . Fine tune the data/DB cross check messages (RichRecQC v2r39)
  . Make check on track type before processing in IT/TTTrackMonitor, removes all
    errors from extrapolator and reduces CPU by factor >10 (TrackMonitors v1r23)
  . Add multiplicity histo to TrackMonitor (TrackMonitors v1r23)
  . ST noise taken from conditions (not supported for MC09) (STMonitors v3r0)

- Changes to tests
  . Edited global/local db to follow new CondDB configurable
  . Edited brunel-mc09-withtruth to follow RichRecQCConf change
  . Edited brunel-mc09-mctruth-withfield to follow change in MagneticFieldSvc
    and use new TrackPrepareVelo to reverse arbitrary charges on Velo tracks

</PRE><H1><A NAME=v37r0>2010-04-01 Brunel v37r0</A></H1><PRE>
This version uses projects Gaudi v21r8, LHCb v30r0, Lbcom v9r0, Rec v9r0
 and SQLDDDB v5r23, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data reprocessing

Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Changes to configuration
   . Major update to configurables using the new Gaudi v21r8 functionality,
     for use in Hlt2. Transparent for Brunel
   . Changed default data type in configuration files to 2009 (MuonID v7r8)
   . Velo dEdx parameters in TrackVelodEdxCharge now loaded from conditions
     (TrackTools v3r28, SQLDDDB v5r23)
   . Enable CondDB by default in CaloID2DLL (CaloPIDs v5r5)
   . Add NeutralPIDs Calo PID sequence (CaloPIDs v5r5)
   . Modification to structure of PV fit tools (PatPV v3r14)
   . In the online environment (Online == True) the condDB().IgnoreHeartBeat
     property is defaulted to True ( DetCond v12r11)
   . Changed default tag for 2009 and 2010 data (DDDB v1r29, needs SQLDDDB v5r23)
     o head-20100325         for LHCBCOND

 - Persistency change
   . RichPID also supports Below Threshold DLLs. RichPID packing version 
     updated to 1. 
     (PackedEvent v4r1, RecEvent v2r27, GaudiConf v13r4p2, LHCbKernel v11r12)

 - New functionality
   . Add support for the RICH BelowThreshold DLL values
     (Rich packages, GlobalReco v6r32)

 - New tuning
   . Changed default data type in configuration files to 2009 (MuonID v7r8)
   . New early data tuning for seed tracks (TsaAlgorithms v3r18)
   . Retune dEdx in velo to match 2009 data (TrackTools v3r28, SQLDDDB v5r23)
   . Update of ST measurement uncertainty tuning for early data 
     (TrackSys v4r31, STTools v3r19)
   . Use detailed Bethe Bloch dE/dx tool as default in fit
     (TrackExtrapolators v2r26)

 - Bug fixes
   . Now handles SIGXCPU signal, stopping gracefully if LSF time limit exceeded
     (GaudiSvc v18r8, patch #3875)
   . Fix bug 64608 in TrackMasterFitter: the veloExtrapolator (straight lines)
     was not used for VeloR tracks (TrackFitter v2r46)
   . Fixed bug 64670 (MuonID v7r8)
   . Fix non-reproducible processing in CaloSharedCellAlg (CaloReco v5r4)
   . PatVeloTT pattern recognition bug fix (PatVeloTT v3r11)
   . Fixed small bug in PrimaryVertexChecker (PatChecker v3r7)
   . Fix bug 64727 in TrackEffChecker (TrackCheckers v4r10p1)
   . Fix in PVVeryLoose.py (PatPV v3r14)
   . Check for valid magic pattern when decoding RawBanks (HltDAQ v1r4, 
     L0Calo v11r1, L0Muon v9r1, PUVeto v7r7p1, RichDAQ v3r26p1, VeloDAQ v4r13,
     CaloDAQ v4r19, LHCbAlgs v2r24, MuonDAQ v4r8, OTDAQ v7r7)
   . Bug fix in noise update methods [local cache not updated] (STDet v4r18)
   . Small fix in MuonTrack.cpp (MuonInterfaces v1r0p1)

 - Monitoring changes
   . ProtoParticles now have RICH, CALO and CombinedDLLs added, for use in 
     monitoring phase, removed before saving DST (GlobalReco v6r32)
   . Reduced binning of several plots (VeloRecMonitors v2r7p1)
   . Printout APE values from STOfflinePositionTool (STTools v3r17)
   . Suppress warning message about empty HPD data blocks
     (RichRecBase v3r27p1)
   . Minor changes to Rich monitoring output (RichRecQC v2r37p1)
   . Changes to Calo monitoring (add ProtoElectronMon, remove 
     EcalSplitClusterMon, less verbose initialization) (CaloMoniDst v4r4)
   . Verbosity changes in bankKiller (DAQUtils v1r2)
   . Additional track monitoring histograms, disable most histograms in Online,
     move some histograms to Expert (TrackMonitors v1r22)
   . Cleanups in MuonPIDChecker (MuonPIDChecker v5r0)
   . Less verbosity in TrackMasterFitter initialisation (TrackFitter v2r46)
   . Less verbosity in TrajOTProjector initialisation (TrackProjectors v2r27p1)
   . Add RichHPDImageShifts monitoring sequence (RichRecQC v2r38)

 - Changes to tests
   . Pick up histogram setting options from AppConfig
   . Added three new tests, fixedfile-brunel2009-*, for reprocessing 2009 data
     o fixeddb: with some arbitrary database
     o globaldb: with the latest database global tags
     o localdb: with the latest database local and global tags
   . Update exclusions from comparisons with reference to exclude also:
     o Rich refractive index updates on Online DB
     o LHCBCOND connection strings for local tags (needed for new localdb test)
     o Warnings about total memory of event exceeding 3*sigma
   . In BrunelSys tests:
     o Added configurables.qmt to instantiate all configurables

</PRE><H1><A NAME=v36r2>2010-02-26 Brunel v36r2</A></H1><PRE>
This version uses projects Gaudi v21r7p1, LHCb v29r2, Lbcom v8r3, Rec v8r2
 and SQLDDDB v5r20, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2010 data taking preparation and for 2009 data
reprocessing

Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Changes to Configuration: 
   . Added support for various histogramming levels, via Brunel().Histograms
     slot. Possible values: "None", "Online", "OfflineExpress", "OfflineFull",
     "Expert". Note that these levels are now case sensitive.
     (RichRecQC v2r37, VeloRecMonitors v2r7, RecSys v8r2, Brunel v36r2)

 - New tuning
   . Better general tracking in overlap region when misaligned (PatVelo v3r20)
   . New tuning of track fit:
     o Change track fit convergence criteria and increase max number of 
       iterations from 3 to 10 (TrackFitter v2r45)
     o Changed default value of UpdateTransport to true (TrackFitter v2r45)
     o Improved TrackStateInitTool for long, downstream tracks (TrackTools v2r27)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=2&resId=0&materialId=slides&confId=85503">talk</a> at TIM meeting on 2010-02-25)

 - Bug fixes
   . Fix bug #63402, infinite loop that could happen when decoding PuVeto data
     (PuVeto v7r7)

 - Monitoring changes
   . Less info() at initialize step (PatVelo v3r20)
   . Moved some info messages to debug; improved error reports for RK
     (TrackExtrapolators v2r25)
   . Optimisation of Rich histogram access (RichKernel v7r31)
   . Reduced default set of RichENN histograms (RichRecQC v2r37)
   . Reduced histograms produced in "Online" case 
     (RichRecQC v2r37, VeloRecMonitors v2r7)
   . Reduced default set of OT histograms (TrackMonitors)

 - Changes to tests
   . Update RichRecQC options in mc09-withtruth and mc09-withtruth-invfield tests
   . In brunel-fest09.qmt, test also Brunel().Histograms="Online";
   . In brunelmdfrdst.qmt, test also Brunel().Histograms="OfflineExpress";
   . In brunel-mc09-stripping.qmt, test also Brunel().Histograms="None";
   . In all tests, ignore changes in magnetic field map scale factor or
     polarity (initial value depends on "now" value in latest online snapshot)



</PRE><H1><A NAME=v36r1>2010-02-19 Brunel v36r1</A></H1><PRE>
This version uses projects Gaudi v21r7p1, LHCb v29r1, Lbcom v8r2, Rec v8r1
 and SQLDDDB v5r20, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for initial 2010 simulation and for 2010 data
taking preparation

Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Changes to Configurable: 
   . Remove OTTimeCreator from CheckOTSeq, no longer needed (task 12674)
   . Changed default DataType to 2010
   . New default database tags for 2009 (DDDB v1r28)
   . Move all decoding and clustering to the start of the tracking sequence
     (TrackSys v4r30)

 - Persistency changes
   . Add LumiLowFSR (LumiAlgs v3r3, LumiEvent v2r5)

 - New functionality
   . MuonID parameters can now be read from database (MuonID v7r7)
   . New DLL_flag=3 method (MuonID v7r7)
   . CaloID2DLL - optionally read the DLLs from CondDB (CaloPIDs v5r4)

 - New tuning:
   . Update maximum reconstructed CK theta value for aerogel from 290mrad to
     320mrad, to match the observed spectrum from 2009 data (RichRecBase v3r26)
   . Add temporary ad hoc correction to aerogel CK theta values for earlyData
     (RichRecSys v3r26)
   . Made MuonID MC09 configuration the default (same as 2009) (MuonID v7r7)
   . Latest earlyData tuning for PatDownstream & PatForward (PatAlgorithms v3r29)
   . New parameterisation in PatAddTTCoord (PatAlgorithms v3r29)
   . Improvements in TrajOTProjector (TrackProjectors v2r27)
   . Add PatPVVeryLoose.py for the tuning on 2009 data (RecSys v8r1)
   . Changes in OT tracking:
     o Added flag for use of driftttime to OTMeasurement (TrackFitEvent v4r4)
     o Improvements in OTProjector,implement new 'prefit' (TrackProjectors v2r27)
     o skip drifttimes that are ~2sigma (6ns) outside drifttime spectrum
       (TrackProjectors v2r27)
   . Added muon chisquare to KalmanFitResult (TrackFitEvent v4r4)
   . Use RungeKutta extrapolator instead of HeraB (CaloPIDs v5r4,CaloTools v5r13)

 - Bug fixes
   . Bug fix in TrackV0Utils (TrackUtils v1r34)
   . Proper handling of magnetic field (RichDet v13r4)
   . Fix incompatibility issue with DCache server, introduced in Boole v20r1
     (ROOT 5.26.00b)
   . Added profiles to OTHitEfficiencyMonitor and histograms to OTEffMonitor,
     OTTrackMonitor (TrackMonitor v1r20)
   . Avoid selecting rings around target radius (RichRecTemplateRings v1r3)
   . Fix untested StatusCode in HPD hot pixel finder (RichTools v2r28p1)
   . Do not add "/Event/Link/Trig/L0/Calo#1" to .dst in MC09 case, fixes bug
     62725 (GaudiConf v13r4)

 - Monitoring changes:
   . Updates to SpdMonitor, add histograms in CaloEMuMonitor (CaloMoniDst v4r4)
   . New Pixel Cluster monitor, remove MC related printout (RichRecQC v2r36)
   . New histogram per radiator for raw expected CK theta distn (RichRecQC v2r36)
   . Changes to Rich Alignment histos (RichRecQC v2r36)
   . TrackMuonMatchMonitor added to MoniTrSeq (TrackMonitor v1r20)
   . Changes to ST cluster monitor (STMonitors v2r4)
   . Move some info messages to debug (TrackExtrapolators v2r24p2)
   . Vertex shifts now measured with respect to MC position (PatChecker v3r6)
   . Disabled Rich 2D IFB hit maps (RichRecQC v2r36)
   . Detailed hardware consistency check of L0TCK (L0DU v10r2)

 - Changes to tests:
   . Modify brunel-cosmics.qmt to add a test of writing unpacked DST
   . Do not run mc09-withtruth-invfield test if mc09-withtruth has failed
   . In mc09-withtruth and mc09-withtruth-invfield tests, switch off Rich
     trackless ring monitoring since some differences are expected due to wrong
     magnetic field corrections in the invfield case
   . Change SAM test to test for real data instead of MC, since for MC concept
     of latest default (SimCond) tag does not make sense

</PRE><H1><A NAME=v36r0p1>2010-02-02 Brunel v36r0p1</A></H1><PRE>
This version uses projects Gaudi v21r7, LHCb v29r0, Lbcom v8r0, Rec v8r0
 and SQLDDDB v5r18, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data reprocessing
Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Bug fixes
   . TrackV0Finder: output container was missing in events w/o primary vertex
     (broke unpacked DST) (TrackUtils v1r33p1) 

</PRE><H1><A NAME=v36r0>2010-01-26 Brunel v36r0</A></H1><PRE>
This version uses projects Gaudi v21r7, LHCb v29r0, Lbcom v8r0, Rec v8r0
 and SQLDDDB v5r18, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a development version for 2010 data preparation
Output requires DaVinci v25r0 or later

 - Changes to Configurable: 
   . Do not write NanoEvents to DST by default (task 12940). Can be
     switched on by setting Brunel().WriteLumi = True
   . If not writing NanoEvents, do not run dummy DST packers
   . LumiFSR creation done only if input are MDF events
   . New option RawBanksToKill: removes banks from RawEvent so they are not
     seen by the reconstruction and not copied to DST. Default is empty list,
     except if DataType is "2009", when ["VeloFull", "L0PUFull"] are removed.

 - Persistency changes
   . Always set MuonPID SmartRef in ChargedProtoParticleAddMuonInfo when 
     available (GlobalReco v6r31)
   . Added TimeSpanFSR: keeps earliest/latest event time on a raw file
     (LumiEvent v2r4, LumiAlgs v3r2)
   . Added support for packed RichPIDs and MuonPIDs to the MDF Writer and Reader
     (EventPacker v2r2)
   . Replace std::vector<int> with plain ints in PackedRichPID (PackedEvent v4r0)
     N.B. This change is backwards incompatible, requires DaVinci v25r0 to read

 - New functionality
   . Add possibility to flag tracking hits not to be used in pattern reco
     (TfTools v1r9, PatAlgorithms v3r28, PatVelo v3r19, PatVeloTT v3r10,
      TsaAlgorithms v3r15, TfKernel v2r14)
   . Completed task #13270: Block access to conditions in ONLINE partition if
     validity interval is not closed (DetCond v12r9)

 - New tuning
   . New tunings for Brunel().SpecialData += ["EarlyData"]:
     o Looser photon preselection cuts in Rich (RichRecSys v3r25)
     o Use Ttracks and lower momentum threshold for MuonID (MuonID v7r6)
   . Improved handling of Velo tracks across half boxes (PatVelo v3r19)
   . Added more stable expression for standard smoother (TrackFitter v2r44)
   . Changed default tags for 2009 data (DDDB v1r27)
     o head-20100119         for DDDB
     o head-20100119         for LHCBCOND
     o sim-20100119-vc-md100 for SIMCOND
   . Now using online Rich gas temperature & pressure conditions (SQLDBDB v5r18)

 - Bug fixes
   . Pass Brunel().DataType to DstConf (who propagates it to SimConf). 
     Fixes bug 60636
   . Fix bug in filling signal HPD occupancy plots in PixelQC (RichRecQC v2r35)
   . Fix PatVeloTTTool to correctly update B field dependent parameters if
     Magnetic field changes after initialization (PatVeloTT v3r10)
   . Fixed problem in PVUtils which was causing a FPE (bug #61282) (PatPV v3r12)
   . Fix uninitialized variable in CellParam constructor (CaloDet v10r3p1)
   . In DeSTSector, change precision of m_dp0di and m_p0 from float to double, 
     to fix data truncation warning on Windows (STDet v4r16p1)
   . Fix bug in RawEvent.h, which prevented the removal of banks for MDF files
     (DAQEvent v9r0, DAQUtils v1r0)
   . Add DataType slot to SimConf, DigiConf, DstConf. If DataType is 'DC06',
     SimConf does not add spillover Gen info to output file. Fixes bug 60636
     (GaudiConf v13r3)
   . Protect TrajPoca against piecewisetraj returning '0' for distToErr
     (LHCbAlgs v2r32)
   . Fix to options to enable file sharing in FileRecordCnvSvc (GaudiPoolDb v5r6)
   . Fix untested StatusCode in EventLoopMgr when no events processed 
     (bug 59797, GaudiSvc v18r7)


 - Monitoring changes
   . New CK theta versus momentum plots (RichRecQC v2r35)
   . New histograms in Rich alignment monitors (RichRecQC v2r35)
   . Improved printout of L0DU configuration when re-running L0 (L0DU v10r0)
   . New L0DUReportMonitor histograms and improved printout (L0DU v10r0)
   . New counters in DST packer algorithms (EventPacker v2r2)

 - Changes to tests:
   . Use correct magnet polarity in mdfrdst test
   . Added brunel-fest09-olddddb to check if bug 59544 re-appears
     runs the Fest09 data with an old dddb tag. Segfaults in v35r8.

 - Changes to example options
   . 2009-Collisions.py no longer sets Brunel().UseOracle, no longer needed for
     the 2009 data.


</PRE><H1><A NAME=v35r11p2>2010-01-19 Brunel v35r11p2</A></H1><PRE>
Version built on v35r11b branch
This version uses projects Gaudi v21r6, LHCb v28r5, Lbcom v7r11, Rec v7r12
 and SQLDDDB v5r17, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for reprocessing of 2009 real data with 20100119
alignment.

Output requires DaVinci v24r5p1 or later

- Bug fixes
  . Fix bug in DeSTSector::cacheInfo: the trajectories used in track finding were
    displaced by 0.5 strip pitch (STDet v4r16)

</PRE><H1><A NAME=v35r11p1>2010-01-19 Brunel v35r11p1</A></H1><PRE>
Version built on v35r11b branch
This version uses projects Gaudi v21r6, LHCb v28r5, Lbcom v7r11, Rec v7r12
 and SQLDDDB v5r17, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for reconstruction of 2009 simulation in the same
conditions as the January 2010 V0 stripping of 2009 real data

Output requires DaVinci v24r5p1 or later

- New tuning
  . modifications to reconstruct loose PV without requirement of VELO segment
    (PatPV v3r11p1)
  . modified PVLoose.py options for Collision09 (PatPV v3r11p1)
  . Changed default database tags for 2009 data (DDDB v1r27)
    o head-20100119         for DDDB
    o head-20100119         for LHCBCOND
    o sim-20100119-vc-md100 for SIMCOND

- Bug fixes
  . Fix untested StatusCode in LSAdaptPVFitter.cpp (PatPV v3r11p1)

- Changes to example options
  . 2009-Collisions.py no longer sets Brunel().UseOracle, no longer needed for
    the 2009 data.

- Changes to QMTests
  . Make QMTest exclusion for changes in path to CondDB files more robust
    (same as fix to GaudiConf v13r3 on head branch)

</PRE><H1><A NAME=v35r11>2009-12-16 Brunel v35r11</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r5, Lbcom v7r11, Rec v7r12
 and SQLDDDB v5r17, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data reprocessing
Output requires DaVinci v24r5p1 to v24r*

- New tuning
  . Add Brunel().SpecialData = ["earlyData"] switch to include all special
    tunings for 2009 data reprocessing
    (AppConfig v3r28, RecSys v7r12, TrackSys v4r29, RichRecSys v3r24)
  . New tuning for "earlyData" introduced for DownStream (PatAlgorithms v3r27)
    Seed(TsaAlgorithms v3r14p3) and Match (TrackMatching v2r25) tracks.
  . Looser cuts for "earlyData" in Rich (RichRecSys v3r24) and Global PID
    (GlobalReco v6r30) track selection
  . Relaxed PV cuts for "earlyData" (PatPV v3r11, RecSys v7r12)
  . Changed default tag for 2009 data: head-20091211 for LHCBCOND, new OT drift
    time calibration (DDDB v1r26, SQLDDDB v5r17)
  . New ONLINE snapshots: online conditions can be obtained from SQLDDDB for all
    data taken until early morning on 20091215. Also includes fixes for all
    magnet polarity issues in early data (SQLDDDB v5r17)
  . Add polarity() to ILHCbMagnetSvc (LHCbKernel v11r10, Magnet v5r6). Needed by
    certain pattern recognition algorithms to pick up correct magnetic field
    parameterization
  . TrackV0Finder now skips V0 search if PV not reconstructed (TrackUtils v1r32)

- Bug fixes
  . Fix bug in 64 bit I/O routines handling large files. Was preventing to read
    mdf files > 2GB on 32 bit architecture (MDF v3r22)
  . Fix bug #60276: SolidPolycone does not define a correct bounding box
    (DetDesc v18r18)
  . XmlGenericCnv.cpp: fix a tiny memory leak releasing of a temporary string
    (DetDescCnv v4r11)
  . Fix trivial untested StatusCode in MemoryTool.cpp (LHCbAlgs v2r31p1)
  . Removed default constructors for measurement classes (TrackFitEvent v4r3)
  . PatDownstream: fixes division by zero (PatAlgorithms v3r27)
  . Minor fixes to warnings and unchecked codes (TrackExtrapolators v2r24p1)
  . In a track refit, count outliers before removing (TrackFitter v2r43)

- Changes to monitoring:
  . Added more histograms to TrackMonitor (TrackMonitors v1r18)
  . Downstream track efficiency now checked also if Velo open (TrackSys v4r29)
  .	Minor changes in monitoring histograms (CaloMoniDst v4r2)

- Changes to example options
  . Add earlyData switch to 2009-BeamGas.py and 2009-Collisions.py

- Changes to tests
  . brunelmdfrdst test now processes 2009 collisions data file. Tests both the
    2009 data processing and the mdf pack type

</PRE><H1><A NAME=v35r10p1>2009-12-07 Brunel v35r10p1</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r4, Lbcom v7r10, Rec v7r10
 and SQLDDDB v5r16, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*
 plus the following patches: RichRecSys v3r23, PatAlgorithms v3r26,
                             TrackFitter v2r42, TrackMonitors v1r17p1

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

- New tuning:
  . Extend python Configurable for Rich Track Creator to allow track selection
    cuts to be over-ridden. Can be used for early data in conjunction with 
    $APPCONFIGOPTS/Brunel/richLooseTrackCuts.py 
    (AppConfig v3r26, RichRecSys v3r23)

- Bug fixes:
  . PatSeedFit: Supply valid arguments to PatSeedTrack constructor in all cases
    (PatAlgorithms v3r26)
  . PatDownstream: Added checks for magnet off, fixes division by zero
    (PatAlgorithms v3r26)
  . TrackMasterFitter::projectReference: oce statuscode with limited scope was
    hiding another statuscode. As a result the failure was not properly returned,
    causing crashes on early data (TrackFitter v2r42)
  . Suppress excessive warnings in PitchResTool.cpp (TrackMonitors v1r17p1)

 - Changes to example options
   . In options/2009-Collisions.py:
     + Add importOptions("$APPCONFIGOPTS/Brunel/allTracksProtoP.py"), additional
       options to make ProtoParticles for all track types (Brunel default is just
       [ "Long", "Upstream", "Downstream"]
     + Add importOptions("$APPCONFIGOPTS/Brunel/richLooseTrackCuts.py"), 
       additional options loosen Rich track selection in early data
     + Add importOptions("$APPCONFIGOPTS/UseOracle.py"), to use Oracle CondDB
     + Update example file to collisions data with all detectors included

</PRE><H1><A NAME=v35r10>2009-12-02 Brunel v35r10</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r4, Lbcom v7r10, Rec v7r10
 and SQLDDDB v5r16, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

 - New tuning:
   . Improved comparison of floating point numbers (DetDesc v18r17)
   . Changed default tag for 2009 data: head-20091127 for LHCBCOND
     (DDDB v1r25, needs SQLDDDB v5r16)
   . Use ROOT::Math::CholeskyDecomp to calculate chi2, avoids saddle point
     problems. (PatAlgorithms v3r25, TrackFitter v2r41) 

 - Changes to tests
   . Update Brunel exclusions file to skip comparisons of geometry overlap
     coordinates (but still check that number of overlaps is unchanged)

</PRE><H1><A NAME=v35r9p1>2009-11-27 Brunel v35r9p1</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r3, Lbcom v7r9, Rec v7r9
 and SQLDDDB v5r15, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*
 plus the following patches: GaudiConf v13r1, Magnet v5r5, TsaAlgorithms v3r14p1,
                             TrackFitter v2r40p1, TrackTools v3r24

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

 - New tuning:
   . Changed the default momentum for magnet off tracks from 1 GeV to 100 GeV.
     This is now true for seed, long, downstream tracks (TrackTools v3r24)
   . New tuning of TsaSeed when not using OT drift times (TsaAlgorithms v3r14p1)
   . Improve robustness of Dst packing sequence against various types of MC
     truth content (GaudiConf v13r1)

 - Bug fixes:
   . MagneticFieldSvc was ignoring ScaleFactor option (Magnet v5r5)
   . Work around to correctly pass properties to ConfiguredFitters 
     (TrackFitters v2r40p1)

 - Monitoring changes
   . Remove obsolete "occupancy in T1 layer 1 versus x coordinate" histogram from
     OTTimeMonitor expert histos (OTMonitor v3r1)

 - Changes to example options:
   . Add options/2009-Collisions.py: example options for 2009 collisions data

</PRE><H1><A NAME=v35r9>2009-11-23 Brunel v35r9</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r3, Lbcom v7r9, Rec v7r9
 and SQLDDDB v5r15, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

 - Configuration changes:
   . Fixes to ConfiguredFitter
   . Changed default tags for 2009 data (DDDB v1r24, SQLDDDB v5r15):
     o head-20091120         for DDDB
     o head-20091120         for LHCBCOND
     o sim-20091112-vc-md100 for SIMCOND

 - New features:
   . Add special tuning for beam gas events (using VeloGeneric). Switched on by 
     importOptions("$APPCONFIGOPTS/Brunel/beamGas.py")
     (AppConfig v3r22, TrackSys v4r28, RecSys v7r9)

 - New tuning:
   . Various protections to handle real data (VeloDAQ v4r11)

 - Bug fixes:
   . Fix untested StatusCodes in RichAlignmentMonitor (Rich/RichRecQC v2r43p1)
   . Fixed bug in HitPattern affecting velo pattern (LHCbKernel v11r9p1)

 - Changes to monitoring:
   . Several changes for first data (VeloRecMonitors v2r3)
   . Include OTTimeMonitor in OT sequence
     (TrackMonitors v1r16, OTMonitor v3r0,LHCbKernel v11r9p1)

 - Changes to example options
   . Add options/2009-BeamGas.py: example options for 2009 beam gas events
     (needs AppConfig v3r22)

 - Changes to tests
   . fixedfile tests added, the file used is coded into the tests, and all boole
     v19r8 file types are tested
   . fixedfile-boole-v19r8-2009-digi-extended-spillover
	 . fixedfile-boole-v19r8-2009-digi-extended
   . fixedfile-boole-v19r8-2009-digi
   . fixedfile-boole-v19r8-2009-mdf
   . Do not fail tests if "Delta Memory for the event exceeds 3*sigma"

</PRE><H1><A NAME=v35r8p1>2009-11-22 Brunel v35r8p1</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r2, Lbcom v7r8, Rec v7r8
 and SQLDDDB v5r15, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

- Bug fixes:
  . Fixed a problem in the decoding and encoding of the event time in the ODIN
    bank version 6 (LHCbAlgs v2r31)

</PRE><H1><A NAME=v35r8>2009-11-17 Brunel v35r8</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r2, Lbcom v7r8, Rec v7r8
 and SQLDDDB v5r14, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5 to v24r*

 - Changes to Configuration:
   . Use new configurable to decode CaloDigits (CaloDAQ v5r15, CaloReco v5r3)
   . Definition of MC content of DST is delegated to SimConf and DigiConf
     configurables (GaudiConf v13r0)
   . New option Brunel().ProductionMode", special settings for running in
     production, replaces "NoWarnings" option (kept for backward compatibility)
   . Adapt luminosity configuration to run on raw files only. 
     Luminosity tracking has no meaning on an ETC (LumiAlgs v3r0).
	 . Replace OTRawBankDecoder with OTHitCreator in PadSeedFit
     (PatAlgorithms v3r24)
   . Added cosmic configurations (TrackSys v4r27, TrackFitter v2r39)
   . Added option to run PatMatch (TrackSys v4r27)
   . Added option to TsaSeeding to run only over hits unused in the previous run
     of PatForward (OnlyUnusedHits=true) (TsaAlgorithms v3r14)
   . Added option to TrackMatchVeloSeed: if DiscardUsedVelo, velo seeds used in
     "good" PatForward tracks with chi2 < DiscardChi2 (default 1.5) are discarded
     (TrackMatching v2r25)

 - Persistency changes:
   . DAQ/ODIN removed from persistent files. Add ODIN bank to pRec/RawEvent on
     RDST. DAQ/ODIN is now transient only, always rebuilt from ODIN raw bank, to
     allow evolution of ODIN data content
     (DAQEvent v8r2, GaudiConf v13r0,LHCbAlgs v2r30)
   . All MC information on DST is now packed
     (EventPacker v2r0, PackedEvent v3r7, GaudiConf v13r0)
   . New XDST format for MC data, includes packed MC hits, and Spillover 
     containers (GaudiConf v13r0)
   . RichPIDs and MuonPIDs are no longer added to ProtoParticle as ExtraInfo.
     They are now saved as separate packed containers (GlobalReco v6r28,
     EventPacker v2r0, PackedEvent v3r7, GaudiConf v13r0, LHCbKernel v11r9)
   . New packers explicitly store the 'packing version' in the packed DataObject.
     Allows the 'version' of the data object to the be used to store any 
     versioning needed in the original unpacked data
     (EventPacker v2r0, GaudiKernel v27r6)
   . Packed containers for DST are always produced, even it unpacked input is
     missing (EventPacker v2r0, GaudiConf v13r0)
   . Added EventCountFSR, storing how many events are in the file and how many
     were used to make the file (LumiEvent v2r3, LumiAlgs v3r0)
   . Add ghost id for all track types (TrackTools v3r23)

 - New tuning:
   . Apply patch #3399 XmlGenericCnv uses inneficient part of Xerces-C API for
     DOM walking. Speeds up loading LHCb geometry by about 10% (DetDescCnv v4r10)
   . Replace vector by range for nodes in Track (TrackEvent v5r2)
	 . Make sure trackfitters are (also) configured by ConfiguredMasterFitter
     (MuonID v7r3)
   . Changes to the track fit (TrackFitEvent v4r2, TrackSys v4r27,
       TrackFitter v2r39, TrackProjectors v2r26, TrackTools v3r23):
     o All the track types are fitted with the same TrackMasterFitter config
 		 o New configured fitters 
		 o Moved projectors to masterfitter.
   . Major changes in Lumi counting (LumiAlgs v3r0)

 - Bug fixes:
   . Modified the dictionary for DataObject to make the version persistent. In
     all data written up to now, version was set to zero when reading back so
     schema evolution of e.g. post-MC09 tracks was wrong (GaudiKernel v27r6)
   . Fixed bug #57416: improve IncidentSvc printout when an exception is thrown
     by handlers (GaudiSvc v18r8)
   . Add protections against incomplete or corrupt raw data (CaloDAQ v5r15)
   . Fix a memory leak in XmlGenericCnv.cpp (DetDescCnv v4r10)
   . Disable clearing of CALO hypos in ProtoParticle various removeCaloXXXInfo()
     methods, since this incorrectly removes *all* hypos, not just those
     associated with the given technique (RecEvent v2r23)
   . Fix for unitialized member variable in PatForwardTool (PatAlgorithms v3r24)
 	 . Made MagnetTool aware of field updates (PatVeloTT v3r9)
   . Fixed memory leak in OTHitEfficiencyMonitor (TrackMonitors v1r15)
   . Fixed a bug in TrackStateInitTool (TrackTools v3r23)
   . Fix small memory leak in TrackNNGhostId (TrackTools v3r23)

 - Changes to monitoring:
   . Speed up processing of histograms (CaloUtils v8r8)
   . Fix CompareTrack to not report saturated q/p error for poorly measured
     tracks (EventPacker v2r0)
   . Add to Expert monitoring full checks up packing/unpacking integrity of
     DST packed containers (GaudiConf v13r0, Brunel/Configuration.py)
   . Suppress warnings about missing or corrupt data
     (STDAQ v3r20, VeloDAQ v4r10)
   . Improvements to monitoring for real data (STMonitors 3r13)
   . Track monitors improvements (TrackMonitors v1r15):
     o Added TrackAlignMonitor: monitoring histos for velo/tt/it/ot
     o Small update of OTTrackMonitor, for the pitch residual
     o Remove fullDetail from alignment histograms in IT/TTTrackMonitor
		 o Added track-calo match algorithms
		 o Modified histos in TrackMonitor
   . Added TrackOccupChecker for the studies of the occupancies in IT, OT,
     and Velo (TrackCheckers v4r10)

 - Changes to example options
   . Modify Brunel-Cosmics.py to follow changes in TrackSys v4r27
   . Remove also obsolete Rich options from Brunel-Cosmics.py

 - Changes to tests:
   . brunel-fest09 test updated to test also Brunel().ProductionMode option
   . new test readdstfsr.qmt, checks that brunel-fest09 has written an fsr

</PRE><H1><A NAME=v35r7>2009-10-23 Brunel v35r7</A></H1><PRE>
This version uses projects Gaudi v21r5, LHCb v28r1, Lbcom v7r7, Rec v7r7
 and SQLDDDB v5r13, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v24r3 to v24r*

 - Changes to configuration:
   . Allow users to explicit set empty sequences
   . Set context of top level sequence to value of "Context" property
   . Add support for Lumi events:
     o New LumiSeq sequence runs if input is real data in MDF or ETC format
     o LumiSeq runs immediately after initialisation, filters on Hlt routing bits
     o All phases other than "Init" and "Output" moved into a "PhysicsSeq"
       sequencer and run only if physics routing bit is set
     o Calo bank unpacking moved from Init phase to first algorithm of PhysicsSeq
     o Dummy DSTPacker sequence is run if physics routing bit is not set, to
       create empty containers for the events output file
   . Bug fix: production of Lumi FSR now done also when input is from ETC
     (was MDF only)
   . Move configuration of Monitoring phase to RecMoniConf configurable.
     Brunel().MoniSequence option removed, now a property of RecMoniConf
     (RecSys v35r7)
   . Add support for XmlSummary (not yet filled). Enabled by setting
     LHCbApp().XMLSummary = True
     (GaudiConf v12r9, XmlSummaryKernel v1r0, XmlSummaryBase v1r0, Gaudi v21r5)

 - Persistency changes
   . Remove EOR from FileRecords path (LumiAlgs v2r3)

 - New tuning
   . Introduction of Runge Kutta as default extrapolator
     (TrackExtrapolators v2r24)
   . New handling of Calo Raw bank decoding (CaloDAQ v4r14)
   . Improvements to PatDownstream (PatAlgorithms v3r23). See T-Rec 2009-09-28
     http://indico.cern.ch/getFile.py/access?contribId=3&resId=0&materialId=slides&confId=48029
   . Deploy new ghost algorithm TrackAddNNGhostId, replaces NeuralNetTMVA
     (TrackSys v4r26, TrackTools v3r22, TrackUtils v1r30)
   . Removed cut on hot sectors when using VELO lite clusters (PatVelo v3r18)  
   . Added extra extrapolator to TrackMasterFitter for velo-only tracks
     (TrackFitter v2r38)
   . PatDownstream (PatAlgorithms v3r23)
     o Changed options to remove used hits and T-tracks. Default is as before
     o Retuned Parameters for MC09
     o Made search windows momentum dependent
     o Changed way of fitting the x projection
   . Speed up initialisation through optimisation of Muon geometry (remove
     detector elements for gas gaps). Enabled only for post-MC09 geometries,
     requires SQLDDDB v5r13 to v24r*
     (MuonDet v9r0, MuonAlgs v6r9, MuonBackground v2r10)
   . Save memory with alignment of libraries (GaudiPolicy v10r3)
   . Magnetic field grid is now stored in class DetDesc/MagneticFieldGrid. 
     (Magnet v5r4)

 - Bug fixes
   . Fix in Brunel() for ETC input (was missing definition of EvtTupleSvc)
   . Production of Lumi FSR now done also when input is from ETC (was MDF only)
   . Fix untested StatusCodes
     (GlobalReco v6r27, RichRecMCTools v2r25p1, RichRecMonitors v2r4)
   . Fix of nDoF in Muon fit (MuonID v7r2p1)
   . Fix to CaloPID monitor initialisation (CaloMoniDst v4r1)
   . Remove small memory leak in LumiAccounting::finalize() (LumiAlgs v2r3)
   . Fix memory leak in PatVeloTTFit (PatVeloTT v3r8p1)
   . Fix memory leak in TrackStateInitTool (TrackTools v3r22)
   . Many fixes reference counting. Now OutputStream no longer crashes when many
     streams are defined, and Algorithms are deleted on program termination 
     (Gaudi v21r5)

- Monitoring changes
   . New Rich ring search monitor (RichRecQC v2r34)
   . Reduced CaloPIDs verbosity (CaloPIDs v5r1p1)
   . Reduced warnings (RichGlobalPID v3r10p4)
   . HPD hot pixel finder is no longer an algorithm, now a generic tool called
     by dedicated instance of HPDAnalysisAlg algorithm (RichRecQC v2r34)
   . Added OTEfficiencyMonitor and OT pitch residual plots. OT monitors now run
     in dedicated sequence (TrackMonitors v1r14)
   . Rich alignment histograms now booked by default! (RichRecQC v2r34)
   . New memory histograms and counters (LHCbAlgs v2r29)
   . Changes to VeloTrackMonitor histograms. VeloTrackMonitor histograms now
     booked at initialise (VeloRecMonitors v2r2)
   . Reduce CaloTrackMatchAlg verbosity (CaloPIDs v5r1p1)
   . All histograms and profiles in VeloTrackMonitor are now booked in
     initialize(). Do not book hitmap histos by default (VeloRecMonitors v2r2)

 - Changes to example options:
   . Replace usage of obsolete Brunel().NoWarnings option with 
     Brunel().OutputLevel
   . Add options/2009-FEST-Data.py, datafile containing lumi events
   . Add options/Brunel-MC09Stripping.py, to reconstruct MC09 stripping FETC

 - Changes to tests:
   . Adapt valgrind.job to use gaudirun.py, uses python suppressions file from
     STDOPTS (in GaudiConf v12r9)
   . Add brunel-fest09.qmt, to test a datafile containing lumi events
   . Add brunel-mc09-stripping.qmt, to test reconstruction of MC09 stripping FETC
   . Use more recent input file for DC06 test





</PRE><H1><A NAME=v35r6>2009-09-14 Brunel v35r6</A></H1><PRE>
This version uses projects Gaudi v21r4, LHCb v28r0, Lbcom v7r6, Rec v7r6
 and SQLDDDB v5r11, ParamFiles v8r1, FieldMap v5r2, AppConfig v3r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v24r3 to v24r*

 - Changes to configuration:
   . Reorganisation of charged ProtoParticle algorithms for greater flexibility:-
     + New algorithm creates ProtoParticles from Tracks, but no longer adds any
       PID information
     + One algorithm per PID information to be added to the ProtoParticles.
     (GlobalReco v6r26, RecEvent v2r22)
   . Introduction of configurables for Calo, and reorganisation of Calo sequences
     (CaloKernel v6r0, RecSys v7r6, CaloPIDs v5r0, CaloReco v5r0)

 - Persistency changes:
   . Changes to Track class: add members for likelihood and ghost probability,
     remove obsolete ExtraInfo enums. Backward compatibility for MC09 data is
     preserved by the EventPacker. Backward compatible also when reading DC06
     data, but access to obsoleted ExtraInfo items requires changing code to use
     the obsoleted enums. (TrackEvent v5r0, EventPacker v1r7, PackedEvent v3r6,
     CaloTools v5r11, RichRecQC v2r33, RichRecTrackTools v1r14, NNTools v1r6,
     TrackCheckers v4r8, TrackMonitors v1r13, TrackTools v3r21)
   . ExtraInfo is removed at the end of the tracking sequence and not written
     to output (TrackSys v4r25, TrackUtils v1r29)

 - New tuning:
   . Added support for zipped InstallArea/python directories on the PYTHONPATH,
     speeds up the python configuration part of the initialisation (Gaudi v21r4)
   . New default DB tags for 2009 data: head-20090902 for DDDB and LHCBCOND,
     sim-20090902-vc-md100 for SIMCOND. Fixes rotation of Rich1 HPDs, updates IT
     dead strip+noise files, fixes material for track fit (SQLDDDB v5r11, v5r10)
   . MagneticFieldSvc now uses a MagneticFieldGrid object, reduces virtual
     function calls of track fit (Magnet v5r4, DetDesc v18r15, LHCbKernel v11r7)
   . All Rich monitors booked at initialisation, speeds up filling by removing
     hash table lookup at each plot call (RichKernel v7r26)
   . Track fit now initialises itself, does not try to use OT drift times in
     first iteration. Removes need for explicit prefits
     (TrackSys v4r25, PatVeloTT v3r8, TrackFitter v2r37, TrackProjectors v2r24)

 - Bug fixes:
   . Fix to duplicate creation of PatVelo hit manager tools (PatVelo v3r17)
   . Protect output in TrackEffChecker against nan (TrackCheckers v4r8)
   . Fixed bug in TrackHerabExtrapolator introduced in Brunel v33r2
     (TrackExtrapolators v2r23)
   . Correct DOF to 4 in case of field off (TrackFitter v2r3)

 - New packaging
   . Restructuring of TrackExtrapolators classes (TrackExtrapolators v2r23)

 - Monitoring changes
   . Addition of RichHotPixels monitor (RichRecQC v2r33)
   . Reduce verbosity of Rich raw data monitors (RichRecQC v2r33)
   . Changes to STClusterMonitor histograms (STMonitors v1r6)
   . Add ProtoParticle monitor sequence (GlobalReco v6r26)
   . Allow RICH expert histograms to be enabled when running without MC
   . Calo monitoring now uses CaloMoniDstConf configurable (CaloMoniDst v4r0)
   . Add CALO to KnownExpertCheckSubdets
   . Add "good" B daughter effiency and hit efficiency to TrackEffChecker output
     (TrackCheckers v4r8)

 - Changes to tests:
   . Exclude printout of MuonID version from QMTest log file comparisons
   . Move exclusion of transport service exceptions from individual tests to
     BrunelExclusions.py

</PRE><H1><A NAME=v35r5>2009-07-30 Brunel v35r5</A></H1><PRE>
This version uses projects Gaudi v21r3, LHCb v27r5, Lbcom v7r5, Rec v7r5
 and SQLDDDB v5r9, ParamFiles v8r1, FieldMap v5r2, AppConfig v3r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r3 or from v24r1

 - Changes to configuration:
   . Change default data type to "2009"
   . Propagate SpecialData property to ConfiguredMuonIDs (RecSys v7r5)
   . Moved addition of z-position reference nodes from configuration into fit to
     simplify configuration (TrackFitter v2r36, PatVeloTT v3r7)

 - Persistency changes
   . Reorder the Status bit field in MuonPID to preserve DC06/MC09 compatibility.
     Since LHCB v27r0 (Brunel v35r0) the bit order was different from DC06/MC09,
     implies that DaVinci v23r0 to v24r0 should not be used to access
     "InAcceptance" and "PreSelMomentum" bits of MuonID status on DC06/MC09 DSTs.
     (RecEvent v2r21)

 - New tuning:
   . Prevent creation of local MsgStream objects by caching one per detector 
     element, speeds up geometry access (VeloDet v13r8)
   . MuonID changes (MuonID v7r1)
     o Track fit disabled for cosmics
     o Change findTrackRegion to use region in M2 or M3 instead of M2 only
     o Skip Prob calculation only if no valid region in M2 AND M3
   . Store Muon PID information in charged ProtoParticles when
     MuonPID::IsMuonLoose is true, not MuonPID::IsMuon (GlobalReco v6r24) 
   . Changed chi2 cut again to recover more efficiency (PatVelo v3r16)
   . Added hot sector rejection to prevent exponential in time trigger behaviour
     with very hot events with many ghosts (PatVelo v3r16)
   . Changed prefitters to run only single iteration (TrackFitter v2r36)
   . Added state for last measurement (TrackFitter v2r36)

 - Bug fixes:
   . Fixed small bug in updating ref vectors in TrackMasterFitter. This had as a
     consequence that we were running the 2nd iteration of the Prefit for nothing
     since it would not actually use this as a reference in the normal fit. 
     Now, we can just a single iteration prefit with no change in fitter output.
     (TrackFitter v2r36)

 - New packaging:
   . Use AppConfig v3r*

 - Monitoring changes
   . Technical changes to speed up monitoring code (CaloMoniDst v3r9)
   . Do not try to access MC information when MC is disabled
     (RichRecMCTools v2r24, RichRecQC v2r32, RichMCTools v3r12, RichKernel v7r25)
   . Update RichRecoQC and RichTracklessRingMoni to use new histogramming 
     methods in Rich/RichKernel. Improves CPU usage a little and also moves
     histogram booking to initialize() (RichRecQC v2r32, RichKernel v7r25)
   . Suppress some monitors that combine all track types to "Expert" mode.
     In practice, the individual track type monitors are more useful.
     (RichRecQC v2r32)
   . Modifications to VeloTrackMonitor histograms (VeloRecMonitors v1r11)

 - Changes to example options:
   . In MC09 example options, set MC09 DataType and remove import *


</PRE><H1><A NAME=v35r4>2009-07-16 Brunel v35r4</A></H1><PRE>
This version uses projects Gaudi v21r3, LHCb v27r4, Lbcom v7r4, Rec v7r4
 and SQLDDDB v5r9, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v23r0 to v24r0

- New tuning
  . Modified HPD description to speed up initialization 
    (SQLDDDB v5r9 with head-20090708 tag or later, DetDescCnv v4r9)
  . New implementation of MuonID (MuonID v7r0)
    o IsMuonLoose condition (which takes the OR of the muon hits in FOI instead
      of the AND) is now the "default" condition (instead of IsMuon) for the
      first step of the MuonID. The DLL is built only if the IsMuonLoose is true
    o Muon Tracks are stored in the MuonPID object only if IsMuonLoose is true
    o MuonPID objects are stored in the ProtoParticle only if IsMuonLoose is true
    o IsMuon is still kept as member of the MuonPID object, it can be recovered
      whenever it is needed. IsMuon=true data set is always a subsample of the
      IsMuonLoose=true data set
  . Changes to track selection for ProtoParticles (GlobalReco v6r2)
    o Suppress all Velo and Tracks from being made into ProtoParticles
    o Add loose track selection criteria to charged ProtoParticle creation. 
      Current cut is track Chi^2/d.o.f. < 50
  . Changed the PatVelo chi^2 cut to optimise for MC09 signal (not Minimum Bias).
    (PatVelo v3r15) (see <a href="http://indico.cern.ch/materialDisplay.py?contribId=2&sessionId=0&materialId=slides&confId=62985">presentation</a> at tracking workshop on 2009-07-10)   
  . Tune Tsa & Match tracks for MC09 (TsaAlgorithms v3r11,TrackMatching v2r23)  
    (see <a href="http://indico.cern.ch/materialDisplay.py?contribId=1&sessionId=0&materialId=slides&confId=62985">presentation</a> at tracking workshop on 2009-07-10)

- Changes to configuration
  . Change default DataType to "2009" (Brunel(), GaudiConf v12r7)
  . If DDDB tags not explicitly set, use DDDBConf defaults for given DataType
    (previously setting of DDDBtag and CondDBtag was compulsory)(GaudiConf v12r7)
  . Changed default tags for 2009 DataType (DDDB v1r20)
    o head-20090713         for DDDB
    o sim-20090713-vc-md100 for SIMCOND
    o head-20090713         for LHCBCOND
  . Luminosity sequences changed to follow change in BXType names in ODIN from
    Left/Right to 1/2 (Brunel(), DAQEvent v8r0, LHCbAlgs v2r28, LumiAlgs v2r2)
  . MuonID now configured via configurables (RecSys v7r4, MuonID v7r0)
    o MuonIDAlg renamed from MuonID
  . MuonPIDChecker now configured via configurable (Brunel, MuonPIDChecker v4r0)

- Bug fixes
  . Fix bug in RichRecTrack where NDOF and charge data members were floats
    instead of ints (RichRecBase v3r24, RichRecMCTools v2r23)
  . Added test of vertex pointer returned by TrackVertexer in TrackV0Finder
    (TrackUtils v1r28)

- Changes to monitoring
  . Modified STClusterMonitor to book histograms at initialize (STMonitors v1r5)
  . Modifications to MuonPID monitoring and checking (MuonPIDChecker v4r0)
    o The configuration and reference values vary according to the DataType 
      chosen. Possible DataTypes so far are: DC06, 2008, MC09, 2009
    o Added Histograms for binned DLL, ProbMu, ProbNMu, Eff, Misid vs DLL Cut,
      multiplicity as a function of Track x,y and region and other quantities
      introduced in the new MuonID v7r0 
    o Separate monitoring of MuonPIDs from monitoring of Muon tracks in 
      methods getTrInfo and getMuTrInfo
  . Compact a bit the summary table for charged ProtoParticles (GlobalReco v6r23)
  . Add efficiency on ks and lambda daughters + B daughters to default 
    TrackChecker output (TrackCheckers v4r7)
	. Changes to VeloTrackMonitor (VeloRecMonitors v1r10)
    o remove one 2d histogram
    o uncomment histograms for measurement number for pos. and neg. tracks
    o added new histograms Pseudoefficiency vs sensorID, adc distributions for r
      and  phi clusters associated to the tracks
		o bug fix in number of measurements per track

 - Changes to example options files
   . 2008-Cosmics-Data.py now sets 2008 DataType
   . Fix DataType in Brunel-MC09-*.py, was using default value, not "MC09"


</PRE><H1><A NAME=v35r3>2009-07-02 Brunel v35r3</A></H1><PRE>
This version uses projects Gaudi v21r2, LHCb v27r3, Lbcom v7r3, Rec v7r3
 and SQLDDDB v5r8, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r3 or greater

- Persistency changes
  . When reading real data and producing rdst, L0 and HLT raw banks are copied to
    a RawEvent in RawEventLocation::Copied and stored on rdst
    (DAQEvent v7r21, GaudiConf v12r6)
  . Add support for RawEvent in packed DST (EventPacker v1r5, GaudiConf v12r6)
  . RDST is always packed (GaudiConf v12r6)
  . LHCbIDs on track are now sorted (TrackEvent v4r21, EventPacker v1r5)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=0&resId=0&materialId=slides&confId=48016">presentation</a> at T-Rec on 2009-06-29)

- New tuning
  . gaudirun.py has new -T (or --tcmalloc) option, switches on tcmalloc as memory
    allocator (Gaudi v21r2)
  . Take advantage of sorted LHCbIDs on track in TrackCloneFinder
    (TrackTools v3r18, TrackUtils v1r27, TrackInterfaces v4r4)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=0&resId=0&materialId=slides&confId=48016">presentation</a> at T-Rec on 2009-06-29)
  . Tweaked how tracks are fitted internally for a few microns gain in resolution
    and improved ghost rate (PatVelo v3r14)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=3&materialId=slides&confId=48016">presentation</a> at T-Rec on 2009-06-29)

- Changes to configurables
  . Add new Brunel().OutputLevel property to Brunel allow overall control of the
    printout levels. This property is propagated to other Configurables.
    This (partly) obsoletes the NoWarnings property, but it is still
    needed for backwards compatibility with Dirac 
    (Brunel v35r3, GaudiConf v12r6, RichKernel v7r23, RecSys v7r3, 
     GlobalReco v6r22, RichRecQC v2r31, RichRecSys v3r21)

- Changes to build configuration
  . Optimised libraries now built without -s option, to give meaningful stack
    trace information in case of crashes (Gaudi v21r2)
  . New make option "QUICK=2" to skip dependency calculation (Gaudi v21r2)
  . <component>_dll.cpp files no longer needed (Gaudi v21r2)

- Bug fixes
  . Set initial event time for DC06 data (avoids problems with ONLINE snapshots)
    (DDDB v1r19)
  . Fix floating point exception in CelAutoTaggedCell (CaloReco v4r20)

- Changes to monitoring
  . All histograms in VeloClusterMonitor are now booked in initialize()
    (VeloRecMonitors v1r9)

</PRE><H1><A NAME=v35r2>2009-06-22 Brunel v35r2</A></H1><PRE>
This version uses projects Gaudi v21r1, LHCb v27r2, Lbcom v7r2, Rec v7r2
 and SQLDDDB v5r8, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New tuning:
   . Cleanup configurable for reprocessing case
   . Use Downstream tracking both in RecoTracking.py and PatChecking.py in case
     of fieldOff (TrackSys v4r24)
   . Remove creation of measurements in MuonID (MuonID v6r3)
   . Add parent track to ancestors in MuonID (MuonID v6r3)
   . Improvements to ring finding in Rich
     (RichENNRingFinder v1r1, RichMarkovRingFinder v2r8, RichRecBase v3r23)
   . Updates to Rich track selection
     (RichRecAlgorithms v2r16, RichRecTrackTools v1r12, RichRecBase v3r23)

 - Bug fixes
   . Update Brunel() for running with ETC input, for FEST stripping use case
   . Abort parabola fit in case the distances of hit to reference line gets
     unreasonably large (PatAlgorithms v3r22)
   . Fix in event sizes reported by Rich decoding tools (RichDAQ v3r24)
   . More robustness in full cluster decoding (VeloDAQ v4r7)
   . Fixes to CondDB ConfigurableUser to do with interference between SQLite
     local copies and CondDBTimeSwitchSvc (DetCond v12r7)

 - Monitoring changes
   . Efficiency in Best tracks container now measured only for Long tracks
     (TrackSys v4r24, TrackCheckers v4r6)
   . Add TrackDiMuonMonitor (TrackMonitors v1r10)
   . Add RichRawDataSize monitors (RichRecQC v2r30)
   . Improved Rich MC based trackless ring monitoring plots (RichRecQC v2r30)
   . Improvements in VeloClusterMonitor (VeloRecMonitors v1r8)

 - Packaging changes
   . Remove obsolete DefineETC.opts, Brunel never writes an ETC
   . Improve handling of Brunel().NoWarning functionality
     (Brunel v35r2, GaudiConf v12r5)

</PRE><H1><A NAME=v35r1>2009-06-05 Brunel v35r1</A></H1><PRE>
This version uses projects Gaudi v21r1, LHCb v27r1, Lbcom v7r1, Rec v7r1
 and SQLDDDB v5r7, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - Persistency changes
   . Add option Brunel().OutputType = "XDST"
     XDST is a new "extended DST" file type, contanining also .sim containers.
     Replaces the need to save and subsequently access .sim files when MCHits are
     to be kept for special studies (Brunel v35r1, GaudiConf v12r4)

 - New tuning
   . Improvements to track isolation tool 
     (RichRecTrackTools v1r11, RichRecBase v3r22)
   . Changes to Rich track selection criteria. Tsa track specific "TsaLikelihood"
     selection cut replaced by more global "Likelihood" cut for all tracks.
     (RichRecTrackTools v1r11, RichRecBase v3r22)
   . Some improvements to the trackless ring filtering and isolation algorithms
     (RichRecAlgorithms v2r15)
   . Small improvements to the ring finder algorithm (RichMarkovRingFinder v2r7)

 - Bug fixes
   . CaloPhotonChecker.cpp: fix invalid matrix indices in computation of "shape"
     (CaloMoniDst v3r7)
   . Fix untested StatusCode on Warning() and Error() calls (CaloPIDs v4r17)
   . Use Track::probChi2() instead of TMath::Prob( tr->chi2(), tr->nDoF()) for
     better protection against FPE (NNTools v1r5)
   . In PatChecking.py, switch off TrackAssociator("AssocDownstream") and
     TrackEffChecker("Downstream") in fieldOff case, for consistency with
     RecoTracking.py (TrackSys v4r23)
   . Make sure that no hits are rejected in the internal fit in the fit 
     initialization tool (PatAlgorithms v3r21)
   . Bug fix on some array sizes (MuonPIDChecker v3r2)
   . Replace MessageSvc() with getConfigurable("MessageSvc") in python
     Configuration to avoid problems with online running, where a different
     Message Service type is used (RichRecQC v2r29, DetCond v12r6)
   . Fix a small bug in track creator selection stats. (RichRecTrackTools v1r11)
   . Fix precision and platform dependence problems in Calo reconstruction
     (CaloUtils v8r5)

 - Monitoring changes
   . Add new set of Rich track selection efficiency monitors (RichRecQC v2r29)
   . New 'ENN' trackless ring finding algorithm enabled by default. The rings are
     currently only used for monitoring purposes (RichRecQC v2r29)
   . Add a bit more statistical printout (CaloTools v5r9)
   . Fix unused StatusCode in STClusterMonitor (STMonitors v1r2)

 - Changes to tests:
   . Add QMTest brunel-mc09-withtruth-invfield, same as brunel-mc09-withtruth but
     with inverted magnetic field, to check identical output
   . Add preprocessors that can be given to the QMTest ValidateWithReference 
     function to exclude lines expected to change in the QMTest output
     (Brunel v35r1, GaudiConf v12r3)

 - New packaging
   . Cleanups in Rich configurables (RichRecQC v2r29, RichRecSys v3r19)
   . Add RichOfflineGPIDSeq as wrapper to existing GPID sequences 
   . Moved STClusterMonitor and STLiteClusterMonitor into ST namespace. 
     (STMonitors v1r2)

</PRE><H1><A NAME=v35r0>2009-05-13 Brunel v35r0</A></H1><PRE>
This version uses projects Gaudi v21r0, LHCb v27r0, Lbcom v7r0, Rec v7r0
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
This version introduces support for slc5 with gcc43 compiler.
Output requires DaVinci v22r1 or greater

 - New packaging
   . Adapt Brunel() Configurable for correct inclusion of units.opts following
     removal of include from CaloMoniDst options

 - Functionality changes
 - Persistency changes
   . Change input and output FSR locations to be under /FileRecords instead of
     /RunRecords, following reimplementation of FileRecordSvc in Gaudi v21
     (LumiAlgs v2r0, LumiEvent v2r0, Brunel() configurable)

 - New tuning
   . Add CaloGetterInit to reco sequence to have fast access to CaloDigits
     (CaloReco v4r19, CaloTools v5r8)
   . Speed up data access and processing in Calo2Calo/CaloHypo2Calo
     (CaloTools v5r8)
   . Several changes for performance improvements in PatVelo, see release.notes
     (PatVelo v3r13)
   . Modify the VeloRHit and VeloPhiHit constructors to define the width as
     sqrt(12) * pitch, not taking into account the cluster size (TfKernel v2r11)
   . Change default for OmitSeedFitOutliers switch to false (TrackMatching v2r22)
   . New tuning of STOfflinePosition tool:
     o Improved tune of error estimates using long tracks.
     o New charge sharing functions. Cubic plus linear term for 2-strip clusters,
       cubic term for 3-strip clusters, linear term for 4-strip clusters, no
       correction applied for the others. The error estimates are also changed.
     (STTools v3r9) (See <a href="http://indico.cern.ch/materialDisplay.py?contribId=1&materialId=slides&confId=48009">presentation</a> at T-Rec on 2009-05-11)
   . Changes to speed up geometry initialization (DetDescCnv v4r9, XmlTools v6r3)

 - Bug fixes
   . Fix untested StatusCodes (CaloPIDs v4r16, RichRecTrackTools v1r10)
   . Fixed bug with ancestors in TrackStateInitTool (TrackTools v3r17)
   . Fix for PatForward (prevent from overwritting selected hits flags)
     (PatAlgorithms v3r19)
   . Check for at least 2 x and 2 stereo hits in diff. planes NOT removed
     by the fit for all seed tracks entering the matching (TrackMatching v2r22)
  .  Fix configuration bug where photon predictor settings where not properly 
     set when running under non-default settings (RichRecSys v3r18)

 - Monitoring changes
   . Add histograms for CaloPID analysis and energy flow calibration
     (CaloMoniDst v3r6)
   . Added more histos and fixed histogram labels in OTTrackMonitor
     (TrackMonitors v1r9)
   . Add residuals per layer histos to ITTrackMonitor (TrackMonitors v1r9)
   . Changed constrain method in TrackFitMatchMonitor (TrackMonitors v1r9)
   . Added hit patterns to TrackMonitor (TrackMonitors v1r9)
   . Add new IFB monitoring (RichRecQC v2r28)
   . Make PID performance plots for Long tracks as well as All tracks
     (RichRecQC v2r28)
   . A few new CK theta resolution plots (RichRecQC v2r28)
   . Small improvements to the PID plots (RichRecTools v4r8)
   . Various changes to Velo reconstruction monitors (VeloRecMonitors v1r6)
   . Various changes to ST monitors (STMonitors v1r1)

</PRE><H1><A NAME=v34r7>2009-05-26 Brunel v34r7</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r6
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New features
   . New option Brunel().DstType = 'XDST', adds MCHits to MC DST
     (Brunel v34r7, GaudiConf v12r3)

 - Bug fixes
   . Make sure that no hits are rejected in the internal fit in the fit
     initialization tool (PatAlgorithms v3r21). Fixes very infrequent crash in
     FEST09 reconstruction

</PRE><H1><A NAME=v34r6>2009-05-11 Brunel v34r6</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r6
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - Bug fixes
  . In PatForward prevent from overwriting selected hits flags
    (PatAlgorithms v3r19). Fixes infrequent crash in MC09 test production
  . In PatForward, use scale factor from magnetic field service in PatAddTTCoord,
    code was assuming md100 (PatAlgorithms v3r20).
  . In TrackMatchveloSeed, change default for OmitSeedFitOutliers switch to false
    (TrackMatching v2r21p2). Fixes frequent crashes in MC09 test production

</PRE><H1><A NAME=v34r5>2009-04-22 Brunel v34r5</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r5
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production.
Output requires DaVinci v22r1 or greater

 - Bug fixes
   . Make PatSeedFit safe against unreasonable track input. Fixes frequent
     TransportSvc exceptions due to FPE

</PRE><H1><A NAME=v34r4>2009-04-20 Brunel v34r4</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r4
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production.
Output requires DaVinci v22r1 or greater

 - Bug fixes
   . Fix to track fit initialisation, to take into account OT tilt. Fix also
     untested StatusCode (PatAlgorithms v3r17)
   . Fix valgrind.job for new lbLogin environment

 - Functionality change:
   . In Brunel(), only set IODataManager().AgeLimit = 0 if the option has not
     been previously set. Allows more user control over this setting.

</PRE><H1><A NAME=v34r3>2009-04-14 Brunel v34r3</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r3
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New packaging
   . Add dependency to AppConfig v2r*, to pick up options for production
   . Add explicit use CASTOR from LCG_Interfaces for QMTests
   . Use ParamFiles v8r1 (for MC09 Calo PIDs pdf)
   . Remove obsolete Rec/Brunel/DQ directory

 - Functionality changes
   . New Brunel().DigiType option: when set to "Minimal", do not read MC Truth
     from .digi input, and do not save it on output, except for pileup info
     propagated from Boole "Minimal" output (Configuration.py, GaudiConf v12r2)
   . Remove Brunel().UseOracle option, use DetCond().UseOracle instead
   . Add bool option RecInit().PrintEventTime, if True prints the event time
     together with the run and event number (LHCbKernel v11r2, RecAlgs v1r8)

 - Persistency changes
   . Add two new data members to GenHeader, the total inelastic cross section
     and frequency of crossing of filled-filled bunches (GenEvent v5r5)
   . When reading "Minimal" .digi, pSim/MCVertices contains only primary vertices

 - New tuning
   . DstConf() configurable now prints Dst content at startup (GaudiConf v12r2)
   . New default tags for 2008 real data: head-20090330 for DDDB,
     head-20090402 for LHCBCOND (DDDB v1r16, SQLDDDB v5r3)
   . AddNeigbours in EcalEnergyForTrack and HcalEnergyForTrack changed to FALSE
     (CaloPIDs v4r15)
   . New CaloPID PDFs tuning. DC06 tuning still accessible when DC06 DataType
     selected (CaloReco v4r18, ParamFiles v8r1)
   . Use detailed dedx StateDetailedBetheBlochEnergyCorrectionTool in the track
     fit. Elsewhere default remains simple tool 
     (TrackFitter v2r32, TrackExtrapolators v2r21)
   . New algorithm TrackStateInitAlg and tool TrackStateInitTool called for 
     each track container to re-initialize the track starting from LHCbIDs. 
     Allows to get	the same fit results without dependence on previous fitting
     history (TrackSys v4r22, TrackTools v3r16, TrackInterfaces v4r2)
   . Changed default tune of TrackVelodEdxCharge to expect 47.1 ADC per cluster
     (TrackTools v3r16)
   . Changed the FOIfactor to 1.2 to recover some efficiency (2009 settings) 
     (MuonID v6r2)

 - Bug fixes
   . In Brunel() configurable, use RunRecordStream for writing FSR, not 
     OutputFSRStream (was writing one FSR per event!)
   . Fix bad default setting for CaloHypo2Calo.cpp (Seed=false -> true), plus
     minor bug fix (CaloTools v5r7)
   . Fix untested StatusCodes (RichDAQ v3r23p1, TrackMCTools v2r22,
     TrackUtils v1r25, VeloRecMonitors v1r5)
   . Fix FPE in CaloMergedPi0Alg (missing initialization) (CaloReco v4r18)
   . Fix for FPE in PatDownstream and PatFwdFitLine (PatAlgorithms v3r16)
   . Changed default constructor of PatVeloPhiList to initialise all members,
     fixes another FPE in scl4_ia32_gcc34_dbg (PatVelo v3r12)
   . Remove hardcoded magnetic field polarity 
     (PatVeloTT v3r6, PatAlgorithms v3r16)

 - Monitoring changes
   . Set CaloDQ.opts histo selection as default: selection of relevant
     monitoring histo for Data Quality stuff (CaloMoniDst v3r5)
   . CaloFullMonitoring.opts produces the whole histo set, to be explicitly
     added with importOptions (CaloMoniDst v3r5)
   . Added OTTrackMonitor, added six plots for vertex x,y,z positions for
     left/right half respectively (TrackMonitors v1r8)
   . Miscellaneous minor improvements to the detailed MC monitors
     (RichRecMonitors v2r22)
   . Suppress empty plot in MC free running from Rich::Rec::MC::PixelQC
     (RichRecQC v2r27)
   . Suppress warning about isolation tool not implemented for Aerogel
     (RichRecTrackTools v1r9)
   . Reduced (unnecessary high) binning of a few histos in VeloTrackMonitor
     (VeloRecMonitors v1r5)
   . Introduce new plots/profile histograms (VeloRecMonitors v1r5)
     o Measurement of +ve and -ve charges
     o Biased/unbiased residuals versus momentum profiles for +ve & -ve charges

 - Changes to tests and example options
   . Add MC09-Files.py: example files of MC09 data
   . Add Brunel-MC09-WithTruth.py: MC09 simulation checking and saving MC Truth
   . Add Brunel-MC09-NoTruth.py: MC09 simulation without checking or saving MC Truth
   . Remove Copy.opts, use instead $STDOPTS/PoolCopy.opts
   . Remove 2008 MC example files: 2008-Files.py, Brunel-2008-MC.py, 
     Brunel-2008-MC-VeloOpen.py, Brunel-2008-MC-BOff-VeloOpen.py
   . Replace brunel-2008-mc test with brunel-mc09-withtruth, brunel-mc09-notruth
   . No longer disable FPE check for MergedPi0Rec, now fixed
   . Add event time printout to brunel-mc09-withtruth test

</PRE><H1><A NAME=v34r2>2009-02-25 Brunel v34r2</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r2, Lbcom v6r26, Rec v6r2
 and SQLDDDB v5r2, ParamFiles v8r0, FieldMap v5r2

This is a pre-production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New packaging:
   . Added QMTests for:
     o DC06, 2008 real data and simulation, cosmics data processing
     o Expert histos and RecL0Only options
     o FPE checking
     o MDF writing
   . Improve python documentation of Brunel() configurable options
   . Tweak the doxygen appearance
   . Use new L0Conf configurable to set up L0 filtering (L0DU v8r13)

 - Persistency changes
   . Create FSR output stream and enable FSR writing by default
   . V0s now written as PackedTwoProngVertex
     (GaudiConf v12r1, PackedEvent v3r5, EventPacker v1r3)
   . Remove version from packed Track, CaloHypo, Protoparticle and Vertex: 
     This exists in all DataObjects (PackedEvent v3r5)
   . Add possibility to write RDST in MDF format
     (GaudiConf v12r1, DAQEvent v7r18, EventPacker v1r3, MDF v3r17)

 - New functionality
   . Activate LumiFSR creation when reading MDF files (LumiEvent v1r0)
   . Use LHCb::ParticlePropertySvc instead of Gaudi version

 - New tuning
   . Improvements to speed up initialisation of geometry
     (DetDescSvc v2r3, STDet v4r7)
   . Improvements to OTDAQ error handling, decrease verbosity (OTDAQ v7r5)
   . Protect against eccessive warnings in TrajPoca.cpp (LHCbAlgs v2r24)
   . Create TMVA::Reader with "Silent" flag, to reduce initialization verbosity
     (NNTools v1r4)
   . Cluster size method for STMeasurement now returns value given by
     STPositionTool [was value from cluster] (TrackFitEvent v3r20)
   . Change Rich pixel cleaning options (disable by default) (RichRecSys v3r16)
   . Change the MuonID extrapolation Z position to one that is saved to the DST 
     (MuonID v6r1)
   . Removed cut on maximum number of T hits in TsaSeed (TsaAlgorithms v3r9)
   . Removed OTTimeCreator from sequence (TrackSys v4r21)
   . Switch to special OT decoder for cosmics (TrackSys v4r21)
   . Changes to run the track fit with Lite clusters
     (TrackTools v3r15, TrackFitter v2r31, TrackProjectors v2r22, 
      TrackFitEvent v3r20, VeloDAQ v4r5, STAlgorithms v3r4, TrackInterfaces v4r1,
      VeloTools v3r3, TrackEvent v4r18, LHCbKernel v11r1)
   . Use clusterselector tool in STClusterKiller
     (STAlgorithms v3r4, STKernel v1r11, STTools v3r8)
   . Updates to the generic tracking (TsaAlgorithms v3r9)
   . Add job option for minimum number of remaining hits in outlier removal
     (TrackFitter v2r31)
   . Set up fit for merged OT events when running cosmics (TrackFitter v2r31)

 - Monitoring changes
 	 . Add EventCountHisto in init sequence (LHCbAlgs v2r24) 
   . Remove OT expert monitoring: OTTimes no longer made in Brunel, so pointless
     to run OTTimeMonitor 
   . Set histo name and directory for MemoryTool
   . In LHCbApp configurable, add Gaudi auditors to list of possible Monitors:
     KnownAuditors = ["NameAuditor","MemoryAuditor","ChronoAuditor"]
     If given as a Monitor, the auditor is enabled (GaudiConf v12r1)
   . Improvements in Velo Monitoring (VeloRecMonitors v1r4)
   . Improvements in OT Monitoring (OTMonitor v2r9)
   . Small changes to Rich PID plots tool to rationalise with those produced by
     the DaVinciMonitors plot tools (RichRecTools v4r7)
   . Addition of Rich alignement monitors (RichRecQC v2r26)
   . Add histos of muon hit multiplicity as a function of X,Y and region/station
     (MuonPIDChecker v3r1)
   . Adaptations to monitor lite cluster types (TrackMonitors v1r7)
   . Changes to ghost track classification
     (TrackMCTools v2r21, MCEvent v2r12, MCInterfaces v1r7)

 - Bug fixes
   . In Brunel() configurable:
     o Fix default histogram file name when one is not given in options
     o Add "pRec" to nodes to be killed when reprocessing from DST etc.
     o Protect against missing #units when Calo not in monitoring sequence
     o Fix bug in propagation of default properties to used configurables
       (LHCbKernel v11r1)
   . Fixed bug in configuration of FitVelo (TrackFitter v2r31)
   . Fixed a minor memory leak in GeometryInfoPlus (DetDescSvc v2r3)
   . Fix untested StatusCodes (OTDAQ v7r5, TrackMatching v2r21p1,
                               MuonPIDChecker v3r1, VeloRecMonitors v1r4)
   . Fix FPE occurring in CaloClusterizationTool on ia32 only (CaloReco v4r17p1)
   . Improve protection against FPE in NeuralNetTmva (NNTools v1r4)
   . Make PatVeloSpaceTrack more robust against FPE on ia32 (PatVelo v3r11)
   . Fix uninitialised variables in constructor of PatFwdTrackCandidate. Fixes
     slc4_ia32_gcc34_dbg FPE in Brunel (PatAlgorithms v3r15)
   . Protect against non-existance of containers (TrackMonitors v1r7)

</PRE><H1><A NAME=v34r1p1>2009-01-21 Brunel v34r1p1</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r1, Lbcom v6r25, Rec v6r1
 and SQLDDDB v5r1, ParamFiles v8r0, FieldMap v5r2

This is a pre-production version for the 2009 MC production. 
Output requires DaVinci v22r0p1 or greater

- Bug fixes (backward incompatible persistency change)
  . Change the coding of cov_44 in track state, to be dp/p with a scale factor.
    Affects momentum error of tracks on PackedDST (EventPacker v1r2)

- Environment fixes
  . Exclude TMVA initialisation messages and "PARAM/ParamFiles" paths from QMTest
    comparison

</PRE><H1><A NAME=v34r1>2009-01-14 Brunel v34r1</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r1, Lbcom v6r25, Rec v6r1
 and SQLDDDB v5r1, ParamFiles v8r0, FieldMap v5r2

This is a pre-production version for the 2009 MC production. 
Output requires DaVinci v22r0 or greater

- New features
  . Explicit setting of database tag now compulsory in options (GaudiConf v12r0).
    Options files for Brunel input data examples updated accordingly
  . Framework support for File Summary Records (Gaudi v20r4)
  . All code now compiles with gcc 4.3 and on OSX
  . Removed Brunel().ExpertTracking option, use TrackSys().ExpertTracking instead
  . Do not stop if unknown sub-detector added to Moni or Check sequences, just 
    issue a warning
  . Set Context to all phases, default is "Offline"
  . Added the possibility to use local copies of the SQLite databases (through
    CondDBSQLiteCopyAccSvc) (DetCond v12r5)
  . Add TrackV0Finder to RecoVertexSeq (RecSys v6r1)

- New packaging
  . DST/RDST content now defined in DstConf configurable (GaudiConf v12r0)
  . Removal of old .opts files, replaced by .py options or configurables
    (MuonID v6r0, MuonPIDChecker v3r0, RichRecQC v2r25, RichRecMonitors v2r21,
     Associators v3r7, GlobalReco v6r18, Brunel)
  . PatChecking sequence now set up in TrackSys() when WithMC=True. 
  . Changed example input file for 2008 to one produced with Boole v17r2,
    DB tags head-200910112, sim-20090112
  . Add a file DoxyBrunel.cfg, included by DoxyFile.cfg, to allow standalone
    documentation of current project only. Make DoxyFile.cfg usable wherever
    BrunelSys resides
  . Update doxygen main page with current top level options files

- New tuning
  . Improvements in real data handling (STDAQ v3r14)
  . Improvements and fixes to Calo reconstruction (CaloReco v4r17)
  . Change outlier rejection such that minimum number of hits is left in each
    system (TrackFitter v2r30)
  . Improved efficiency of PatPV2D for multi PV events (PatPV v3r8)
  . Changes in refractive index tools, including fix to problem of correct
    aerogel tile parameters not being taken into account in 2008 simulations
    (RichRecTrackTools v1r8, RichRecStereoTools v1r5, RichTools v2r24,
     RichKernel v7r19, RichDet v1r4, RichRecBase v3r19)

- Persistency changes
  . Enable packed DST/RDST by default (not for DC06)
    (GaudiConf v12r0, LHCbKernel v11r0, PackedEvent v3r4, EventPacker v1r1)
  . Add Rec/Vertex/V0 to RDST and DST (GaudiConf v12r0)

- Monitoring changes
  . Cleanup handling of monitoring and checking in configurable
  . Add ProtoParticle expert monitoring (not run in default Expert check)
  . Various fixes and additions in STCheckers (STCheckers v2r9)
  . Add TrackV0Monitor to monitoring sequence (TrackMonitors v1r6)
  . Activate PV checker algorithm in PatChecking.py (TrackSys v4r20)
  . Miscellaneous monitoring updates (RichRecMonitors v2r21)
  . Variuos improvements to RichRecQC configurable (RichRecQC v2r25)

- Bug fixes
  . Make the expert checking respect the settings of the Check & Moni sequences
  . Fix FPE in DeCalorimeter.cpp (CaloDet v10r1)
  . Fixed bug in DeVeloRType::rPitch() that caused non-sensical results in 3
    sectors (VeloDet v13r5)
  . Avoid FPE in MCParticleSelector (SimComponents v2r15, MCEvent v2r11)
  . Fix unitialized variable (MuonDAQ v4r5p1)
  . Fix obsolete option in Brunel-2008-*-VeloOpen.py
  . Protect Calo(L0)DataProvider against abusive warning in case of 
    0-suppressed data (CaloDAQ v4r9)
  . CaloCosmicsTrackTool :: fix bug in Hcal timing (CaloTools v5r6)
  . Fixes to allow usage of OT linkers in post-DC06 simulation
    (TrackCheckers v4r5, TrackMCTools v2r20)
  . Add protection in for hits with zero error on residual (TrackMonitors v1r6)
  . Bug fix in TrackInterpolator (to do with outliers) (TrackTools v3r14)
  . Fixed unchecked statuscodes (TrackUtils v1r23)
  . Fix PatChecking.py to handle correctly TrackSys().veloOpen case
    (TrackSys v4r20)
  . Check for zero pitch in residual normalisation (VeloRecMonitors v1r3)

</PRE><H1><A NAME=v34r0>2008-11-26 Brunel v34r0</A></H1><PRE>
This version uses projects Gaudi v20r3, LHCb v26r0, Lbcom v6r24
 and SQLDDDB v5r0, ParamFiles v8r0, FieldMap v5r2

Functionally this version is similar to Brunel v33r3p1, but uses a new version of
Gaudi and major new version of LHCb, with many backward incompatible changes in
the configuration and in option names 

- New packaging
  . Many backward incompatible changes to Configurables:
    + Adapt to configuration changes in Gaudi v20r3, GaudiConf v10r13, 
                                        DDDB v1r13, DetCond v12r4
    + Most option names are changed. In particular:
      > All option names are Capitalized
      > New DataType option, removes need to set CondDBTag and DDDBtag if using
        default tags
    + applyConf() renamed __apply_configuration__ and called automatically
    + When a property with the same meaning is set in both Brunel and in an
      underlying configurable, Brunel property takes precedence. If neither is 
      set, Brunel default takes precedence
  . Changes to options files to adapt to changes in configurable, in particular:
    + Adapt to option name changes
    + Remove Brunel().applyConf() everywhere
    + Default names for output files now set inside configurable
  . Various updates to tracking configurables (TrackSys v4r19, PatAlgorithms v3r13,
    TrackMatching v2r20, TsaAlgorithms v3r7, TrackFitter v2r29)
  . Updates to Rich configurables, and removal of all Rich .opts files
    (RichMarkovRingFinder v2r3, RichMCAssociators v2r6, RichRecQC v2r24,
     RichRecSys v3r14)
  . In valgrind.job, use latest gaudirun.py options to extract .opts file
  . Remove Brunel.exe
  . Move to new ST algorithm/tool base classes
  . Particle properties table now taken from CondDB (DDDB v1r13)
  . Update DoxyFile.cfg for new xxx_HOME environment variables
  . Update SuppressWarnings.opts

- New features
  . New option UseSimCond that allows to use WithMC = False on digi files,
    while still using SimCond
  . Added support for cosmics (Brunel-Cosmic.py and 2008-Cosmic-Data.py,
    TrackProjectors v2r20, TrackTools v3r13, RichRecSys v3r14) 

- New tuning
  . Fix inefficient region around y=0 in OT F-modules in odd layers (OTDet v8r2,
    see http://www.nikhef.nl/pub/experiments/bfys/lhcb/outerTracker/NamingConventions/Modules/index.html)
  . Flag outliers, rather than remove them (TrackFitter v2r29)
  . Change strategy for FitVelo: don't use curvature (TrackFitter v2r29)
  . Create node for state at beamline before fitting track (TrackFitter v2r29)
  . In MeasurementProviderT, use centre of sector to get nominal z (TrackUtils v1r22)
  . Add option to PatSeeding to skip events above a certain maximum occupancy
    (currently maximum is set to 20 percent) (PatAlgorithms v3r13)
  . Added very hot sensor triplet trap to PatVeloGeneralTracking to reduce total
    number of combinations of clusters considered in a triplet (PatVelo v3r10)
  . Improvements for reconstruction of close primary vertices in multi PV events
    See http://indico.cern.ch/conferenceDisplay.py?confId=33059 (PatPV v3r7)

- Persistency changes
  . PatSeeding track history is now set to PatSeeding instead of PatForward
    (PatAlgorithms v3r13)
  . Set a flag in ProcStatus when PatSeeding skips events due to high occupancy
    (PatAlgorithms v3r13)
    
- Monitoring changes
  . Added ST monitoring
  . Added option to TrackResChecker to split histos by track type 
    (TrackCheckers v4r4)
  . Added momentum resolution to output of TrackChecker (TrackCheckers v4r4)
  . Fix histo IDs in TrackMonitor (TrackMonitors v1r5)
  . Fix histoTopDir in TrackVertexMonitor (TrackMonitors v1r5)
  . Do not print histogram statistics by default (GaudiAlg v11r12)
  . Make TrackEventCloneKiller less verbose at initialisation (TrackUtils v1r22)
  . Reduce min beta to 0 in All track CK theta monitor (RichRecQC v2r24)
  . Add new monitor to compare numbering information in the decoded data to that
    in the database, to find inconsistencies (not for DC06) (RichRecQC v2r24)

- Bug fixes and protections
  . Modified the QMTests to avoid failures when the database changes.
  . Fix untested StatusCodes (MuonDAQ v4r5)
  . Fix to remove "Warning in <TStreamerInfo::BuildOld>" message in case when Dll
    has been properly loaded. Now this message appears only if there is a real
    problem (i.e. reading HepMC 1 data without HepMCBack loaded) (HepMCBack vr1)
  . Fix FPEs also on ia32 (SimComponents v2r14)
  . Fix memory leak in SpdMonitor (CaloMoniDst v3r3)
  . Fix uninitialized variable in CaloID2DLL (CaloPID v4r14)
  . Protection for tracks with insufficient active measurements (TrackFitter v2r29)
  . Bug fix in TrackUsedLHCbID [duplicates handled correctly] (TrackTools v3r13)
  . Protect when MC particle does not have a mother (MuonPIDChecker v2r5)
  . Fix in RawBankToSTLiteCluster decoding [handle duplicates correctly] (STDAQ v3r13)
  . Protect against Velo Clusters with duplicate key in bank version 3 decoding
    (VeloDAQ v4r4)
  . Fix method that computes number of outliers (TrackEvent v4r16)
  . Protect Track::probchi2 against ndof=0 (TrackEvent v4r16)
  . Add readoutbankerror to flag corrupted events to avoid execute() failure
    (MuonDAQ v4r5)

</PRE><H1><A NAME=v33r3p1>2008-10-15 Brunel v33r3p1</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r2, Lbcom v6r23
 and SQLDDDB v5r0, ParamFiles v7r3, FieldMap v5r1

This version is a patch release for the production of 2008 MC alignment samples

- New features
  . Add Brunel-2008-MC-VeloOpen.py and Brunel-2008-MC-BOff-VeloOpen.py
  . Rename Brunel-2008-Stripping.py to Brunel-Stripping.py 
  . Rename Brunel-2008-Rdst.py to Brunel-Rdst.py

- New tuning
  . In Brunel-2008.py, set magnetic field off by default
  . In PatSeedingTool, add option to skip events above a certain maximum
    occupancy (currently maximum is set to 20 percent) and set a flag in
    ProcStatus when skipping events (PatAlgorithms v3r12)

- Bug fixes
  . Adapt valgrind.job for use on interactive LSF.
  . Adapt valgrind.job and Brunel_Ganga.job for use without version directory
  . In Brunel() configurable, for veloOpen case, switch off PatChecking for
    VeloRZ and Downstream track types, since these are not produced in this case
  . Protect divide by zero when magnetic field is off
    (MuonPIDChecker v2r4p1, PatAlgorithms v3r12)


</PRE><H1><A NAME=v33r3>2008-10-13 Brunel v33r3</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r2, Lbcom v6r23
 and SQLDDDB v5r0, ParamFiles v7r3, FieldMap v5r1

This version is a development version to prepare for reconstruction of real data
- Should be used to reconstruct 2008 geometries
- For 2008 simulation, needs data digitised with Boole v16r3 or later
- Can reconstruct DC06 data, except if digitised with Boole v15r1 or v15r2,
  but material seen is different from DC06

- Geometry changes (SQLDDDB v5r0, with DC06-20081002 or head-20081002 tags)
  . Corrections to IT 2008 geometry parameters (IT boxes moved by 3mm in z)
    requires data produced with tag head-20081002 or later
  . Fix to Prs reference plane position
  . Add new Calo conditions : (L0)calibration, channel quality (CaloDet v10r0)
  . Added Outer Tracker T0 and RT relation conditions (OTDet v8r1)

- New features
  . Add a qmtest that tests the initialisation of Brunel, used by Dirac to test
    the installation. Invoked with: "cmt TestPackage sam"  (BrunelSys v33r3)
  . Add options/2008-TED-Data.py, options for 2008 real data processing
  . New ExpertTracking option "MuonAlignTracks" to reconstruct and fit tracks in
    the Muons and add the states to the DST (disabled by default)
    (TrackSys v4r18, MuonTrackAlign v1r7, GaudiConf v10r13)
  . Add option to ignore e-loss corrections (TrackFitter v2r28)
  . Possibility to process multiple spills in same TAE event 
    (STAlgorithms v3r1, STDAQ v3r12, GaudiConf v10r13, RichKernel v7r17)
  . Debug libraries now built without Boost memory allocators, to allow search
    for TES memory leaks
    (TrackFitEvent v3r18, GaudiObjDesc v10r13, LHCbKernel v9r2))

- New tuning
  . Update 2008-Files.py to use digi file produced with Boole v16r3
  . Major reorganisation of Calorimeter reconstruction
    (CaloReco v4r16, CaloDet v10r0, CaloUtils v8r2, CaloInterfaces v7r8)
  . Minor updates to Rich reconstruction
    (RichMarkovRingFinder v2r2, RichRecAlgorithms v2r14, RichRecTools v4r6)
  . Updated PatVeloFitLHCbIDs to allow a first measurement state and a variable
    multiple scattering term based on the input track's momentum (PatVelo v3r9)
  . Add driftTime function to OTMeasurement (TrackFitEvent v3r18)
  . Major cleanup of TrackProjectors
    (TrackProjectors v2r19, TrackFitter v2r28, TrackInterfaces v3r17)
  . Improved performance of matrix inversion routines (LHCbMath v3r3)

- Monitoring changes
  . Replace BrunelMoni.opts wih BrunelMoni.py, add Track Moni sequence
  . New PatChecking sequence, uses TrackAssociators, TrackResCheckers,
    TrackEffCheckers instead of PatTrack2MCParticle and PatChecker
  . Add Muon histograms to Moni sequence (MuonPIDChecker v2r4)
  . Review histogram production & prepare for real data (CaloMoniDst v3r2)
  . Minor changes to Rich histograms (RichMarkovRingFinder v2r2, RichRecQC v2r23)
  . RichPID histogram statistics no longer printed by default (RichRecTools v4r6)
  . Added configurable for Track monitoring sequence (TrackMonitors v1r4)
  . Added residuals (TrackMonitors v1r4)
  . First version of the track-based monitoring algorithm VeloTrackMonitor
    (VeloRecMonitors v1r1)
  . Added number of clusters per sensor to cluster monitor, off by default.
    (VeloRecMonitors v1r1)
  . Added sampling monitor plots separated for A and C side.
    (VeloRecMonitors v1r1)
  . Update SuppresWarnings.opts

- New packaging
  . Use ParamFiles v7r3, do not set DDDB major version (taken from LHCbSys)
  . Reorganise Configuration.py, remove Brunel.opts and Brunel().mainOptions
  . Clean up DDDB intialisation in Configurable, needs GaudiConf v10r13
  . Fix default options in Brunel_Ganga.py for consistency with new defaults
  . Change TrackClones.opts to python (TrackSys v4r18)
  . Replace Fitting.py with ConfiguredFitters (TrackSys v4r18, TrackFitter v2r28)

- Bug fixes and protections
  . More improvements and protections for real data decoding
    (STDAQ v3r12, DigiEvent v2r9)
  . Fix warning when filling histograms with nan (TrackCheckers v4r3)
  . Fix output for event weighted ghost rate (TrackCheckers v4r3)
  . Fix untested StatusCode
    (STDAQ v3r12, TsaAlgorithms v3r6, VeloRecMonitors v1r1, Magnet v5r1p1)
  . Fix memory leak in TrackStateVertex.cpp (TrackFitEvent v3r18)
  . Protect against using non-existent conditions 
    (DetDesc v18r9, CaloDet v10r0, OTDet v8r1, RichDet v11r2)
  . Fixed a bug in CondDBCommon::generateXMLCatalog, failing for folders with
    names shorter than 4 chars. Requires SQLDDDB v5r0 (DetCond v12r3)
  . Rich component names no longer contain blank spaces (LHCbKernel v9r2)
  . Fix bug in updateTool where m_fieldTool was only updated on the first
    instance for each field configuration change (Magnet v5r1p1)
  . More FPE protections (TrackEvent v4r15, TfKernel v2r3)
  . Fix uninitialized data members in Measurement constructor (TrackEvent v4r15)

</PRE><H1><A NAME=v33r2>2008-09-09 Brunel v33r2</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r1, Lbcom v6r22, Rec v5r11
 and DDDB v1r* (SQLDDDB v4r8 or greater), ParamFiles v7r2, FieldMap v5r*

This version is a development version to prepare for reconstruction of real 
data. It contains many fixes to data decoding and an overhaul of monitoring
- Should be used to reconstruct 2008 geometries
- For 2008 simulation, needs data digitised with Boole v16r2 or later
- Can reconstruct DC06 data, except if digitised with Boole v15r1 or v15r2,
  but material seen is different from DC06

- Configuration changes
  **************** IMPORTANT **************
  . Default setting in Configurable (picked up when using Brunel-Default.py and
    Brunel-2008.py) is now for real data, MDF input, default 2008 geometry
  *****************************************
  . New and update configuration files: 
    o Brunel-2008-MC.py   (MC with default 2008 geometry)
    o Brunel-2008-Rdst.py (RDST production from 2008 MDF real data)
    o Brunel-2008-Stripping.py (DST production from 2008 real data ETC)
    o Brunel-DC06.py      (Standard DC06 reconstruction)
    o Brunel-2008.py      (Real data, MDF, 2008 geometry)
    o Brunel-DC06L0Rdst.py, Brunel-DC06Rdst.py,  Brunel-DC06Stripping.py
  . Added an example MDF file (TED data taken 20080906) to 2008-Files.py
  . Major migration away from .opts, now using configurables in many packages
    (Brunel v33r2, RecSys v5r11, TrackSys v4r17, LHCbKernel v9r1, 
     RichRecQC v2r22, RichRecSys v3r13)
  . In  Brunel Configurable:
    . Added option printFreq to allow control over the event printing frequency
    . Added options to allow the various sequences to be modified. Allows, for 
      instance, sub-detectors to be disabled for specialist studies.
  + Check sequence is now completely defined in Configuration.py. The files
    BrunelMC.opts, BrunelCheck.opts are obsolete and have been removed

- Geometry changes
  . Fix staggering of straws in a OT module. The offsets are retrieved from DDDB.
    For 2008 geometry this is not backward compatible with digis produced with
    versions of Boole prior to v16r2
    (OTDet v8r0, SQLDDDB v4r9 with tags DC06-20080903, head-20080904 or later)
  . Add Velo Tell1-Sector mapping for 2008 data decoding
    (SQLDDDB v4r9 with tag head-20080904 or later)
  . Fixes to material and overlaps in Rich, Prs, Spd, Hcal (SQLDDDB v4r9)

- New features
  . Add an option to MagneticFieldSvc to use Set instead of Measured current from
    CondDB (default false, needed when running online) (Magnet v5r1)
  . Add functionalities to ST readout maps
    (SQLDDDB v4r9, STDAQ v3r11, STKernel v1r8, LHCbKernel v9r1)

- Monitoring changes
  . Rich monitoring uses new RichRecQCConf configurable. Uses the Check sequence
    when MC is enabled and the Moni sequence when it is not. Make sure some plots
    are filled in MC-free mode (Brunel v33r2, RichRecQC v2r22)
  . Add Velo and Calo monitoring (BrunelMoni.opts)
  . Updates to MuonPIDChecker, add possibility to run as a monitor
    (MuonPIDChecker v2r3) 

- Bug fixes
  . Many fixes and enhancements for real data decoding
    (L0MuonKernel v8r2, ProcessorKernel v5r2, L0Event v17r1p1, RecEvent v2r15,
     VeloEvent v16r6, STTell1Event v1r5, MuonDAQ v4r4, OTDAQ v7r2, STKernel v1r8,
     L0Calo v9r17, L0Muon v8r2, RichDAQ v3r20, STDAQ v3r11, VeloDAQ v4r3)
  . Fix uninitialised pointers in MagneticFieldSvc (Magnet v5r1)
  . Fix a FPE in MuonChamberGrid::listOfPhysChannels() (Magnet v5r1)
  . Fix in TT dead strip list (SQLDDDB v4r9)
  . Fixed bug in HeraBExtrapolator::rk5numde which would make it fail for q/p=0
    (TrackExtrapolators v2r20)
  . make FastMomentumTool and PtTransporter safe for 0 b field
    (TrackTools v3r11)
  . StateSimpleBetheBlochEnergyCorrectionTool.cpp, dEdx correction never applied,
    added missing tX[4] = 1.0/newP; (TrackTools v3r11)
  . Fix bug to extrapolator options in Fitting.py (TrackSys v4r17)
  . Fix bugs for nonDrifttimes and BfieldOff in Fitting.py and RecoTracking.py
    (TrackSys v4r17)
  . Small bug fix to track sort order between RZ and Space tracking;
    slight improvement in efficiency and ghost rate (PatVelo v3r8)
  . Don't abort processing when input Tracks are missing.
    (RichRecTrackTools v1r6)

</PRE><H1><A NAME=v33r1>2008-07-31 Brunel v33r1</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r0, Lbcom v6r21, Rec v5r10
 and DDDB v1r* (SQLDDDB v4r7 or greater), ParamFiles v7r2, FieldMap v5r*

This is a development version.
- Should be used to reconstruct 2008 geometries
- Can be used for DC06 geometries, but material seen is different from DC06
- Cannot reconstruct data produced with Boole v15r1 or v15r2 (use v32r8 instead)
- Cannot reconstruct 2008 simulation digitized with Boole v16r0 (use v33r0)

- Persistency changes
  . Output data needs DaVinci v19r15 to v24r* in following cases:
    o If accessing simulated OT raw banks produced with Boole v16r1 or later
      (bank version SIM=63) (OTDAQ v7r1)
    o If accessing TT raw banks in 2008 data or simulation, due to fixes to 2008
      TT decoding. Thes fixes also prevent reconstruction of 2008 simulation
      digitized with Boole v16r0 or earlier (STDAQ v3r10, STKernel v1r7)
    o If accessing HepMCEvent record, which is always in HepMC 2 format on Brunel
      output. When reading .digi files, Brunel assumes HepMC 1 format for DC06
      data (and converts to HepMC 2), HepMC 2 otherwise; for DC06 data in HepMC 2
      format or other data in HepMC 1 format, change defaults by respectively 
      removing or adding the Dll "HepMCBack" from ApplicationMgr().Dlls (LCG_55a)
  . Removed /Event/Rec/Rich/RichOfflineSummaryTracks from default DST
    (GaudiConf v10r12, RichRecSys v3r12)

- New features
  . Added access to ONLINE partition of CondDB
    (DDDB v1r10, DetCond v12r2, SQLDDDB v4r7)
  . Added Brunel().useOracleCondDB flag (default False, uses SQLDDDB)
    (GaudiConf v10r12, DDDB v1r10)
  . At initialisation, use current time as best guess for initial values of
    conditions (DetDescSvc v2r1)
  . Velo motion system position (for Velo open/closed geometry) now taken from
    CondDB (VeloDet v13r3, SQLDDDB v4r7)
  . Magnetic field scale factor, polarity, field maps now taken from CondDB
    (Magnet v5r0, SQLDDDB v4r7)
  . New "RunChange" incident issued by OdinTimeDecoder when run number obtained
    from ODIN is different from the previous one (DAQEvent v7r13)
  . New algorithm TrackUseCaloMomentumAlg, clones Track objects and updates their
    momentum using CALO information (used in field off RICH reconstruction)
    (RichRecAlgorithms v2r12)
  . Updated valgrind.job to work with python options

- New tuning
  . Updated IT and TT dead channel maps for 2008 (STDet v4r4, SQLDDDB v4r7)
  . New distinction between Rich L1 hardware and logical ID numbers
    (RichDAQ v3r19, RichDet v11r0, RichKernel v7r14)
  . Adapted pattern algorithm tuning to measured field map, selecting correct
    tuning according to field map in use in MagneticFieldSvc
    (PatAlgorithms v3r9, TrackTools v3r10, Magnet v5r0, LHCbKernel v9r0)
  . Use new matrix inversion based on cholesky decomposition (TrackTools v3r10)

- Monitoring changes
  . Disable the Rich reconstruction summary data objects monitor (no longer
    produced by default) (RichRecQC v2r20)

- Bug fixes
  . Fix to gaudirun.py to allow producing correct old style options from
    python options (GaudiConf v10r12)
  . Fix to PatSeedingTool, was crashing when using isolation cuts
    (PatAlgorithms v3r9)
  . Protect MaterialLocator base to against 'null' extrapolation
    (TrackExtrapolators v2r19)
  . More fixes and protections for real data decoding (L0Calo v9r19, L0Muon v8r1,
    STDAQ v3r10, L0Event v17r1, STTELL1Event v1r4, STKernel v1r7)
  . In CaloZSupAlg, protect against large negative noise in 2D 0-sup method
    (CaloDAQ v4r7)
 
</PRE><H1><A NAME=v33r0>2008-07-21 Brunel v33r0</A></H1><PRE>
This version uses projects Gaudi v20r1, LHCb v24r1, Lbcom v6r20, Rec v5r9
 and DDDB v1r* (SQLDDDB v4r6 or greater), ParamFiles v7r2, FieldMap v5r*

As from this version, top level *.opts options have been removed, please use
gaudirun.py with the python configurable options. Usage of Brunel.exe is no
longer supported, it is kept for Ganga usage only

This is a development version.
- Can be used to reconstruct 2008 geometries, but only produced with Boole v16r0
- Can be used for DC06 geometries, but material seen is different from DC06
- Cannot reconstruct data produced with Boole v15r1 or v15r2 (use v32r8 instead)

- New features
  . Tracking now steered by python options
    (TrackSys v4r15, PatAlgorithms v3r8, PatVeloTT v3r2, TrackMatching v2r18,
     TsaAlgorithms v3r4)
  . Add expertTracking switches to Brunel configurables. 
    Supported values are: ["usePatSeeding","noDrifttimes","simplifiedGeometry"]
    (python/Brunel/Configuration.py, options/Brunel-Default.py, TrackSys v4r15)
  . Add "Vertex" to Reco.DetectorList, called after "Tr", for primary vertex
    reconstruction (RecSys v5r9)
  . Added possibility to use of dead strips in TT and IT 
    (TrackTools v3r9, TsaAlgorithms v3r4, STDet v4r3)
  . Added tests for VELO sensors readout and bad strips
    (TrackTools v3r9, VeloDet v13r2)
  . Added more cuts to TrackSelector (TrackTools v3r9)
  . OT decoding modified to support real data. Breaks support for simulated
    data digitized with Boole v15r1 and v15r2 (OTDAQ v7r0)
  . Many fixes and protections for decoding real data
    (L0Interfaces v1r3, L0Event v17r0, L0Calo v9r15, L0DU v8r7, L0Muon v8r0,
     L0MuonKernel v8r0,MuonDAQ v4r3, OTDAQ v7r0, RichDAQ v3r8, STDAQ v3r9,
     STKernel v1r6, STTell1Event v1r3)
  . Magnetic field scaling factor now taken from SIMCOND or ONLINE, can be
    over-ridden by job options (e.g. for DC06 field map) (Magnet v4r0)
  . Added Velo alignment condition, which is able to get X and Y offsets from
    another condition (VeloDet v13r2, SQLDDDB v4r6)
  . New calorimeter description with split halves
    (SQLDDDB v4r6, CaloDet v9r0, CaloDetXmlCnv v3r2)
  . Update Brunel_ganga.py for usage with Ganga 5
 
- Removed features
  . Remove all top level *.opts files, use configurable instead
  . Brunel.exe no longer supported, except for legacy usage via Ganga
    (N.B. valgrind.job not yet migrated, do not use)

- New tuning
  . Update 2008 simulation test file with one produced with Boole v16r0
    (2008-Files.opts)
  . Add more checks on input arguments of python/Brunel/Configuration.py
  . Use L0FilterFromRawSeq sequence from L0DU package in case of L0 filtering.
    Previously was recalculating emulated decision (Brunel.opts, L0DU
  . Use cholesky decomposition for track covariance matrix inversion
    (TrackFitter v2r26)
  . Improvements to PatDownstream and PatSeeding (PatAlgorithms v3r8)
  . Minor fix to the computation of the molar weight for computation of dE/dx
    constants for mixtures (DetDesc v18r7)

- New packaging
  . Move handling of options for fieldOff and veloOpen to tracking scripts
    (python/Brunel/Configuration.py, TrackSys v4r15)
  . Take reconstruction sequences from Reco.py, no longer from Reco.opts 
    (Brunel.opts, RecSys v5r9)

- Bug fixes
  . Fix uninitialised variables (PatChecker v3r3p1)
  . Fixes to IT geometry (SQLDDDB v4r6, STDet v4r3)
  . Fix FPE monitoring on Windows (LHCbKernel v8r6)
  . Protect a FPE in MuonDet (MuonDet v8r2)
  . Fix tiny memory leak (DetCond v12r1)

</PRE><H1><A NAME=v32r8>2008-07-08 Brunel v32r8</A></H1><PRE>
This version uses projects Gaudi v20r1, LHCb v24r0, Lbcom v6r19, Rec v5r8
 and DDDB v1r* (SQLDDDB v4r5 or greater), ParamFiles v7r1, FieldMap v5r*

This is a development version.
- Can be used to reconstruct 2008 geometries. 
- Can be used for DC06 geometries, but material seen is different from DC06

- New features
  . Add Brunel-2008.py and 2008-Files.py, example job for 2008 simulated data
  . In Brunel Configurable, add support for SIMCOND. Now used by default except
    for DC06 geometries (Brunel v32r8, GaudiConf v10r10, DDDB v1r8)
  . Improvements to Floating Point Exception auditing
    (LHCbKernel v8r5, LHCbAlgs v2r19)
  . Prepare for IOV based snapshots of ONLINE CondDB (DetCond v12r0)
  . New primary vertex functionality - See <a href="http://indico.cern.ch/materialDisplay.py?contribId=46&sessionId=20&materialId=slides&confId=33862">presentation</a> at tracking and alignment workshop, 2008-06-11 (PatPV v3r4)

- New tuning
  . Change 2008 default database tag to head-20080702 (DDDB v1r8, SQLDDDB v4r5)
  . Many improvements, bug fixes and protections for real data decoding
    (RichKernel v7r13, MuonDet v8r1, MuonDAQ v4r2, CaloDAQ v4r6, SiDAQ v2r1,
     RichRecBase v3r15, STKernel v1r5, Tell1Kernel v1r4, L0Calo v9r4,
     RichDAQ v3r17, STDAQ v3r8, RichREcMonitors v2r19)
  . Added minMomentumForELossCorr and maxMomentumForScattering variables in
    TrackMasterFitter (TrackFitter v2r25)
  . Fail fit if smoother fails to calculate reasonable error on residual
    (TrackFitter v2r25)
  . LongTrackReferenceCreator: Changed default extrapolator to
    TrackMasterExtrapolator (TrackTools v3r8)

- Monitoring changes
  . Add summary printout of ST bank decoding statistics/errors (STDAQ v3r8)
  . For VELO tracks, provide a breakdown of PR performance per algorithm
    (PatChecker v3r3)

- Packaging changes
  . Brunel.opts no longer includes LHCbApplication.opts, to allow usage of
    .py version in configurable. Added instead to DC06 *.opts files

- Bug fixes
  . Remove explicit evaluation of environment variables in Python options, to
    allow use on the Grid (GaudiConf v10r10, DDDB v1r8)
  . Fixes and protections for floating point exceptions
    (DetDesc v4r7, MuonDet v8r1, OTDAQ v6r0p1, TrackCheckers v4r1,
     TrackFitter v2r25, TrackTools v3r8, PatAlgorithms v3r7, PatVelo v3r7)
  . Add missing initialization of deltaEnergy in FitNode (TrackFitEvent v3r16)
  . Don't remove outlier from track with 1 dof (TrackFitter v2r25)


</PRE><H1><A NAME=v32r7>2008-06-04 Brunel v32r7</A></H1><PRE>
This version uses projects Gaudi v19r9, LHCb v23r7, Lbcom v6r17, Rec v5r7
 and DDDB v1r* (SQLDDDB v4r4 or greater), ParamFiles v7r1, FieldMap v5r*

This is a development version.
- Can be used to reconstruct 2008 geometries. 
- Can be used for DC06 geometries, but material seen in ST detectors is different
from DC06

- New features
  . Add ability to decode 2008 OT data format (OTDAQ v6r0)
  . New attribute "mainOptions" in Brunel() configurable, to define top level
    options file to include (default is $BRUNELOPTS/Brunel.opts)
  . Add "FPE" as possible Brunel().monitor, to switch on floating point exception
    checking (GaudiConf v10r9, LHCbAlgs v2r18)

- New tuning
  . Use default extrapolator also for seed, velo, velo-tt fits (TrackSys v4r14)
  . Extrapolate also downstream tracks to beamline (for Ks) (TrackSys v4r14)
  . Changed how PatVeloGeneralTracking uses R clusters only found on RZ tracks,
    this has a 1% better efficiency for "Velo only" tracks (i.e. out of the
    acceptance) and ~0.1% improvement for long tracks, but about a 0.1% higher
    ghost rate. (PatVelo v3r6)

- Bug fixes
  . Remove all float-double conversion warnings in tracking code, should improve
    cross-platform reproducibility. Does not affect timing performance
    (PatAlgorithms v3r6, TfTools v1r6, TrackFitEvent v3r15, TrackTools v3r7,
     TfKernel v2r5, TsaKernel v3r3) 
  . Fixed bug preventing reconstruction with tilted Velo detectors
    (VeloTools v3r2)
  . Fix wrong counter initialization in NeutralProtoPAlg (GlobalReco v6r16)
  . Fix floating point exceptions
    (RichRecPhotonTools v1r4, RichRecStereoTools v1r2, RichRecTrackTools v1r5)
  . Fix untested StatusCodes
    (RichGlobalPID v3r9, RichRecTracktools v1r5)

</PRE><H1><A NAME=v32r6>2008-05-19 Brunel v32r6</A></H1><PRE>
This version uses projects Gaudi v19r9, LHCb v23r6, Lbcom v6r17, Rec v5r6
 and DDDB v1r* (SQLDDDB v4r3 or greater), ParamFiles v7r1, FieldMap v5r*

This is a development version.
- Can be used to reconstruct 2008 geometries. 
- Can be used for DC06 geometries, but material seen in ST detectors is different
from DC06

- New features
  . Possibility to use 2008 geometries. Default geometry for 2008 is
    head-20080516, defined in LHCb-2008.py (GaudiConf v10r8, DDDB v1r6)
  . Possibility to use measured magnetic field map, used by default with 2008
    default geometry (FieldMap v5r0, Magnet v3r0)
  . Added "monitors" property to Brunel Configurable. When set to ["SC"] performs
    StatusCode check (GaudiConf v10r8)

- New tuning
  . Major changes to ST geometry structure. Changes material distribution seen in
    DC06 geometry. See talks at <a href="http://indico.cern.ch/conferenceDisplay.py?confId=30157">ST meeting on 2008-03-13</a>).
    (STDet v4r0, STCheckers v2r5, TrackFitEvent v3r14, TrackTools v3r6,
     TsaAlgorithms v3r3)
  . Default DC06 tag changed to DC06-20080516 to encompass ST changes
    (DDDB v1r6, SQLDDDB v4r3)
  . Improvements and protections in ST RawBank decoding
    (DigiEvent v2r6, RecEvent v2r12, STDAQ v3r6)
  . Minor changes to Rich reconstruction
    (RichRecBase v3r13, RichRecStereoTools v1r1)
  . Possibility to reconstruct Rich PID starting from DST tracks
    (RichRecTrackTools v1r4, RichRecSys v3r10)
  . Improvement to clone killer speed and efficiency. See talk at <a href="http://indico.cern.ch/conferenceDisplay.py?confId=33031">T-Rec meeting on 2008=05-05</a>
    (TrackInterfaces v3r14, TrackTools v3r6, TrackUtils v1r20)
  . Minor timing improvements in PatForward (PatAlgorithms v3r5)
  . New (backwards compatible) implementation of PatMatch as a tool, quality of
    match now in "maxMatchChi2" job option (PatAlgorithms v3r5)

- Monitoring changes
  . Reorganisation and additions to Rich monitoring and checking
   (RichMCMonitors v1r6, RichRecMCTools v2r18, RichRecMonitors v2r17,
    RichRecTools v4r4, RichRecQC v2r18)

- Bug fixes
  . Fixes to spaces in job options, to allow use with python
    (CaloDAQ v4r4p1, CaloMoniDst v3r0p2, TrackCheckers v3r4p2)
  . Fix in MuonMeasurement (TrackFitEvent v3r14)
  . Fix untested StatusCode
    (RichTools v2r20, CaloUtils v8r0, CaloPIDs v4r10, NNTools v1r2p1)

</PRE><H1><A NAME=v32r5>2008-04-25 Brunel v32r5</A></H1><PRE>
This version uses projects Gaudi v19r9, LHCb v23r5, Lbcom v6r16, Rec v5r5
 and DDDB v1r* (SQLDDDB v4r2 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version 

- New features
  . Added python configurable for Brunel (python/Brunel/Configuration.py)
    Related files in options directory:
    o Brunel-Default.py       : describes available options and defaults
    o Brunel-DC06Rdst.py      : configuration for DC06 rdst production
    o Brunel-L0DC06Rdst.py    : same as DC06Rdst, L0 selected events
    o Brunel-DC06Stripping.py : configuration for DC06 stripped DST production
    o DC06-Files.py           : example files for I/O with above configurations
    o Brunel-CCRCStripping.py : same as DC06Stripping but without MC truth
  . RecInit/Brunel algorithm renamed RecInit/BrunelInit, to avoid name clash with
    configurable
  . Updated file catalog usage. Now a new catalog MyCatalog.xml is created for
    output files, existing job/NewCatalog.xml is read only, describes example
    input files 
  . Reworking of Rich packages to allow for tool based reconstruction
    (See RecSys v5r5 release notes)

- New tuning
  . Modified default idle connection time-out in CondDBAccessSvc from 600s to
    120s (DetCond v11r10)
  . Changed coordinate cache from float to double. This fixes some float/double
    conversion issues in the VELO tracking. Memory is increased by 500 kB.
    (VeloDet v13r0, TfKernel v2r4)

- Bug fixes
  . Fixed unchecked StatusCodes (GlobalReco v6r15p1)
  . Fixed bug in FastMomentumEstimate.cpp: sigmaQOverP used to be negative
    for qOverP negative (TrackTools v3r5)
  . Fixed bug in State::posMomCovariance (TrackEvent v4r12)
  . Fixed memory leak in XmlFileCatalog (GaudiUtils v1r6)
  . Fix in DefaultVeloHitManager: the hit preparation always tried to access
    the first cluster in the cluster container to obtain a sensor number,
    causing a crash on empty cluster containers (TfKernel v2r4)

- Removed features
  . Removed obsolete file v200601.py (replaced by Brunel-Default.py)
  . Removed "Etc" from Init.DetectorList, had identical functionality to "Reproc"

- Monitoring changes
  . Updated SuppressWarnings.opts to suppress histogram statistics printout in
    production
  . Add back functionality to exclude guard rings in efficiency calculation;
    default value of STEffChecker.IncludeGuardRings is false (STCheckers v2r4p1)
  . Give meaningful names to MemoryTool histograms and don't print histogram
    statistics by default (LHCbAlgs v12r6)
  . Gaudi Histo base classes now print histogram statistics by default at
    finalize (GaudiUtils v1r6, GaudiAlg v10r5)

</PRE><H1><A NAME=v32r4>2008-03-12 Brunel v32r4</A></H1><PRE>
This version uses projects Gaudi v19r8, LHCb v23r4, Lbcom v6r15, Rec v5r4
 and DDDB v1r* (SQLDDDB v4r0 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- New tuning
  . Retuned PatVeloGeneralTracking to pick up very long halo tracks better. 
    Has tiny effect on normal tracking (PatVelo v3r4)
  . Add support for individual HPD Q.E. values and mirror segment reflectivities.
    Determines on track by track and hypo by hypo basis the correct weighted
    average to use (RichRecTools v4r2)
  . In SuppressWarnings.opts, timestamp is printed in UTC, keep EventLoopMgr msgs

- New options
  . Add RealData-ETC.opts for processing from ETC referring to mdf file

- Bug fixes
  . Fix to avoid asking for phi of cluster at an r smaller than the inner radius
    (PatVelo v3r4)
  . Add protections to MagneticFieldSvc to make it robust against crazy input
    coordinates (Magnet v3r7) 

</PRE><H1><A NAME=v32r3p1>2008-02-11 Brunel v32r3p1</A></H1><PRE>
This version uses projects Gaudi v19r7, LHCb v23r3, Lbcom v6r14, Rec v5r3
 and DDDB v1r* (SQLDDDB v4r0 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- New features
  . When opening MDF files, use ROOT as default for: rfio, castor, dcache, dcap,
    gsidcap and gfal (MDF v3r3)

- Bug fixes
  . Add fix for bug (crashes initialisation on Windows) due to a reference to
    temporary being passed (RichTools v2r17p1)
  . Proper handling of URL options (MDF_RFIO v1r1)

</PRE><H1><A NAME=v32r3>2008-02-04 Brunel v32r3</A></H1><PRE>
This version uses projects Gaudi v19r7, LHCb v23r3, Lbcom v6r14, Rec v5r3
 and DDDB v1r* (SQLDDDB v4r0 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- Persistency changes
  . Propagate /Event/Link/Raw/Hcal/Digits to DST if present on input .digi file
    (present from Boole v14r9) (GaudiConf v10r6)

- New tuning
  . New treatment of geometry overlaps. By default overlap errors are "recovered"
    by the TransportSvc. A summary of recovered errors is printed at the end.
    See the <a href="http://indico.cern.ch/materialDisplay.py?contribId=5&materialId=slides&confId=10184">presentation at T-Rec meeting, 17.12.2007</a>
    (DetDesc v18r3, DetDescSvc v1r16)
  . In valgrind.job, use the new ROOT suppressions file available from LCG_54
  . In RecoTracking.opts, add NeuralNetTmva ghost probability algorithm to end
    of tracking sequence. Needs ParamFiles v7r1 or greater
    (TrackSys v4r13, NNTools v1r2) 
  . Modified the T, IT and OT geometry so that IT and OT use independent
    parameters for their position inside T (SQLDDDB v4r0)
  . Improvements to ray tracing photon reconstruction 
    (RichRecPhotonTools v1r1, RichRecSys v3r8)
  . Changes in TrackKalmanFilter to improve fit stability (TrackFitter v2r23)
  . Call for intersections less often (TrackFitter v2r23) 
  . Si measurement-providers now use the track state to estimate the cluster
    position error (TrackTools v3r3)

- New features
  . Possibility to switch off drift times in OT pattern recognition
    (TfKernel v2r2, TfTools v1r3)
  . Modified the space tracking so it uses the new hit preparation on demand 
    features in TfKernel (PatVelo v3r3, TfKernel v2r2)
  . Now uses Gaudi XML catalog, no longer the POOL one, using
    FileCatalog.Catalogs option instead of PoolDbCacheSvc.Catalog
    (GaudiPoolDB v3r0)
  . Change PoolDbCacheSvc.AgeLimit to IODataManager.AgeLimit, for Gaudi v19r7
  . In ExpertCheck.opts add options for CondDb logging (commented out)

- Bug fixes
  . BankKiller (used by Calorimeter) no longer prints an error every time a MDF
    bank is missing, just counts (DAQEvent v7r8)
  . MDFSelector now accepts same input file specifications as POOL (MDF v3r0)
  . Fix unprotected array index in CaloMergedPi0.cpp, cause of infinite loop in
    Brunel v32r2 amd64_dbg build (CaloReco v4r10)
  . Protect against NaN in NeutralProtoPAlg::finalize() (GlobalReco v6r15)
  . Fix AddNeibours warning in HcalE and EcalE initialisation (CaloPIDs v4r9)
  . Correct small bug in TrackSelector eta cut (TrackTools v3r3)
  . In DC06-ETC.opts, fix Linkers if reprocessing from DST input
  . Improve handling of Global PID TES data objects. Fixes crash observed when
    running Brunel using FieldOff-VeloOpen.opts (RichGlobalPID v3r7)

- Monitoring changes
  . Extend pixel monitoring to include new MC background types (HPD reflections
    and silicon back-scattering) (RichRecQC v2r16)
  . If histogram ID is not explicitly given, it is now assigned in a
    deterministic way (GaudiAlg v10r3)

</PRE><H1><A NAME=v32r2>2007-12-12 Brunel v32r2</A></H1><PRE>
This version uses projects Gaudi v19r6, LHCb v23r2, Lbcom v6r13, Rec v5r2
 and DDDB v1r* (SQLDDDB v3r1 or greater), ParamFiles v7r0, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- New tuning
  . VeloClusterPosition update to match TELL1 board position format. New tuning
    for the error parametrization for the pitch projection
    (VeloTools v3r0, LHCbKernel v8r8, TrackInterfaces v3r11)
  . Tidied up RZ track fitting code to only calculate slope & pos after 3 coords
    PatVelo v3r2)
  . Set chi2 of RZ tracks properly (PatVelo v3r2)
  . Changes to track fit:
    o Move reference vector to Nodes and use them in the fit
    o Create reference from TrackTraj
    o Use OT calibration in fit
    o Calculate tof correction
    o Fixed interpolator such that it does the right thing also for extrapolation
    o Removed extrapolators from MeasurementProviders
    Overall effect is big reduction in fit failures (in particular for VeloTT),
    compensated by small increase in ghost rate 
    (TrackEvent v4r9, OTDet v7r7, TrackInterfaces v3r11, TrackFitEvent v3r11,
     TrackProjectors v2r18, TrackCheckers v3r3, TrackTools v3r2,
     TsaAlgorithms v3r2, PatVeloTT v3r1, TrackFitter v2r22, TrackMatching v2r17,
     TrackSeeding v1r3, TrackSys v3r2)
  . Track measurements no longer removed by TrackToDST, since they are in any 
    case not persistent (TrackUtils v1r17)
  . Write out states in T at 3 z positions (PatAlgorithms v3r2)
  . Change default value of z position of output track state to mid T
    (TsaAlgorithms v3r2)
  . Reorganisation and improvements to Rich reconstruction tools
    (RichKernel v7r9, RichDet v10r8, RichRecBase v3r9, RichDAQ v3r13,
     RichTools v2r16, RichGlobalPID v2r14, RichRecTools v4r0,
     RichRecTrackTools v1r0, RichRecPhotonTools v1r0)
  . New implementation of primary vertex fit (PatPV v3r1)
   
- New functionality
  . Modify state filling in case fast momentum parameterization is used
    (TsaAlgorithms v3r2)
  . Include new options for MDF IO (RawData.opts, GaudiConf v10r5)
  . In RealData.opts, add options for new MultiFileCatalog when reading MDF file
  . If ODIN is missing, event is skipped but processing continues (RecAlgs v1r5)
  . New files options/RealDataRdst.opts and job/GaudiCatalog.txt to set up rDST
    production starting from an MDF file - to be used in CCRC08  
  . RealData.opts renamed RealDataDst.opts in analogy to RealDataRdst.opts
  . New file options/SuppressWarnings.opts to be used in production for a minimal
    log file

- Monitoring changes
  . Many changes and improvements to Rich monitoring
    (RichRecMCTools v2r14, RichRecMonitors v2r13, RichRecQC v2r15,
     RichRecPhotonTools v1r0, RichRecSys v3r7)

- Bug fixes
  . Fix unchecked StatusCode (MuonDet v7r1, MuonDAQ v3r3)
  . Protections for missing data (RichMCMonitors v1r5, RichTools v2r16)
  . Fix screwed up region numbering for IT and OT (PatAlgorithms v3r2)
  . Bug fixed in TrackTraj constructor and caching (TrackFitEvent v3r11)
  . Fix bug in TrackHerabExtrapolator (TrackExtrapolators v2r16)
  . Fixed divide by zero in log file output when PatVeloGeneralTracking ran on
    no events (PatVelo v3r2)
  . Fix formatting problems with reading/writing stripping ETC, affecting
    November 2007 productions (RecUtils v1r4, DC06-ETC.opts)
  . Update track selection options for rDST, following changes to PatPV. These
    options are moved to rDSTContent.opts from DC06.opts to make them general 

</PRE><H1><A NAME=v32r1>2007-11-15 Brunel v32r1</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v23r1, Lbcom v6r12, Rec v5r1
 and DDDB v1r* (SQLDDDB v3r0 or greater), ParamFiles v7r0, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- Persistency changes:
  . Tracks created by PatDownstream algorithm have new PatDownstream history
    flag set (TrackEvent v4r8, PatAlgorithms v3r1)

- New functionality
  . Muon geometry now has concept of half stations to allow for misalignment
    conditions (MuonDet v7r0, SQLDDDB v3r0)
  . Ability to understand new L0DU bank format and Trigger Configuration Key
    mechanism (L0DU v8r0, L0Calo v9r10, L0Muon v7r5, L0Event v16r6)
  . Add PatDownstream, an adaptation to Tf of PatKShort
    (TrackEvent v4r8, TrackInterfaces v3r10, TrackMCTools v2r14, TrackSys v4r11,
     PatAlgorithms v3r1, TrackUtils v1r16, BrunelCheck.opts)
  . Add RealData.opts to process "real data" (v200601 geometry) in mdf format
  . Outlier rejection cuts now tunable through job options (TsaAlgorithms v3r1)
  . Likelihood contributions can be weighted differently (or switched off)
    with job options (TsaAlgorithms v3r1)
  . Add Empty.opts dummy options file to bootstrap Dirac with non-standard
    configurations

- New tuning
  . Replaced StateTraj with StateZTraj in projectors (to speed things up)
    (LHCbKernel v7r8, TrackFitEvent v3r10, TrackProjectors v2r17)
  . TsaSeedTrackCnv algorithm now uses FastMomentumEstimate tool
    (TsaKernel v3r1, TrackInterfaces v3r10, TrackTools v3r1, TsaAlgorithms v3r1,
     TrackSys v4r11)
  . Faster error checking (TrackFitter v2r21)
  . Tiny differences in performance due to changes in TsaAlgorithms to pick up
    resolution constants from CondDB, to allow running with drift times 
    off/misalignments (TsaAlgorithms v3r1)

- Bug fixes
  . Fix error in default Brunel_Ganga.py file for latest CMT structure.
  . Fixed in TrajPoca specification of tolerance for validity of quadratic
    approximation (LHCbAlgs v2r12)
  . Fix to PatMatch (PatAlgorithms v3r1)
  . Fixes in TrackLongExtraSelector (TrackExtrapolators v2r15)
  . Release tool handle in MasterExtrapolator::finalize (TrackExtrapolators v2r15)
  . Fix unchecked StatusCode
    (TsaAlgorithms v3r1, TrackFitter v2r21, TrackExtrapolators v2r15))
  . Protect against divide by zero when few events processed (MuonPIDChecker v2r2)

</PRE><H1><A NAME=v32r0>2007-10-12 Brunel v32r0</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v23r0, Lbcom v6r11, Rec v5r0
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This is a development version with the first deployment of tracking pattern
recognition based on the Tf framework.

Functionality and performance should be similar to v31r10, except that the 
KsTrack container is not populated in this version (algorithm not yet migrated)

</PRE><H1><A NAME=v31r11>2007-10-26 Brunel v31r11</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v22r10, Lbcom v6r10, Rec v4r11
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This is the production version for the DC06 reprocessing

- Bug fixes
  . Fixed unchecked status code when projecting reference, leading to crash in
    TransportSvc (TrackFitter v2r20)

</PRE><H1><A NAME=v31r10>2007-10-11 Brunel v31r10</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v22r10, Lbcom v6r10, Rec v4r10
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This was the first production test version for the DC06 reprocessing

- New features
  . Add new Calo monitoring (off by default)
    (CaloMoniDst v3r0, BrunelMoni.opts, BrunelCheck.opts)
  . Add options/v200601.py, to execute Brunel from Python shell

- Persistency changes
  . Add variables to track for NN ghost ID 
    (PatForward v2r16, TrackMatching v2r16, TrackEvent v4r7)
  . Change extraInfo flag to TsaLikelihood (TsaAlgorithms v2r7, TrackEvent v4r7)
  . Make sure first measurement state still added to track even if extrapolation
    to beam line fails (TrackFitter v2r19)

- New tuning
  . Change to more closely replicate old kinked track behaviour (PatVelo v2r19).
    See talk at <a href="http://indico.cern.ch/materialDisplay.py?contribId=4&amp;materialId=slides&amp;confId=10174">T-Rec on 2007-10-08</a>
  . Adjust some jobOptions for more stable fitting (PatVeloTT v2r15)
  . Change cut on match chi^2 (TrackMatching v2r16)
  . Remove the use of reference vector in the projection (TrackProjectors v2r16)
  . KalmanFilter: Reference state now only projected in forward filter
    (TrackFitter v2r19)
  . Change deweighting to 1 in likelihood, no longer needed (TrackTools v2r19)
  . Make sensible check on t-station range in LongTrackReferenceCreator
    (TrackTools v2r19)
  . Changes in TrackAddLikelihood to allow different values for different
    track types (TrackUtils v1r15)
  . Add 2 prefit iterations with OT projections without drifttimes, followed by
    2 fit iterations using drifttimes. Apply for Forward, KShort and Match only
    (TrackSys v4r10)
  . Add TrackLikelihood calculation to the running sequence (TrackSys v4r10)
  . Update ChargedProtoCombineDLLsAlg to produce better combined DLL values
    (GlobalReco v6r13)

- Bug fixes
  . Remove unneccessary release() of UMS from TT/ITReadoutTool (STDAQ v3r1)
  . In KalmanFilter: set reference vector from prediction in case not set before
    (TrackFitter v2r19)
  . Fix TrajPoca for non linear trajectories (LHCbAlgs v2r11)

</PRE><H1><A NAME=v31r9>2007-09-21 Brunel v31r9</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r9, Lbcom v6r9, Rec v4r9
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This is a pre-production version for validation of the DC06 reprocessing

- New features
  . Added options for running the Tf version of tracking pattern recognition,
    off by default 
    (BrunelCheck.opts, Reco.opts, RecoTracking_Tf.opts, Fitting_Tf.opts)
  . Update example ganga job to remove warnings about missing features (now
    available) and to add examples of job merging.
  . Added options for reprocessing from DST (Brunel.opts, v200601.opts)
  . Uses new SQLDDDB tag DC06-repro0710 (DDDB v1r1, SQLDDDB v2r3 or greater)

- New tuning
  . Many improvements to tracking, including optimisations suggested by A-team
    code reviews
    (See details in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=1&amp;resId=0&amp;materialId=slides&amp;confId=10171">T-Rec on 2007-09-17</a><PRE>)
  . Many improvements to Rich PID.
    (See details in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=1&resId=1&materialId=slides&confId=10168">T-Rec on 2007-08-28</a><PRE>)
- Bug fixes
  . Many fixes to tracking, including most differences in 
    win32/slc4_ia32/slc4_amd64 behaviour
    (See details in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=1&amp;resId=0&amp;materialId=slides&amp;confId=10171">T-Rec on 2007-09-17</a><PRE>)
  . Fix untested StatusCodes in Calorimeter 
  . Fix bugs related to 'lazy connection' feature (CondDB v11r6)


</PRE><H1><A NAME=v31r8>2007-07-23 Brunel v31r8</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r8, Lbcom v6r8, Rec v4r8
 and DDDB v1r* (SQLDDDB v2r2 or greater), ParamFiles v6r1, FieldMap v4r7

- New features
  . New Velo detector element can process both DC06 data and data from real
    detector geometry (default is DC06, requires SQLDDDB v2r2) (VeloDet v11r4)
  . Brunel processing now all takes place in a single GaudiSequencer TopAlg
    (called BrunelSequencer). Allows any algorithm to stop further processing
    of a given event. 
  . New possibility to process only L0 selected events: switch on by uncommenting
    the option Init.DetectorList += { "L0" };

- New tuning
  . Speed improvements in Velo detector element (VeolDet v12r0)
  . Retune Tsa algorithms following bug fix (TsaAlgorithms v2r6)

- New packaging
  . Add in Brunel requirements a no_auto_imports dependency to all used component
    libraries, so they can be reached by cmt broadcast when checked out in 
    User_release_area

- Bug fixes
  . Fix uninitialised variable in PatVeloGeneralTracking (PatVelo v2r17)
  . Fix uninitialised variable in CardParam (CaloDet v8r3)
  . Fix bug in Tsa selection routine (TsaAlgorithms v2r6)
  . Fix TrackMatch options in NoFieldTracking.opts, option names were wrong
    (TrackSys v4r8)

</PRE><H1><A NAME=v31r7>2007-07-10 Brunel v31r7</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r7, Lbcom v6r7, Rec v4r7
 and databases DDDB v1r*, ParamFiles v6r1, FieldMap v4r7

It can process DC06 data, but output format is different from DC06, requires 
programs based on LHCb v22r5 or later

- New features
  . New algorithm (L0Filter) and options ($L0DUROOT/options/Brunel.opts), running
    in new L0 sequence, to reconstruct only events passing L0 (L0DU v6r5)
  . Fast fit with parameterized material now available, but not used by default.
    Needs SQLDDDB v2r1
  . Add SmartRef to Muon track in MuonPID (MuonID v5r2, RecEvent v2r5)
  . Added PatFilterUsedClusters and PatVeloGeneralTracking to default tracking
    and added handling of corresponding new track type (TrackEvent v4r5,
    RichRecBase v3r6, PatVelo v2r16, TrackUtils v1r13, TrackSys v4r7)
    (See details in talk at </PRE><a href="http://indico.cern.ch/materialDisplay.py?contribId=6&amp;materialId=slides&amp;confId=10160">T-Rec on 2007-07-02</a><PRE>)

- Persistency changes
  . Rec/Muon/Tracks added to DST (GaudiConf v10r4)

- New tuning for tracking (see Matt's talk at  </PRE><a href="http://indico.cern.ch/materialDisplay.py?contribId=4&amp;materialId=slides&amp;confId=10160">T-Rec on 2007-07-02</a><PRE>)
  . Use zero magnetic field by default when creating a StateTraj. This is faster
    and has negligible effect on the track fit (TrackProjectors v2r13)
  . Set Ks Fit iterations to three (TrackSys v4r7)
  . Remove use of pow (PatKShort v1r7)
  . Reserve space in vectors (PatKShort v1r7)
  . Retune track matching to account for better fit/new velo pattern 
    (TrackMatching v2r15)
  . Add trimning of ST Measurements (STTools v3r2)

- New tuning for Rich
  . Relax completely the max number of raw input tracks cut for Rich reco. Max 
    cut of 400 on the number of tracks used by the RICH remains (RichRecSys v3r5)
  . Explicitly set the min signal option to 1e-3 (RichRecSys v3r5)
  . Increase max number of iterations of quartz solving in photon creator to 3
     (RichRecSys v3r5)
  . Update the default minimum pixel dll signal cut from 1e-25 to 1e-3
    (RichGlobalPID v3r4)
  . Improvement to the way the photon reconstruction is done inside
    Rich::Rec::PhotonRecoUsingQuarticSoln (RichRecTools v3r12)

- Monitoring changes
  . Restructuring of TrackCheckers with new base class
    (TrackCheckers v3r0, TrackSys v4r7)
  . Changes in MC Particle selection, modifies ST efficiency calculation (by <1%)
    (SimComponents v2r7, ExpertCheck.opts)
  . Update default input files to replace obsolete ones that have been deleted
    (v200601.opts, DC06.opts, NewCatalog.xml)

- Bug fixes
  . Fix uninitialized variables (PatVeloTT v2r13, TsaAlgorithms v2r5)
  . Fix bug in propagation of StateVector (TrackExtrapolators v2r13)
  . Transport the covariance matrix correctly (TrackMCTools v2r12)
  . Make Q/p on all states of output tracks consistent (PatKShort v1r7)
  . Fix in OTCluster drift radius calculation (TsaKernel v2r5)
  . Adapt CopyStripETC and ReadStripETC to new DataStreamTool in Gaudi v19r4
    (RecUtils v1r2)

</PRE><H1><A NAME=v31r6>2007-06-15 Brunel v31r6</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r6, Lbcom v6r6, Rec v4r6
 and databases DDDB v1r*, ParamFiles v6r1, FieldMap v4r7

It can process DC06 data, but output format is different from DC06, requires 
programs based on LHCb v22r5 or later

- Packaging changes
  . Clean up use statements in Brunel requirements (Rec/Brunel v31r6):
    + Remove explicit versions since these are meaningless with InstallAreas
      (leave explicit versions for databases)
    + Use only packages needed to compile or to setup up run time environment

- New tuning
  . In VeloExpectation, use closestState instead of firstState (TrackTools v2r15)
  . Faster TrackMatch version with less ghosts (TrackMatching v2r14, see details
    in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=7&amp;sessionId=0&amp;resId=0&amp;materialId=slides&amp;confId=12233">Heidelberg Tracking Workshop on 2007-02-22</a><PRE>)
  . Update options for zero field tracking (TrackSys v4r6)
  . Updates to ChargedProtoPAlg (GlobalReco v6r10)
  . New DC06 tuning for Calo PIDs (CaloReco v4r8, CaloPIDs v4r7, ParamFiles v6r1)
  . New model of the Velo error estimate implemented, now returned error
    depends both on sensor pitch and projected angle of a track (VeloTools v2r0,
    see details in talk at </PRE><a href="http://indico.cern.ch/materialDisplay.py?contribId=6&amp;materialId=slides&amp;confId=10157">T-Rec on 2007-06-11</a><PRE>)
   
- Monitoring changes
  . Improved format of counters printout (GaudiKernel v22r3)
  . Add time spectrum histogram to OTTimeChecker (OTMonitor v6r6)

- Bug fixes
  . Check untested status codes (MuonDet v6r3)
  . Fix units of kappa in TrackParameters.h, improves pulls of OT hits at low
    momentum (TrackEvent v4r4)

</PRE><H1><A NAME=v31r5>2007-05-21 Brunel v31r5</A></H1><PRE>
This version uses projects Gaudi v19r3, LHCb v22r5, Lbcom v6r5, Rec v4r5
 and databases DDDB v1r*, ParamFiles v5r0, FieldMap v4r7

It can process DC06 data, but output format is different from DC06, requires 
programs based on LHCb v22r5 or later

- Persistency changes
  . RecHeader has a new field containing CondDB tags used in processing. Can only
    be read by programs based on LHCb v22r5 or later
    (EventBase v2r3, LHCbKernel v7r4, RecAlgs v1r4) 

- Tuning changes
  . Add measurements to the MuonTrack 
    (MuonID v5r1, TrackFitEvent v3r4, TrackTools v2r14)
  . Modifications to PatVeloTT, to be retuned (PatVeloTT v2r11)
  . Add VeloTT to no field tracking (PatVeloTT v2r11, TrackSys v4r5)
  . Minor modifications to track matching (TrackMatch v2r13)

- Bug fixes
  . Minor fixes to Rich CK ring ray tracing (RichRecTools v3r11)
  . Bug fix to 3D track fit with cluster sort direction reversed (PatVelo v2r14)

- Monitoring changes
  . Use counter service for monitoring fit success rate (TrackFitter v2r15)
  . Association through LHCbIDs rather than Measurements (TrackAssociators v2r4)
  . Minor changes to Rich CK ring monitoring
    (RichRecMCTools v2r11, RichRecMonitors v2r10)
  . Use TimingAuditor for timing, suppress printout from SequencerTimerTool
    (BrunelMoni.opts)

- Documentation changes
  . The doxygen web generated for Brunel now includes in a single index all
    classes from GAUDI, LHCB, LBCOM, REC projects

</PRE><H1><A NAME=v31r4>2007-04-19 Brunel v31r4</A></H1><PRE>
This version uses projects Gaudi v19r3, LHCb v22r4, Lbcom v6r4, Rec v4r4
 and databases DDDB v1r*, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data.

- New features
  . Can also process new online compatible ST and Rich RawBank format produced by
    Boole v14r* (STDAQ v3r0, RichKernel v7r4, RichDAQ v3r10)
  . Makes Muon tracks with the LHCbIDs of Muon hits (MuonID v5r0)
  . Minor reorganisation of the Rich algorithm sequence to simplify timing
    studies (RichRecSys v3r3)
  . Possibility to reconstruct beam-gas tracks in Velo
    (PatVelo v2r13, TrackSys v4r4)

- New tuning
  . Improvements to PatVelo: 
    + Now produces two states per track, by doing also outward fit
    + Improved angular comparisons
    + New option (off by default) to merge clone tracks by comparisons on angles
      and z position
    + Properly reconstruct also geometries with significant missing sensors
    + Automatically determine from options range of sensors to scan </PRE><CODE>&nbsp;&nbsp;(PatVelo v2r13, see also talks by D.Hutchcroft at T-Rec meetings on <A HREF="http://indico.cern.ch/conferenceDisplay.py/confId=10146">2007-03-26</A> and <A HREF="http://indico.cern.ch/conferenceDisplay.py?confId=10150">2007-04-23</A>)</CODE><PRE>
  . TrackPrepareVelo sets q/p for all VELO states (TrackUtils v1r12)
  . PatVeloTT uses all Velo tracks states (PatVeloTT v2r10)
  . Value of the fractional strip position returned by VeloClusterPositionTool is
    now in the range (0., 1.) instead of (-0.5, 0.5), for consistency with real
    TELL1 data format (VeloTools v1r2)
  . Various speed optimisations
    (RichKernel v7r4, RichDet v10r4, RichDAQ v3r10, RichRecBase v3r3) 

- Bug fixes
  . Fix unchecked StatusCodes (VeloDet v11r2, PatVelo v2r13, VeloTools v1r2,
    PatVeloTT v2r10, PatPV v2r7, OTDAQ v5r2)
  . Fix bug in CaloMomentum definition of the transport matrix (indices swap)
    (CaloUtils v7r2)
  . Since Brunel v31r2, CaloTriggerBitFromRaw was returning only the data of the 
    last TELL1, reducing number of electron clusters by a factor 4 (CaloDAQ v3r2)
  . Since Brunel v30r10, CaloFillPrsSpdRawBuffer was dropping last Prs/Spd L0bit
    for 50% of events when converting to 'short' Calo banks (CaloDAQ v3r2)
  . Fix in TrackKalmanFilter: residuals from last measurement were not calculated
    Has small effect on VeloTT and Match efficiencies (TrackFitter v2r14)
  . Fix for crash seen in DC06 productions (RichLocalPID v3r3)

</PRE><H1><A NAME=v31r3>2007-03-26 Brunel v31r3</A></H1><PRE>
This version uses projects Gaudi v19r3, LHCb v22r3, Lbcom v6r3, Rec v4r3
 and databases DDDB v1r*, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data

- Packaging changes
  . Database now accessed via DDDB interface package, no longer SQLDDDB directly
  . Rename Rich background estimation algorithms (RichRecAlgorithms v2r6)

- New tuning
  . Use new HPD Rich Pixel class in reconstruction
  . Add field off tuning to PatForward (PatForward v2r13, TrackSys v4r3)
  . Use explicitly EndVelo state and set q/p if > 1 state (PatForward v2r13)
  . Clean up Kisel extrapolator (TrackExtrapolators v2r10)
  . Minor modifications to TrackPtKick, to calculate error as function of p
    (TrackTools v2r12)
  . Remove the use of random numbers in GeomEffPhotonTracing (RichRecTools v3r9)
  . fixed the number of Landau parameters for the muon (MuonID v4r6)
  . changed the binning of the pion DLL to be the same as the muon (MuonID v4r6)

- Bug fixes
  . Use boost::format instead of Gaudi format (gave wrong output when used more
    than once in same stream) (various Rich packages) 
  . Fix many unchecked StatusCodes
  . Many fixes to doxygen documentation
  . Disabled some compiler optimizations in libstdc++ on slc3, was causing
    crashes on SLC3 after disconnection from database (DetCond v1r11)

- Monitoring changes
  . Add Total Misid to monitoring table (MuonPIDChecker v2r0)
  . DLL Cut changed to -1 in the options (MuonPIDChecker v2r0)

</PRE><H1><A NAME=v31r2>2007-03-05 Brunel v31r2</A></H1><PRE>
This version uses projects Gaudi v19r2, LHCb v22r2, Lbcom v6r2, Rec v4r2
 and databases SQLDDDB v1r*, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data

- New features
  . Possibility to reconstruct Field off data with both Velo closed and Velo open
    (FieldOff.opts, FieldOff-VeloOpen.opts)
  . Now uses SQLDDDB database for geometry and conditions data
  . Add muon system acceptance flag to ProtoParticle
    (RecEvent v2r2, MuonID v4r5, GlobalReco v6r8)
  . Various fixes to deal with conditions data 
    (MuonDet v6r1, OTDet v7r2, STDet v3r2, VeloDet v11r1, PatVelo v2r12)

- New tuning
  . Do not add SMatrix to ROOT_linkopts. Ensures inlining of SMatrix function
    calls, resulting in large speed inprovement, particularly in track fit
    (LHCbKernel v7r2, LHCbMath v2r1)
  . Various speed improvements (PatForward v2r12, PatChecker v2r12)
  . Renormalise Rich DLL contributions to the el and mu combined DLL values
    in order to suppress huge values, which adversely affect the performance
    (GlobalReco v6r8)

- Bug fixes
  . Fix qOverP in KShort TT state: Was unsigned! (PatKShort v1r4)

- Monitoring changes
  . Additional options in PatChecker (PatChecker v2r12)

</PRE><H1><A NAME=v31r1>2007-02-07 Brunel v31r1</A></H1><PRE>
This version uses projects Gaudi v19r1, LHCb v22r1, Lbcom v6r1, Rec v4r1
 and databases XmlDDDB v40r0, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data

- New features
  . Possibility to decode new Rich1 data format to match latest L1 firmware.
    (RichDAQ v3r7, RichDet v10r1)

- New tuning
  . Reworking and retuning of PatKShort, improved efficiency by 4-5 % with 2%
    extra ghost rate (PatKShort v1r4, PatFitParams v2r4)
  . Update Charged and Neutral ProtoPAlg (new CaloTrajectoryL info + ecalE) 
    (GlobalReco v6r7)
  . Update pixel suppression options to use new clustering tool (RichRecSys v3r1)
  . Change default extrapolator in CaloElectron ('HeraB' instead of 'Master')
    (CaloUtils v7r1)

- Bug fixes
  . Fix DeOTModule::wireLength method to return correct wire length
    (OTDet v7r1, TsaAlgorithms v2r1, PatForward v2r11)
  . Fix findStraws. Check that right most straw is not negative (OTDet v7r1)
  . Add check for entry and exit points. Make sure they are inside (OTDet v7r1)
  . Fix some unchecked StatusCodes (OTDet v7r1)
  . Fix overlaps in RF foil (XmlDDDB v40r0)
  . Temporary fix in STMeasurement to make sure correct strip is used for the 
    trajectory calculation (TrFitEvent v3r1)
  . Fix in TrackCloneFinder tool (affects comparisons of hits in the seeding 
    stations) (TrackTools v2r11)
  . Fix bug in TrackCheckerNT which could cause crash under some circumstances
    (TrackCheckers v2r11)
  . Remove parsing of LCG DoxyGen tagfiles, not used in this project

- Monitoring changes
  . New monitoring options for PID tables with various pt cuts (RichRecQC v2r8)
  . Add MuonPID checking (BrunelCheck.opts, MuonPIDChecker v1r0)


</PRE><H1><A NAME=v31r0>2006-12-23 Brunel v31r0</A></H1><PRE>
This version uses projects Gaudi v19r1, LHCb v22r0, Lbcom v6r0, Rec v4r0
 and databases XmlDDDB v30r14, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

It introduces a new working environment, based on CMT projects.

Compatible with DC06 data

HltApp has been removed, moved to MOORE project

- New features
  . Support for tracking without magnetic field (TrackSys v4r0, TrackUtils v4r0)
    - NoFieldTracking.opts, contains options needed in addition to those
      defined in RecoTracking.opts. This file should be included in addition
      (and *after*) RecoTracking.opts to configure tracking for no magnetic field
    - Add new TrackPrepareForFit algorithm
  . In RecoTracking.opts, introduce a "Track" process phase with Pat, PreFit and
    Fit sequences for each track type (TrackSys v4r0)

- New tuning
  . Update ShowerMax condition for Ecal (XmlConditions v2r5)
  . Major new release. Faster, more flexible, more efficient, less ghosts, 
    less outliers, etc. (TsaAlgorithms v2r0, see release notes for details)
  . Minor speed ups to detector elements  (OTDet v7r0, RichDet v10r0)

- Bug fixes
  . Fix in TrackExtrapolator, for extrapolation to a plane: the distance
    point-plane is signed! (TrackExtrapolators v2r8)

- Monitoring changes
  . Change naming of ST checkers, monitors and job options according to naming
    convention (STCheckers v2r0)

- Maintenance changes
  . Fix some unchecked StatusCodes
  . Remove ApplicationMgr.DLLs options, not needed with new plugin manager
  . Adapt valgrind.job to work with new CMT environment
  . General consolidation of track projectors - see release notes for details
    (TrackProjectors v2r9, TrackFitter v2r12, TrackCheckers v2r11,
     LHCbKernel v7r0)

</PRE><H1><A NAME=v30r15>2007-02-28 Brunel v30r15</A></H1><PRE>
This version uses projects Gaudi v18r11, LHCb v21r12, Lbcom v5r9, Rec v3r14
 and databases XmlDDDB v30r14, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

This is a bug fix release for DC06 physics production, built on v30r14b branch. 
Identical to v30r14 except for:

- Bug fixes
  . Fix bug in PoolDbCnvSvc::connectDatabase, which caused a crash through an
    infinite recursion when a file to be opened using an LFN can be resolved 
    using the file catalog, but then does not exist (GaudiPoolDb v2r9p1)

</PRE><H1><A NAME=v30r14>2006-12-04 Brunel v30r14</A></H1><PRE>
This version uses projects Gaudi v18r11, LHCb v21r12, Lbcom v5r9, Rec v3r14
 and databases XmlDDDB v30r14, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

This is the release for the DC06 physics production

In Brunel v30r14:

- New features
  . Add a search facility to doxygen documentation
  . Implement beam hole in C4F10 (XmlDDDB v30r14, RichDet v9r9, RichRecSys v2r7)

- New tuning
  . Minimize number of open input files by setting PoolDbCacheSvc.AgeLimit option
    (Brunel.opts, ExpertCheck.opts, DC06-ETC.opts)
  . sse2 compilation flags removed, due to too many production sites having
    mixed clusters with PIII and Athlon (GaudiPolicy v6r1)
  . Speed improvement in TrackPrepareVelo (TrackUtils v1r9)
  . DC06 tuning for merged pi0 (CaloReco v4r6)
  . Update electron calibration (CaloReco v4r6)
  . Adjust chi2 cut in PVFitterTool (PatPV v2r4)
  . VeloRMeasurement and VeloPhiMeasurement now use offline cluster centroid
    calculation in trajectory. Fixes bias in Velo residuals (TrackFitEvent v2r7)
  . Filter T-station ghost at the end of PatForward, killing 1.7% ghosts
	  without much effect (1 per mil) on efficiency. (PatForward v2r10)

- Persistency changes
  . Charged ProtoParticles have same key as parent Track (GlobalReco v6r6)
  . CaloPID not saved when it has default value (GlobalReco v6r6)

- Bug fixes
  . Fix memory leak when dropping banks from RawEvent (DAQEvent v6r8)
  . Fix memory leak in PatVeloTT (PatVeloTT v2r8)
  . Fix propagation of error return of biSmooth() step in TrackKalmanFilter
    (TrackFitter v2r11)
  . Fixes in intialisation of phi strips and in isInActiveMethod for phi sensors
    (VeloDet v10r11)
  . Fix possible uninitialised variable in a printout message (TrackFitter v2r11)
  . Handle (very rare!!) failure status from TrajPoca::measure() method
    (LHCbAlgs v2r5, TrackIdealPR v2r8, TrackCheckers v2r5, TrackMatching v2r10, 
     TrackTools v2r10, TrackProjectors v2r8, TsaAlgorithms v1r6)

- Monitoring changes
  . Compute the event averaged ghost rate, add monitoring for strange daughters
    in Velo tracks (PatChecker v2r11)
  . Improvements to Rich monitors (RichRecQC v2r7)
 
- Repackaging
  . Split of calculation of combined DLL values in ChargedProtoPAlg into new
    dedicated algorithm ChargedProtoCombineDLLsAlg (GlobalReco v6r5)

In HltApp v1r3:
  . HltAlleys.opts: add missing option for PatVeloTT online

</PRE><H1><A NAME=v30r13>2006-11-08 Brunel v30r13</A></H1><PRE>
This version uses projects Gaudi v18r10, LHCb v21r11, Lbcom v5r8, Rec v3r13
 and databases XmlDDDB v30r13, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

This is the release for the DC06 physics validation pre-production

In Brunel v30r13:

- New features
  . Add Brunel.PrintFreq option (LHCbKernel v6r14)
    + Values > 0 indicate the rate at which event number should be printed
    + Values < 0 suppress event messages entirely
    + Default is 1, to print each event
  . Add job/Brunel_Ganga.py (example to run Brunel from Ganga)
  . Possibility to calculate unbiased residual in bidirectional smoother step, 
    default false (TrackFitter v2r10, TrackFitEvent v2r6)
 
- Persistency changes
  . Add MC truth links for tracking clusters to MCDST (GaudiConf v9r11)
    Adds 30kB/event to DST (measured on B signal)
  . Add FirstMeasurement state to T tracks (TrackUtils v1r8)
 
- New tuning
  . Various timing improvements (LHCbMath v1r3, OTDAQ v4r4, PatTools v2r9,
    CaloUtils v6r6, STDAQ v2r7, TrackUtils v1r8, PatVeloTT v2r7, PatForward v2r9,
    RichRecTools v3r6
  . Implement refraction correction in HPD, improves CK resolution a little
    (RichDet v9r8, XmlDDDB v30r13, RichRecTools v3r6)
  . Use interstrip fraction in calculation of residual for phi sensor
    (VeloDet v10r10)
  . DC06 PID tuning for Prs,Ecal,Hcal for e and mu (not Brem)
    (CaloPIDs v4r5, CaloReco v4r5, ParamFiles v5r0)
  . DC06 Calo energy corrections (CaloReco v4r5) 
  . Fixed small decrease in efficiency for match tracks: the prediction and
    smoother step in the bidirectional fit are not applied for the first node
    (TrackFitter v2r10)
  . The B-field is now determined from the position of the reference vector
    (TrackProjectors v2r7)
  . PatVeloTT called after Forward and Match to remove Velo tracks already used
    and corresponding TT hits (PatVeloTT v2r7, TrackSys v3r6)
  . More tunings to the DC06 options (RichRecSys v2r6)
  . Improvements to RICH1 beampipe hole hack in the detailed track segment maker
    (RichRecTools v3r6)
  . Tweaking of the treshold information (RichRecTools v3r6)

- Bug fixes
  . Remove second call to format() in single MsgStream (RichDet v9r8) 
  . Add the real bug fix for localPhiToGlobal for R sensors (VeloDet v10r10)
  . Fix in TrackPrepareVelo (TrackUtils v1r8)
 
In HltApp v1r2:
 - Adapt options for HltMuonAlley v1r1
 - HltAlleys adaptation to the VeloTT online, 1st attempt of HltCaloAlley

</PRE><H1><A NAME=v30r12>2006-10-30 Brunel v30r12</A></H1><PRE>
This version uses projects Gaudi v18r9, LHCb v21r10, Lbcom v5r7, Rec v3r12

</PRE><H1><A NAME=v30r11>2006-10-24 Brunel v30r11</A></H1><PRE>
This version uses projects Gaudi v18r8, LHCb v21r9, Lbcom v5r6, Rec v3r11
 and databases XmlDDDB v30r12, XmlConditions v2r4, ParamFiles v4r4, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

For the first time, project BrunelSys contains also a main program and job
options for running the Hlt reconstruction (package Hlt/HltApp)

In Brunel v30r11:

- New features
  . Prepare for future use of InstallArea (GaudiPolicy v6r0)
  . Add possibility to reset drift radius in OTCluster (TsaKernel v1r4)

- Persistency changes
  . Add expected number of signal photons to RICH segment summary information
    (RecEvent v1r9, RichRecAlgorithms v2r3)

- New Tuning
  . Various timing improvements (OTDet v6r7, STDet v2r7, TsaKernel v1r4,
    TsaAlgorithms v1r5, PatTools v2r8, TrackMatching v2r9, RichRecTools v3r5)
  . Improve usage of Warning() to reduce printout (TrackExtrapolators v2r7)
  . Retuning of track matching as presented on 2006-10-16 (TrackMatching v2r9)
  . New tuning of PatVelo as presented on 2006-10-09 (PatVelo v2r9)
  . New tuning of PatVeloTT as presented on 2006-10-16  (PatVeloTT v2r5)
  . Further tuning of Velo-TT, using Kalman fit in pattern (PatVeloTT v2r6)
  . Add duplicate removal in TsaCollector (TsaAlgorithms v1r5)
  . Add hits in the other boxes to allow for IT overlaps (TsaAlgorithms v1r5)
  . Various minor updates to Rich
  . New tuning of MuonID as presented on 2006-10-23 (MuonID v4r4)
 
- Bug fixes
  . Fix the bug of missing hits in IT sector 7 (TsaAlgorithms v1r5)
  . Correct state at first measurement on backward tracks (TrackFitter v2r9)
  . Fix bug affecting the final chi2 of the track and the outlier removal
    (TrackFitter v2r9)
  . Fix in PatVeloRTracking : Adding the cluster on the other side was
    not working, due to a wrong direction flag (PatVelo v2r9)
  . Fixes to PV (chi2=0, improve of error handling, setTechnique) (PatPV v2r3)

- Monitoring changes
  . Changes to default settings for expert track checking (TrackSys v3r5)
  . Various updates to PatChecker, TrackCheckers, RichRecQC


</PRE><H1><A NAME=v30r10>2006-10-02 Brunel v30r10</A></H1><PRE>
This version uses projects Gaudi v18r7, LHCb v21r8, Lbcom v5r5, Rec v3r10
 and databases XmlDDDB v30r10, XmlConditions v2r2, ParamFiles v4r4, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

- New tuning
  . Binaries built with sse instructions enabled, gains ~10% in execution time
  . Use a more recent .digi input file for default job
  . Various speed improvements (TsaAlgorithms v1r4,PatTools v2r7,PatVeloTT v2r4)
  . Improvements to KShort finding (PatKShort v1r2)
  . Improvements to PatFoward efficiency and ghost rate (PatForward v2r8)
  . Improvements to track fit. Fast bi-directional fit now as good as slow one
    (TrackFitter v2r8)
  . New tuning of seeding as reported at T-Rec on 2006-09-25 (TsaAlgorithms v1r4)
  . Seeding rejects hot events. Hot OT modules cuts relaxed (TsaAlgorithms v1r4)
  . Calorimeter digitization always starts from "short" Calo banks
    (CaloDAQ v2r5, Brunel.opts)
  . Changes to Velo fit: use linear extrapolator, do not apply dEdx correction,
    do not extrapolate to Rich1 (TrackSys v3r4)

- Persistency changes
  . Add Link/Trig/L0/FullCalo to MCDstContent.opts (GaudiConf v9r9)
  . Add Rec/Calo/Electrons, DAQ/ODIN to rDST (and DST) (GaudiConf v9r9)
  . Include CaloDigit (Spd/Prs) info in NeutralProtoP and ChargedProtoP
    (GlobalReco v6r4, RecEvent v1r8)
  . Remove event time from RecHeader - now in DAQ/ODIN (RecEvent v1r8)
  . "Packed" Calo banks (as produced by Boole/Tell1s) are removed from RawEvent
    and replaced by "short" banks (CaloDAQ v2r5, Brunel.opts)

- New features
  . Add FieldOff.opts to run without magnetic field (e.g pilot run conditions)
  . Add functionality to make Tsa::Clusters from TT hits (TsaAlgorithms v1r4)
  . EventClockSvc now handles event time from ODIN 
    (LHCbKernel v6r12, DetDescSvc v1r6, DAQEvent v6r7, Brunel.opts)

- Bug fixes
  . Fix overlap of cables and collar of one beam pipe support (XmlDDDB v30r10)
  . Fix a bug in removal of the first(s) stereo hits (PatKShort v1r2)
  . Fix for invalid linear state extrapolation (CaloPIDs v4r4)
  . Fix a typo in a linker check (TrackAssociators v2r2)
  . Fix probable bug in TrackPrepareVelo, wrong indices in vec (TrackUtils v1r7)
  . Fix in the purity calculations in the TrackChecker (TrackCheckers v2r7)

- Monitoring changes
  . Changes to efficiency calculation for KShort tracks (PatCheckers v2r7)
  . Ignore electrons in PatChecker counting (PatCheckers v2r7)
  . ST efficiency monitors and Track checkers now both use Linker based MC truth,
    allowing them to work without interfering with each other in DataOnDemandSvc
    (Associators v3r4, STCheckers v1r3)
  . Switch off excessive messages from track fit when using ExpertCheck.opts

</PRE><H1><A NAME=v30r9>2006-09-05 Brunel v30r9</A></H1><PRE>
This version uses projects Gaudi v18r7, LHCb v21r7, Lbcom v5r4, Rec v3r9
  and databases XmlDDDB v30r9, XmlConditions v2r1, ParamFiles v4r4, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

N.B. Brunel v30r8 was never released, it was tagged as a development release.

Summary of changes since v30r7 release (for details of performance improvements
see presentations at August 2006 T-Rec meetings)

- New features
  . If input file ids cannot be located in the file catalog, then assume that the
    guid is known to GFAL (GaudiPoolDB v2r6)
  . Add KShort tracking (PatKShort v1r1)
  . Include IT Seeding (TsaAlgorithms v1r3)
  . New tools for state corrections, extracted from TrackMasterExtrapolator
    (TrackExtrapolators v2r6, TrackTools v2r9, TrackInterfaces v2r8)

- New tuning and fixes
  . Many improvements and fixes to tracking
    (PatTools v2r5+v2r6, PatVeloTT v2r3, PatForward v2r7, TrackTools v2r8+v2r8,
     TrackUtils v1r5+v1r6, TsaAlgorithms v1r2+v1r3, TrackMatching v2r7+v2r8,
     OTDet v6r6, STDet v2r6, TsaKernel v1r1+v1r2)
  . Many improvements in timing of several algorithms
    (TsaAlgorithms v1r2, TrackUtils v1r5+v1r6, TrackExtrapolators v2r6,
     Magnet v3r3, OTDet v6r6)
  . Many improvements to Rich (all Rich packages)
  . Fixes to Expert monitoring options (*.opts, Associators v3r3)
  . Fixes and improvements to track monitoring
    (PatChecker v2r5+v2r6, TrackCheckers v2r6)
  . Several minor fixes in Gaudi, not affecting default behaviour (Gaudi v18r7)

- Packaging changes
  . valgrind.job uses more recent valgrind installation from Chris Jones
  . Tracking sequence now taken for RecoTracking.opts in TrackSys
    (TrackSys v3r3, RecSys v3r9)

</PRE><H1><A NAME=v30r7>2006-08-03 Brunel v30r7</A></H1><PRE>
This version uses projects Gaudi v18r6, LHCb v21r4, Lbcom v5r3p1, Rec v3r7
  and databases XmlDDDB v30r8, XmlConditions v2r0, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

- New features
  . Add Tsa (aka Seed, in OT only) and Match track finding and fitting.
    (TsaAlgorithms v1r1, TrackMatching v2r6, Reco.opts)

- New tuning
  . New defaults for track fit: do bi-directional fit, set reference information,
    remove maximum 2 outliers (TrackFitter v2r7). Keep three fit iterations for
    long tracks (Reco.opts)
  . Set the OT L/R ambiguity according to the track fit, update at each iteration
    (TrackProjectors v2r6)
  . Tracks seen by PID and saved to (r)DST (Rec/Track/Best) are now the result of
    the clone killing algorithm on a mix of Forward, Match, Tsa and VeloTT tracks
  . Add Ttrack to ProtoParticle selection (TrackTools v2r7)
  . Restructured Velo 3D pattern recognition to allow single RZ tracks to be 
    found as 3D tracks (PatVelo v2r7)
  . Remove artificially large errors in forward fit (Reco.opts)

- Bug fixes
  . Fix a memory leak due to changed IJobOptionsSvc behaviour
    (RichKernel v6r5, LHCbAlgs v2r3)
  . Protect against missing states (TrackTools v2r7)
  . Track->clone() now copies the ExtraInfo to the cloned track (TrackEvent v3r1)
  . Use consistent definition of atT state location
    (TrackEvent v3r1, TrackFitter v2r7, TrackMatching v2r6, PatForward v2r6)
  . Fix uninitialized variables (PatVeloTT v2r2, CaloPIDs v4r3) 

</PRE><H1><A NAME=v30r6>2006-07-27 Brunel v30r6</A></H1><PRE>
This version uses projects Gaudi v18r6, LHCb v21r3, Lbcom v5r3, Rec v3r6
  and databases XmlDDDB v30r8, XmlConditions v1r8, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater, due to new RecVertex class.

This is the release for the DC06 computing challenge stripped DST production.

 - New features:
   . Added DC06-ETC.opts, for producing a DST with corresponding ETC, starting
     from an ETC produced by a DC06 DaVinci stripping job
   . GlobalReco now adds "velo charge" to ProtoParticle 
     (GlobalReco v6r2, TrackTools v2r6, TrackInterfaces v2r6)
   . Application exit status now propagates application manager status. Should
     allow to better catch initialization failures in Dirac (GaudiConf v9r8)
   . Possibility to switch off the magnetic field or use a scaling factor on
     the field map (see options described in Det/Magnet v3r2 release notes)
   . Add Brunel.PreloadGeometry option (default false)
     (LHCbKernel v6r9, DetDescSvc v1r5)

- Persistency changes:
   . Primary vertex is now a RecVertex, no longer a TrackVertex (backwards
     incompatible change) (RecEvent v1r6, PatTools v2r4, PatPV v2r2)
   . Track has additional ExtraInfo map (TrackEvent v3r0) 
   . Changes to TrackToDST to allow filtering of states dependent on track type.
     (TrackUtils v1r4, rDstContent.opts, DstContent.opts)
   . "Secret" copy of Velo tracks no longer saved on rDST (rDSTContent.opts)

- New tuning:
   . Speed improvements in trajectories 
     (LHCbKernel v6r9, STDet v2r5, TrackFitEvent v2r5)
   . Speed improvements in Velo RawBank decoding (VeloDAQ v3r4)
   . Speed improvements to PatVelo (PatVelo v2r6)
   . Speed improvements to PatPV (PatPV v2r2)
   . Use SMatrix::Inverse() rather than SMatrix::SInverse() algorithm
     (CaloUtils v6r3p2, PatPV v2r2)
   . Pick up low threshold hits. Increases long track efficiency by 2% with no
     effect on ghost rate (PatVeloTT v2r1, PatForward v2r5)
   . Change cut on min p to 1 GeV (PatForward v2r5)
   . Tune pt kick parameters for DC'06 (TrackTools v2r6)
   . Set reference trajectory in FitForward (Reco.opts) 
   . Switch on outlier removal in FitForward for maximum 2 outliers (Reco.opts)

- Monitoring changes:
   . Normalise OT occupancy histograms per event (OTMonitor v2r3)
   . Improvements in the printout of counters at finalization (GaudiAlg v9r7)

- Bug fixes:
   . No more annoying messages from Cint at start of job (Root 5.12.00)
   . Fixes due to stricter handling of properties by new job options service. In
     particular, algorithm & sequence names are now case sensitive 
     (RecSys v3r6, CaloReco v4r2, CaloPIDs v4r2)
   . Protect against missing track states in trackToDST (TrackUtils v1r4)
   . Remove unphysical terms from the parameterization in pt kick tool
     (TrackTools v2r6)
   . Track fit set as failed when not possible to determine all the requested
     states on a track (TrackFitter v2r6)
   . Correct handling debug/warning/error message levels (TrackFitter v2r6)
   . Always add state at first measurement (TrackFitter v2r6)
   . Do not copy Velo tracks into Tracks/Best if fit failed (TrackUtils v1r4)

</PRE><H1><A NAME=v30r5>2006-06-30 Brunel v30r5</A></H1><PRE>
This version uses projects Gaudi v18r5, LHCb v21r2, Lbcom v5r2, Rec v3r5
  and databases XmlDDDB v30r8, XmlConditions v1r8, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This is the release for the DC06 computing challenge production.

</PRE><H1><A NAME=v30r4>2006-06-21 Brunel v30r4</A></H1><PRE>
This version uses projects Gaudi v18r5, LHCb v21r1, Lbcom v5r1, Rec v3r4
  and databases XmlDDDB v30r8, XmlConditions v1r7, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This is a pre-release for commissioning the DC06 production.

 - New Brunel options files:
   . rDSTContent.opts defines rDST, no MC truth
   . DC06.opts runs rDST production. No MC truth checking
   . v200601.opts runs DST production as before, including MC checking

</PRE><H1><A NAME=v30r3>2006-05-18 Brunel v30r3</A></H1><PRE>
This version uses projects Gaudi v18r4, LHCb v21r0, Lbcom v5r0, Rec v3r3
  and databases XmlDDDB v30r7, XmlConditions v1r6, ParamFiles v4r2, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This an incomplete release for commissioning of the software for DC06.

</PRE><H1><A NAME=v30r2>2006-05-03 Brunel v30r2</A></H1><PRE>
This version uses projects Gaudi v18r3, LHCb v20r4, Lbcom v4r4, Rec v3r2
  and databases XmlDDDB v30r5, XmlConditions v1r6, ParamFiles v4r2, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This an incomplete release for commissioning of the software for DC06.

</PRE><H1><A NAME=v30r1>2006-04-11 Brunel v30r1</A></H1><PRE>
This version uses projects Gaudi v18r3, LHCb v20r3, Lbcom v4r3, Rec v3r1
  and databases XmlDDDB v30r4, XmlConditions v1r6, ParamFiles v4r2, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This an incomplete release for commissioning of the software for DC06.

</PRE><H1><A NAME=v30r0>2006-03-28 Brunel v30r0</A></H1><PRE>
This version uses projects Gaudi v18r2, LHCb v20r1, Lbcom v4r1, Rec v3r0
  and databases XmlDDDB v30r2, XmlConditions v1r5, ParamFiles v4r1, FieldMap v4r6
Requires input from Boole v11r1 or greater. 

This an incomplete release for commissioning of the software for DC06.

It breaks all backward compatibility and introduces many new features, including
a major redesign of event model classes following the review in Autumn 2006,
changes for the 1MHz readout, changes to the geometry to introduce detector
tilts and capability for misalignement, changes to replace CLHEP with MathCore,
as well as deployment of the new tracking software based on the new track model

All packages have been touched. Please look at release notes of the individual
packages for details.

</PRE><H1><A NAME=v28r2>2005-12-09 Brunel v28r2</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r3, Lbcom v3r2, Rec v2r2, XmlDDDB v27r1
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

- New features
  . Minor updates and fixes to new Track model classes
    (TrackEvent v1r6, TrConverters v1r5, TrackTools v1r3,TrackExtrapolators v1r3)

- New tuning
  . Updated materials for TT (XmlDDDB v27r1)

- Bug fix
  . Calo reconstruction only uses Cnv tracks for now
    (CaloUtils v5r1, CaloMoniDst v2r1)

- New packaging
  . All the pattern recognition and track fit packages using the new Tracks are
    accessible from this version, which can therefore be used to develop a new
    track reconstruction sequence using the new Tracks

</PRE><H1><A NAME=v28r1>2005-11-23 Brunel v28r1</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r2, Lbcom v3r1, Rec v2r1, XmlDDDB v27r0
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

Introduces support for Conditions data, taken from DBASE/Det/XmlConditions/v1r3

- New features
  . Rich readout mapping taken from Conditions (RichKernel v5r6, RichDet v8r5, 
           RichDAQ v2r3, XmlDDDB v27r0, XmlConditions v1r3)
  . Rich reconstruction now uses Tracks from new track model (RichRecSys v1r19)
  . Rich monitoring now uses MC truth associations to new Track
    (TrackAssociators v1r4, RichMCTools v2r7, RichRecQC v1r12)
  . Calo reconstruction now uses Tracks from new track model (CaloReco v3r0,
    CaloPIDs v3r0, CaloUtils v5r0, CaloInterfaces v5r0, CaloMoniDst v2r0)

- New tuning
  . OT readout window now 75ns (XmlDDDB v27r0)

- Geometry changes
  . Prepare support for v200511 geometry (spherical secondary Rich mirrors,
    new aerogel description) (RichDet v8r5, RichTools v1r8, RichRecSys v1r19, 
                              XmlDDDB v27r0, XmlConditions v1r3)
  . Prepare support for Field046 magnetic field map (FieldMap v4r6)
    (For both the above, options not yet released, need Gauss data for testing)

- Persistency changes
  . Copy new Rich MC relations MC/Rich/DigitSummaries from .digi input file
    (Only for data produced with Boole v10r1 or later) (RichEvent v8r5)
  . CaloPID objects are now Relations to Track, not TrStoredTrack

</PRE><H1><A NAME=v28r0>2005-11-15 Brunel v28r0</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r1, Lbcom v3r0, Rec v2r0, XmlDDDB v26r2
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New features:
   . Add MUON sequence to Moni phase, executes MuonRecChecker (MuonMoniDst v1r0)

 - New tuning
   . ST clustering by Beetle instead of by port (STDAQ v1r6, ITAlgorithms v15r1)
   . Use ISTClusterPosition tool in ITClusterCreator
    (STTools v1r2, ITAlgorithms v15r1)

 - Persistency changes:
   . Uses SEAL Reflex persistency. Backwards compatible for input data

 - Bug fixes:
   . Fix to TrackSelector for TrStoredTracks that caused a boost array to go out
     of range for "Unknown" or "UnUsable" tracks (RichRecBase v1r16p2)

</PRE><H1><A NAME=v27r5>2005-09-22 Brunel v27r5</A></H1><PRE>
This version uses Gaudi v16r5, LHCb v18r9, Rec v1r5, Lbcom v2r5
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New features:
   . valgrind.job now uses faster addrcheck tool instead of memcheck
   . FitTrack/Best tracks are converted to new model Tracks in Rec/Track/Best
     (Reco.opts, TrConverters v1r3)

 - New tuning
   . Radiation and interaction length of elements is now calculated in DetDesc,
     no longer picked up from hardcoded numbers in XmlDDDB
     (DetDesc v15r4, DetDescCnv v2r9, XmlDDDB v26r2)

 - Persistency changes:
   . Rec/Track/Best added to DST. This is a temporary measure for testing, will
     eventually replace old track model tracks in pDst

 - Bug fixes:
   . Fix uninitialised variable in MuonRawBuffer2Digit (MuonDAQ v1r2p3)

</PRE><H1><A NAME=v27r4>2005-07-18 Brunel v27r4</A></H1><PRE>
This version uses Gaudi v16r5, LHCb v18r8, Rec v1r4, Lbcom v2r4
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New feature:
   . Any /Raw or /Rec node that may have been registered on the input file is
     killed by executing EventNodeKiller as the first TopAlg. This enables to
     transparently process both .raw and .digi files that may or may not have
     /Raw and /Rec already existing. (Brunel.opts, LHCbAlgs v1r8)
   . Add support for OT RawBank v2 (OTDAQ v3r3, TrgForward v5r2)

 - New tuning:
   . Removed ResolutionCor from DeOTDetector, following 2005 test beam
     (OTDet v5r6)
   . Improvements to Velo description in 200507 geometry (XmlDDDB v26r1)
   . Change OT readout gate from 50ns to 75ns (OTDAQ v3r3)

 - Bug fixes:
   . RichLocalPID tools were accessing TES before the start of the event loop,
     in the beginEvent incident handler (RichLocalPID v1r12)
   . Fixes to cope with v200507 geometry. Velo tracking efficiency for v200507
     geometry is now similar to v200412 geometry (TrgVelo v7r4, TrgTools v7r5)
   . Fix memory leak in XmlMuonRegionCnv (MuonDet v4r8)

- Obsolete feature
  . It is no longer necessary to have specific job options for copying a Brunel
    output file, one can use instead the new InputCopyStream, as configured in
    $EVENTSYSROOT/options/PoolCopy.opts, with any Gaudi application.
    Copy.opts now simply includes PoolCopy.opts. (GaudiSvc v14r0, EventSys v20r8)

</PRE><H1><A NAME=v27r3p1>2005-07-07 Brunel v27r3p1</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r7, Rec v1r3, Lbcom v2r3
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - Bug fix:
   . Fix MCDstContent.opts, to not overwrite already defined Dst content, and
     to correctly save the packed MC truth containers. This bug was affecting
     Brunel v27r2 and v27r3, making DSTs produced by those versions unusable

</PRE><H1><A NAME=v27r3>2005-06-28 Brunel v27r3</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r7, Rec v1r3, Lbcom v2r3
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New features:
   . Property "Brunel.HistoProduce" replaces "Brunel.doHistos" (LHCbAlgs v1r7)
   . Split memory histogram into two, both with "Brunel.HistoSize" bins
     + hID=2: one entry per event for first HistoSize events
     + hID=3: one entry every HistoSize events, starting at event 1
     (LHCbAlgs v1r7)
   . Repackaging of Rich to allow running both Hlt and Reco in same job
     (See LHCbSys, LbcomSys, RecSys, PhysSys release notes)
   . Add possibility to access v200507 geometry (v200506 plus Velo with alternate
     R-sensors rotated, and with possibility to add external misalignment files)
     (v200507.opts, XmlDDDB v26r0, DetDesc v15r2, DetDescCnv v2r7, VeloDet v9r7)
     N.B. reconstruction not yet working correctly with new Velo geometry!!!

 - New tuning:
   . Speed improvements to Rich reconstruction
     (See LHCbSys, LbcomSys, RecSys release notes)
   . Update to photon reconstruction scheme                (RichRecSys v1r17)
   . Update geometrical efficiency calculation parameters  (RichRecSys v1r17)
   . Add options to run pixel create with forced-dead HPDs (RichRecSys v1r17)

 - Bug fixes:
   . Fix memory leaks at finalisation (XmlTools v5r3p1, DetDesc v15r2)

</PRE><H1><A NAME=v27r2>2005-06-13 Brunel v27r2</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r6, Rec v1r2, Lbcom v2r2
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

- Functionality changes
  . Add support for v200506 geometry (tilted Calo+Muon) (XmlDDDB v25r1)
  . Add property "nTracksMax" to Velo R tracking, needed when used online (RTTC).
    Default seen by Brunel is 10000 (TrgVelo v3r7p1)
  . Add support for alignment conditions (DetDesc v15r1, DetDescCnv v2r6)

- Persistency changes
  . Packed containers now read from /Event/pSim and written to /Event/pDst
    (DstContent.opts, PackedEvent v1r0)

- Packaging changes
  . Reorganize options to simplify usage with real data
  . All generic options now taken from $LHCBROOT/options/LHCbApplication.opts
    (LHCb v18r6)
  . Rename BrunelReco phase, now called Reco. Reco phase options moved to 
    $RECSYSROOT/options/Reco.opts to allow sharing with Moore in RTTC
    (Brunel.opts, RecSys v1r2, RichRecSys v1r16p3, CaloReco v2r9, CaloPIDs v2r6)
  . Remove MC truth checking from Moni phase, add Check (with MC truth) phase
    (BrunelMoni.opts, BrunelCheck.opts, RichRecoQC v1r10p1, CaloMoniDst v1r2) 
  . Move all expert checking to ExpertCheck.opts, not enabled by default
  . Change instance name of Velo tracking algorithms, to avoid configuring online
    algorithms with offline tuning (TrgVelo v3r7p1)

- New tuning
  . Speed improvement in VeloChannelID constructor (LHCbKernel v5r11)

- Bug fixes
  . Add hack to bypass circular detector element dependency discovered with new 
    GeometryInfo implementation (MuonDet v4r7)
  . Always calculate effective number of nucleons N() from A() of materials
    (DetDesc v15r1, DetDescCnv v2r6)
  . Fix the densities of Na, K, Sb, Cs (XmlDDDB v25r1)

</PRE><H1><A NAME=v27r1>2005-05-31 Brunel v27r1</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r5, Rec v1r1, Lbcom v2r1
Requires input data from Boole v8r3 to v9r1. Incompatible with DC04 versions

- Functionality changes:
  . Added Output phase, with Pack sequence, to pack Tr/StatesP, Tr/StatesL,
    Tr/Best before writing to .dst (Brunel.opts, DstContent.opts)

- Persistency changes:
  . Remove saving of empty directories /Raw, /Rec/Relations, as they can be
    recreated explicitly by DataOnDemandSvc (DstContent.opts)
  . Replace Rec/Tr/Best, Rec/Tr/StatesP, Rec/Tr/StatesL by packed equivalent in
    in /Event/Rdst. Also done for MC/Collisions, MC/Particles, MC/Vertices, by 
    copying packed version from .digi or creating on demand when writing the Dst.
    Use $RDSTROOT/options/UnpackDst.opts to decode (Rdst v1r1, DstContent.opts)

- Bug fixes:
  . Changes to job options to recreate empty directory nodes on demand
    (DAQSys v1r4, Brunel.opts)

</PRE><H1><A NAME=v27r0>2005-05-10 Brunel v27r0</A></H1><PRE>
This version uses Gaudi v16r3, LHCb v18r4, Rec v1r0, Lbcom v2r0
Requires input data from Boole v8r3 to v9r1. Incompatible with DC04 versions

Based on v26r3, and new RecSys project.

- Modified packaging
  . Complete restructuring of CaloAssociators (CaloAssociators v5r0)
  . Update for CaloTrackAlg and CaloTrackHistoAlg base classes and remove 
    associator tools 
    (CaloUtils v4r9, CaloReco v2r8, CaloPIDs v2r5, CaloMoniDst v1r1)
  . Remove dependency on ITAlgorithms, get ISTSignalToNoiseTool from STTools
    (STTools v1r1, LongTrack v1r15, TrKShort v1r6, VeloTT v1r13)

- Persistency changes
  . Save Link/Raw/Calo/Digits instead of Rec/Relations/EcalClusters2MCParticles
  . Remove Rec/Relations/Tr2MCP

</PRE><H1><A NAME=v26r3>2005-04-19 Brunel v26r3</A></H1><PRE>
Requires input data from Boole v8r2 to v9r1. Incompatible with DC04 versions

- Packages modified: ITAlgorithms v14r4p1, TrgTools v7r3

- Modified packaging
  . Move to XmlDDDB v24r1
  . Program name and version now set via preprocessor directives in GaudiMain
    and printed by ApplicationMgr. APPVERSION env. variable no longer needed
    (GaudiSvc v13r3, GaudiConf v9r1, GaudiAlgs v1r5)

- Bug fixes:
  . Fix memory leaks in RichTrSegMakerFromTrStoredTracks when track segments
    are rejected (RichTools v1r6)
  . Fix small memory leak in TrgContainer (TrgTools v7r3)
  . Remove TBronch warning, fix castor file access on Windows (ROOT 4.03.04a)

</PRE><H1><A NAME=v26r2>2005-04-11 Brunel v26r2</A></H1><PRE>
This version uses Gaudi v16r2, LHCb v18r2 (also CLHEP 1.9, ROOT 4.0)
Requires input data from Boole v8r2 to v9r1. Incompatible with DC04 versions

- Packages modified: TrgTools v7r2, VeloTT v1r12, TrgVelo v7r3, MuonID v3r7p2,
                     MuonRec v2r4p1, RichRecSys v1r16p1, RichLocalPID v1r10p1,
                     RichGlobalPID v1r9p1, RichRingRefit v1r9p1
                     Revert to TrgBrunel v1r1

- New tuning:
  . New tuning for offline Velo tracks (TrgVelo v7r3, Brunel.opts)

- Geometry changes (XmlDDDB v24r0)
  . Update Rich2 centre tube description and add centre tube supports
  . Change Velo sensor thickness to 300um
  . Fix overlaps in Velo RF foil
  . Remove options for v200402 geometry
  . Give detector element to Velo half stations (with VeloDet v9r4)

- Persistency changes
  . Add header word to ST RawBuffer banks (STDAQ v1r5)

- Bug fixes:
  . Fix memory leak in XmlDDDB parser tool (XmlTools v3r4)
  . Add charge to VTT tracks (VeloTT v1r12)
  . Fixes in TrgTools, not relevant for Brunel
  . Restore lost flags in TrgVelo, undo corresponding fix in TrgBrunel
  . Backward incompatible (for data) fix to TTLayer.cpp (STDet v1r3)


</PRE><H1><A NAME=v26r1>2005-03-08 Brunel v26r1</A></H1><PRE>
This version uses Gaudi v16r2, LHCb v18r1 (also CLHEP 1.9, ROOT 4.0)
Requires input data from Boole v8r1. Cannot process DC04 Boole output.
Output data incompatible with DC04 versions

- Packages modified: RichRecSys v1r16, RichLocalPID v1r10, RichGlobalPID v1r9

- Persistency changes:
  . Backwards incompatible changes to RawBuffer (bank header now has 2 words)
    and to L1Buffer bank types for L0Calo, L0DU, L0Muon (DAQEvent v5r0)
  . DAQ bank in RawBuffer replaces "Header" bank        (DAQEvent v5r0)
  . Backwards incompatible changes to RichSmartID       (LHCbKernel v5r8)

- Modified functionality:
  . Improve handling of events with no pixels (RichGlobalPID v1r9)

- Bug fixes:
  . Small fix to isInside method (VeloDet v9r3)
  . Fix options for new associators (CaloReco v2r7p1)

</PRE><H1><A NAME=v26r0>2005-02-14 Brunel v26r0</A></H1><PRE>
This version uses Gaudi v16r0, LHCb v18r0 (also CLHEP 1.9, ROOT 4.0)
Requires input data from Boole v8r0 - Cannot process DC04 Boole output.
Output data incompatible with DC04 versions

- Packages removed: AsctToLinker (now in LHCbSys)
                    OTMonitor, TrExtrapolator, CaloReco, CaloPIDs, RichRecCommon,
                    RichRecTools, RichRecMCTools, RichRecQC (now in LbcomSys)
- Packages modified: LongTrack v1r14, ITCheckers v2r4p1, RichRecSys v1r15,
                     TrgTools v7r1, TrgBrunel v1r2, TrCheck v2r8, TrgVelo v7r1,
                     TrFitEvent v4r9

- New tuning:
  . Use a "new" error matrix calculation in TrgVelo, based on the old one from
    VeloTrack (TrgVelo v7r1, Brunel.opts) 

- Bug fixes:
  . Changes to avoid duplicate entries in linker tables (AsctToLinker v1r4)
  . Correctly flag Ks tracks in TrAnalyse summary table (TrCheck v2r8)
  . Correctly recognise VeloBack tracks coming from new TrgVelo (TrgBrunel v1r2)
  . Fix phi measurement in VeloPhiClusterOnTrack (TrFitEvent v4r9) 
  . Use correct Velo sensor numbers (XmlDDDB v23r2)

- Packaging changes:
  . Backward incompatible modifications for CLHEP 1.9 (LongTrack)
  . Backward incompatible modifications for GaudiObjDesc v7r* (TrgTools)

</PRE><H1><A NAME=v25r3>2005-01-25 Brunel v25r3</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r3.
Requires data produced by Boole v7r2 or later. It *cannot* process DC04 data

- Packages modified: RichRecSys v1r14, RichRecTools v2r13, ITCheckers v2r4,
            TrgVelo v7r0p1, TrgTools v7r0p1, TrCheck v2r7p1, TrKShort v1r5

- New functionality:
  . Support for new RawBuffer bank formats of Calo and Rich. Correct decoding is
    chosen automatically from bank version number (CaloDAQ v1r0, RichDAQ v2r0)

- New tuning:
  . Do not apply slope-dependent multiple scattering error in TrgVelo space
    tracking. Fixes Match track efficiency (TrgVelo)

- Packaging changes:
  . Backwards compatible modifications for CLHEP 1.9 (TrCheck, TrKShort)
  . Remove MCHitMonitor, now in MCTools (ITCheckers)

</PRE><H1><A NAME=v25r2p1>2005-01-13 Brunel v25r2p1</A></H1><PRE>
Documentation moved to BrunelSys package (from Rec/Brunel):
 . These release notes
 . doxygen configuration files

</PRE><H1><A NAME=v25r2>2004-12-10 Brunel v25r2</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r2.
Requires data produced by Boole v7r2 or later. It *cannot* process DC04 data

- Packages removed:  VeloTrack (obsolete)
- Packages added:    TrgTools, TrgVelo, TrgBrunel (replaces VeloTrack)
- Packaged modified: TrFitEvent v4r8, TrCheck v2r7, RichRecSys v1r13p1,
                      RichRecBase v1r14p1, RichLocalPID v1r9p1, 
                      OTSimulation v1r1, CaloReco v2r7

- New functionality:
  . Support for v200412 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout,
                                  new Velo numbering)
    Not yet tested, needs new Gauss data (v200412.opts, XmlDDDB v23r1)

- Modified functionality
  . Uses new Velo detector element and geometry. Sensor numbering incompatible
    with DC04 version. (LHCbKernel v5r5, VeloEvent v13r2, VeloDet v9r1,
    VeloDAQ v2r1, TrFitEvent v4r8)
  . "Offline" Velo tracking replaced by "Online" version
    (TrgTools v7r0, TrgVelo v7r0, TrgBrunel v1r1)
  . Improved handling of events with no pixels fired
    (RichRecBase v1r14p1, RichLocalPID v1r9p1)

- Removed functionality
  . Support for v200411 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout)

- Persistency changes
  . New velo sensor numbering in RawBuffer, requires VeloDet v9r1, VeloDAQ v2r1
    to decode

- Packaging changes
  . Move to new GaudiAlgorithm base classes (OTDAQ v3r2, OTMonitor v1r1)

</PRE><H1><A NAME=v25r1>2004-11-22 Brunel v25r1</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r1.
Requires data produced by Boole v7r0 or v7r1. It *cannot* process DC04 data

- Packages removed:  CaloMonitor (obsolete)
- Packages added:    CaloMiniDst (replaces CaloMonitor)
- Packages modified: RichGlobalPID v1r8, RichLocalPID v1r9, RichPIDMerge v1r5,
     RichRecBase v1r14, RichRecCommon v1r10, RichRecMCTools v1r7,
     RichRecQC v1r10, RichRecSys v1r13, RichRecTools v2r12, RichRingRefit v1r9,
     TrExtrapolator v2r14, ITAlgorithms v14r4, TrFitAssociators v1r3

- New functionality:
  . Support for v200411 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout)
    Not yet tested, needs new Gauss data (v200411.opts, XmlDDDB v23r0)
  . Support for Data Quality checking. Data Quality reference files built from
    DC04 log files are provided in $LHCBRELEASES/DBASE/DQ/BrunelDQ/v1r0. XML
    descriptions of log file fields to be verified are in $BRUNELROOT/DQ.
    To verify a log file, execute the command:
      python2.2 $LHCBHOME/scripts/checklog.py $BRUNELROOT/DQ/Brunel_options.xml
        <event-type> <log-file>

- Modified functionality
  . Improvement to initialisation of random numbers. Now three seeds are used
    (run and event numbers, plus hash of string containing name, event number,
    run number). Can optionally skip some random numbers before every event,
    by setting job option Brunel.SkipFactor (default is zero). Can revert to
    previous behaviour by setting job option Brunel.SingleSeed = true;
    (LHCbAlgs v1r2)
  . Use rootd (instead of rfio) to access castor files
    (GaudiConf v8r1, v200402.opts)
  . Remove explicit creation of MagneticFieldSvc and ParticlePropertySvc, now
    created on demand (Brunel.opts, RichRecTools v1r12)
  . Bug fix to finalisation order of services, allows to enable DataOnDemandSvc
    decoding for all RawBuffer decoding algorithms (GaudiSvc v12r6, Brunel.opts)
  . More accurate tuning of dE/dx correction (TrExtrapolator v2r14)
  . Use new RichPID object format, add various new features not yet used by
    default (RichRecSys v1r13)
  . Improved decoding of Pixels from RawBuffer (RichRecTools v2r12)
  . Use DataOnDemandSvc to instantiate associator algorithms 
    (Relations v2r0, AssociatorsSys v2r1, TrFitAssociators v1r3)

- Removed functionality:
  . Removed support for 200402-TT-alt and Field043 geometries

- DST changes
  . /Rec/Rich/PIDs contains new backwards incompatble version of RichPID
    (RichEvent v8r0)

- Bug fixes
  . Small fix in thick scatterer (TrExtrapolator v2r14)

- Packaging changes
  . Calo monitoring moved to new CaloMoniDst package

</PRE><H1><A NAME=v25r0>2004-11-01 Brunel v25r0</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r0.
Requires data produced by Boole v7r0 or later. It *cannot* process DC04 data

- Packages removed:  OTDAQ (moved to LHCbSys)
                     OTAlgorithms (obsolete)
- Packages added:    OTMonitor v1r0
- Packages modified: AsctToLinker v1r3, TrFitEvent v4r7, TrFitAssociators v1r2,
                      TrCheck v2r6, TrTools v2r6, Seeding v2r10, LongTrack v1r13,
                      TrCleanEx v2r11, TrExtrapolator v2r13p1, TrKShort v1r4p1

- New or modified functionality
  . New OT Event model: OTTime replaces OTDigit and OTCluster, plus backward 
    incompatble changes to OTChannelID. Not compatible with DC04 data.
    (LHCbKernel v5r3, OTEvent v14r0, OTDAQ v3r0, OTAssociators v3r0
     Required simple adaptation of large number of tracking packages)
  . Introduce OT beam tilt capability. Tilt angle currently set to 0.
    (OTDet v5r3, MCTools v1r8, XmlDDDB v22r4)

- DST changes
  . Link/Raw/OT/Times replaces Link/Raw/OT/Digits
  . Link/Rec/OT/Clusters and Rec/OT removed

</PRE><H1><A NAME=v24r3>2004-10-27 Brunel v24r3</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v16r3 and is built on v24r2b branch.
It can process DC04 data

- Packages modified: CaloReco v2r6

- New or modified functionality
  . RawBuffer is decoded using DataOnDemandSvc (RawBuffer.opts)
    Not all banks are decoded in this way yet, due to a problem in Gaudi when
    finalising data on demand algorithms that use tools
  . EventHeader is rebuilt from RawBuffer when not on input file
  . New features for Calo Reco (CaloReco v2r6)

- DST changes
  . Event/Header removed (can be rebuilt from RawBuffer)

</PRE><H1><A NAME=v24r2>2004-09-22 Brunel v24r2</A></H1><PRE>
This version uses Gaudi v15r2, needs CMT v1r16. It can process DC04 data

- Packages removed:  VeloDAQ, STDAQ, MuonDAQ (moved to LHCbSys)
- Packages modified: CaloPIDs v2r4, CaloReco v2r5, CaloMonitor v2r2p1, 
                     VeloTT v1r1

- New or modified functionality
  . New test input data file taken from DC04 (v200402.opts)
  . Enabled new Gaudi DataOnDemand service to allow automatic invocation of 
    RawBuffer decoding algorithms. In this version it is used to decode the
    Calorimeter banks (Brunel.opts, CaloEvent v13r5)
  . Preparation for HLT developments (CaloPIDs v2r4, CaloReco v2r5)

- New tuning
  . Speed improvements in decoding of Calo RawBuffer banks (CaloEvent v13r5)
  . Speed improvements in CellularAutomaton (CaloReco v2r5)

- Code cleanups
  . Z positions of TT stations taken from detector element rather than job
    options (VeloTT v1r11)

- Bug fixes
  . Workaround for core dump on exit() (GaudiPoolDb v1r9)
  . Various fixes for memory leaks (GaudiSvc v12r3, GaudiPoolDb v1r9)

</PRE><H1><A NAME=v24r1>2004-07-26 Brunel v24r1</A></H1><PRE>
This version uses Gaudi v15r1, needs CMT v1r16. It can process DC04 data

- New or modified functionality
  . Prefix numeric histogram IDs by "h" to facilitate manipulation in Root.
    Controlled by the option RootHistSvc.ForceAlphaIds (RootHistCnv v9r3)

- Bug fixes
  . Fix EventSelector.FirstEvent, in v24r0 was skipping twice the requested 
    events (GaudiSvc v12r2)
  . Fix density of Rich2 mirror support (was 1*g/cm3, should be 0.24*g/cm3)
    (XmlDDDB v22r3)

</PRE><H1><A NAME=v24r0>2004-07-23 Brunel v24r0</A></H1><PRE>
This version uses Gaudi v15r0, needs CMT v1r16. It can process DC04 data

- Packages removed:  LHCbTools, RichDAQ (moved to LHCbSys)
                      RichDetTools (renamed RichTools, moved to LHCbSys)
                      BrunelAlgs (moved to LHCbAlgs and DAQEvent)
- Packages modified: RichRecSys v1r12, RichRecBase v1r13, RichRecMCTools v1r6,
                      RichLocalPID v1r8, RichGlobalPID v1r7, RichPIDMerge v1r4,
                      RichRecCommon v1r9, RichRecTools v2r11, RichRecQC v1r9,
                      RichRingRefit v1r8, TrTools v2r5p1, TrFitEvent v4r6,
                      TrFitter v4r0, TrCheck v2r5, TrCleanEx v2r0, VeloTT v1r10,
                      TrExtrapolator v2r13, Seeding v3r9, OTAlgorithms v13r4p1,
                      ITAlgorithms v14r3, ITCheckers v2r3, STDAQ v1r3,
                      CaloReco v2r4, AsctToLinker v1r2, VeloTrack v5r2,
                      TrMatching v2r10p1, LongTrack v1r12

- New or modified functionality
  . GaudiAuditors no longer used for algorithm timing, uses GaudiSequencer
    internal timing instead
  . Remove obsolete TimingAlg
  . Remove obsolete GaudiRootDb capability
  . Added test1.opts to reproduce a known crash

- DST changes
  . Remove obsolete "/Event/Trig/AlgUsedTimes#1"

- New tuning
  . Initialize MuonGeometry tool completely at initialisation, not during first
    ~10 events (MuonTools v3r7)
  . New Calo calibration for DC04 settings (XmlDDDB >= v22r2) (CaloReco v2r4)
  . New parameterization of the dE/dx loss correction (TrExtrapolator v2r13)
  . Speed improvements in MagneticFieldSvc (Magnet v2r7)
  . Various minor updates to Rich code

- New packaging and code cleanups
  . Use new GaudiSequencer base class for ProcessPhase (LHCbAlgs v1r0)
  . Use new GaudiAlg and GaudiTools base classes
    (STDet v1r2, ITAssociators v2r9, STDAQ v1r3, ITAlgorithms v14r3,
     ITCheckers v2r3, TrExtrapolator v2r13, TrFitter v4r0, RichRecSys v1r12,
     RichRecQC v1r9)
  . Move ITrFitter interface to TrFitEvent package, thus removing dependencies
    on TrFitter package 
    (TrFitEvent v4r6, TrFitter v4r0, TrCheck v2r5, TrCleanEx v2r10, VeloTT v1r10)
  . Removed dependency on GaudiAud, GaudiDb, GaudiTools packages
  . Removed dependency on CERNLIB (Seeding v2r9, HepMC v4r121p0)
  . Remove BrunelAlgs package. BrunelInitialisation algorithm replaced by
    common LbAppInit and CreateRawEvent (LHCbAlgs v1r0, DAQEvent v4r4) 
  . Take external packages from LCG_Interfaces area

- Bug fixes
  . Fix an unprotected pointer in Rich detailed monitoring (RichRecCommon v1r9)
  . Add a missing job option for detailed Calo monitoring (BrunelMoni.opts)
  . Fix bug in evaluation of overlap of two rectangular areas (CaloUtils v4r7)
  . Add fixes suggested by C.Jones for using Brunel.job in debug mode
  . Fix in MS scattering correction (TrExtrapolator v2r12)
  . Fix problem with 3-cell cluster at edge of calorimeter, where only one cell
    has positive energy - was causing rare core dump in CaloMergedPi0Alg
    (CaloReco v2r4)

</PRE><H1><A NAME=v23r7>2004-04-29 Brunel v23r7</A></H1><PRE>
Version used for DC04

Requires data produced by Boole v5r6 or later (for signal)
Requires data produced by Boole v5r7 or later (for B inclusive and minimum bias)

- Packages modified: CaloPIDs v2r3

- New tuning
  . 12% correction to HCAL calibration coefficient  (XmlDDDB v22r2)
  . 7.2% correction to ECAL calibration coefficient (XmlDDDB v22r2)

- Bug fixes
  . Make MC/Signal optional and Gen/HardProcesses mandatory on Dst definition

</PRE><H1><A NAME=v23r6>2004-04-23 Brunel v23r6</A></H1><PRE>
Requires data produced by Boole v5r6 or later

- Packages modified: CaloPIDs v2r2, CaloMonitor v2r2, RichUtils v3r9, 
                      RichRecQC v1r7, RichDetTools v4r1, RichRecSys v1r9,
                      RichRecBase v1r11, RichDAQ v1r4, RichRecMCTools v1r4,
                      RichRingRefit v1r7, RichLocalPID v1r7, RichGlobalPID v1r6,
                      RichRecCommon v1r6, RichRecTools v2r9, TrMatching v2r10,
                      TrExtrapolator v2r11, TrKShort v1r4, TrFitEvent v4r5

- Functionality changes
  . Disabled RichRecoQC, because it accesses Spillover hits, no longer available
    on Boole output (RichRecQC v1r7)

- New tuning
  . Update parameterisation for Photon ID (CaloPIDs v2r2)
  . New Rich track state handling and tuning
    (RichRecSys v1r9, RichUtils v3r9, RichDetTools v4r1) 
  . Change match Chi2 cut to 500. (from 200.) (Matching v2r10)
  . Remove multiple scattering fudge factor from extrapolation errors
    (TrExtrapolator v2r11)
  . Retune KShort tracking for higher efficiency (TrKShort v1r4)
  . Update parameterization of Velo errors, scale factor is now 0.8
    (TrFitEvent v4r5)

- Persistency changes
  . Added Gen/HepMCEvents, Gen/HardProcesses, MC/Signal
    (produced by Gauss v15r4, propagated by Boole v5r6)
  . Removed Velo,IT,OT clusters from DST. If needed they can be recreated from 
    RawBuffer by rerunning the clustering
  . Added intermediate directories of Digits paths, to avoid opening .digi
    file when registering Digits re-created from RawBuffer in DaVinci
  . use POOL_1_6_3

</PRE><H1><A NAME=v23r5>2004-04-15 Brunel v23r5</A></H1><PRE>

 Requires data produced by Boole v5r4 or later
 Tuned for XmlDDDB v22r1

- Packages modified: LHCbTools v1r1, MuonDAQ v1r1

- New features
  . Location of XmlDDDB file is printed at start of job (GaudiSvc v11r6)

- Changed features
  . PoolDbCacheSvc.InputCatalog and .OutputCatalog no longer supported:
    use PoolDbCacheSvc.Catalog instead, with support for search list;
    first catalog in list is read/write, others are read only. 
    (POOL v1r162p0, GaudiPoolDb v1r6)

- Persistency changes
  . Using POOL_1_6_2. Fixes problem with Rich PIDs
    (POOL v1r162p0, GaudiPoolDb v1r6)

- Bug fixes
  . All tools correctly released at end of job (GaudiSvc v11r6)
  . Fix a typo in TimingTool::finalize (LHCbTools v1r1)
  . Fix 1.5 cm shift of a TT ladders near the edge (XmlDDDB v22r1)

</PRE><H1><A NAME=v23r4>2004-04-01 Brunel v23r4</A></H1><PRE>

 Requires data produced by Boole v5r4 or later
 Tuned for XmlDDDB v22r0

- Packages removed:  VeloAlgorithms
- Packages modified: ITAlgorithms v14r2, ITCheckers v2r2, STDAQ v1r1,
                      BrunelAlgs v3r4p1, CaloReco v2r1p1, OTDAQ v2r0,
                      TrKShort v1r3, LongTrack v1r11, VeloTT v1r9

- New features
  . Field045 map is the default. To process data produced with the old field
    map, use v200402-Field043.opts instead of v200402.opts
  . Added example job options (Copy.opts) for copying one or more files. Can be
    used to merge several DSTs, or to produce reduced (or extended...) DSTs

- Persistency changes
  . New version of RawBuffer for OT: new bank structure, multiple hit
    capability, new straw numbering (OTDAQ v2r0)
  . HepMC can now be made persistent also for POOL data (GenEvent v3r1)
    Disabled from Dst content as it requires data produced with Gauss v15r4
    or greater, not yet released.

- New tuning
  . Update signal to noise cuts to be consistent with Boole (ITAlgorithms v14r2)
  . Tuning of tracking for Field045 (LongTrack v1r11, TrKShort v1r3, VeloTT v1r9)
  . Add a dp/p cut for 4th hit wrt to hits in other TT half (VeloTT v1r9)

- Bug fixes:
  . Avoid multiple includes of job options files (CaloReco v2r1p1)
  . Avoid linking with unnecessary libraries (requirements)
  . Fix monitoring problems related to history flags of tracks (TrKShort v1r3)
  . Fix range definition in TT, whole station is not tilted, only each wafer
    (LongTrack v1r11)

- Packaging changes:
  . Remove unnecessary dependency on VeloAlgorithms

</PRE><H1><A NAME=v23r3>2004-03-18 Brunel v23r3</A></H1><PRE>

 Requires data produced by Boole v5r3 or later
 Tuned for XmlDDDB v22r0

- Packages added:    TrFitEvent v4r4, TrFitAssociators v1r1, STDAQ v1r0,
                     VeloDAQ v1r0
- Packages modified: CaloMonitor v2r0, CaloReco v2r0, CaloPIDs v2r0, OTDAQ v1r1,
     ITAlgorithms v14r1, ITCheckers v2r1, TrCheck v2r4, TrCleanEx v2r9, 
     TrKShort v1r2, TrFitter v3r7p1, VeloTT v1r8, VeloAlgorithms v2r9p1, 
     AsctToLinker v1r1, MuonID v3r7p1, RichUtils v3r8, RichDAQ v1r3, 
     RichDetTools v4r0, RichMCTools v1r1, RichRecBase v1r10, RichRecQC v1r6, 
     RichRecMCTools v1r3, RichRingRefit v1r6, RichLocalPID v1r6, 
     RichGlobalPID v1r5, RichPIDMerge v1r3, RichRecCommon v1r5, 
     RichRecTools v2r8, RichRecSys v1r8, CaloMonitor v2r1, CaloReco v2r1, 
     CaloPIDs v2r1

 - New features:
   . New base classes available for algorithms and tools 
     (GaudiAlg v7r1, GaudiTools v8r0, CaloKernel v3r0)
   . Use new version of ParticlePropertySvc (GaudiSvc v11r4, ParamFiles v3r4)
   . New naming convention for tracks: Upstream renamed Follow,  KsTrack added,
     track type Long, Upstream, Downstream aded
     (TrEvent v13r1, TrFitEvent v4r4, TrFitAssociators v1r1, TrCheck v2r4,
      TrCleanEx v2r9, TrKShort v1r2, RichRecBase v1r9p1, MuonID v3r7p1, 
      CaloReco v2r0, CaloMonitor v2r0)
   . Decode ITDigits from RawBuffer (ITAlgorithms v14r1, STDAQ v1r0)
   . Decode VeloClusters from RawBuffer (VeloAlgorithms v2r9, VeloDAQ v1r0)
   . Associator tools now inherit from GaudiTool. New printout for tools that
     are not finalised (GaudiTools v8r1, LHCbKernel v4r4)

 - New tuning:
   . Recalibration of Ecal ActiveToTotal (XmlDDDB v22r0)
   . New Rich2 HPD layout (XmlDDDB v22r0)
   . New Calo PID calibration histograms (CaloPIDs v2r1, ParamFiles v3r4)
   . New corrections for photons and photons from merged pi0s (CaloReco v2r1)
   . Adapt VeloTT tracking to new TT geometry (VeloTT v1r8)

 - Persistency changes:
   . POOL persistency is now the default
   . Backwards incompatible change to internal encoding of VeloChannelID
     (LHCbKernel v4r3)
   . Use VeloChannelID as key of VeloCluster (backwards incompatible)
     (VeloEvent v13r0p1, AsctToLinker v1r1)
   . Removed OTDigits from DST following fix to relations problem
     (OTDAQ v1r1)
   . Fix relations to CaloDigits
     (GaudiDb v9r2, CaloReCreateMCLinks algorithm from CaloEvent v13r1)

 - Bug fixes:
   . Minor fix to IT clustering (ITAlgorithms v14r1)

 - New packaging:
   . Added explicit dependency on FieldMap v4r3. Change the requirements, or
     the FIELDMAPROOT environment variable, to choose another field map
   . Removed VeloRound, round() function now implemented in Kernel/LHCbMath.h
     (LHCbKernel v4r3, VeloKernel v1r4, VeloDet v8r8p1, VeloAlgorithms v2r9p1)
   . Adapted to new base classes for algorithms and tools. 
     Adds printout of tools not finalised
     (GaudiAlg v7r0, GaudiTools v8r1, LHCbKernel v4r4, CaloMonitor v2r0, 
      CaloReco v2r0, CaloPIDs v2r0, RichMCTools v1r1, RichRecMCTools v1r3, 
      RichRecQC v1r6, RichRecSys v1r8)
   . Valgrind error suppression file for Gaudi and external package errors moved
     to $STDOPTS/Gaudi.supp (GaudiConf v7r6, valgrind.job)


</PRE><H1><A NAME=v23r2>2004-02-10 Brunel v23r2</A></H1><PRE>

- Packages added: RichMCTools v1r0, OTDAQ v1r0, MuonDAQ v1r0, AsctToLinker v1r0
- Packages modified: ITAlgorithms v14r0, ITCheckers v2r0, LongTrack v1r10,
                      Seeding v2r8, TrCheck v2r3, TrCleanEx v2r8, TrKShort v1r1,
                      TrMatching v2r9, VeloTT v1r7, RichUtils v3r7, 
                      RichDetTools v3r6, RichRecBase v1r9, RichRecQC v1r5, 
                      RichRichRefit v1r5, RichLocalPID v1r5, RichGlobalPID v1r4,
                      RichRecCommon v1r4, RichRecTools v2r7, RichDAQ v1r2,
                      RichRecSys v1r7

- New functionality
  . Support for new TT layouts (4-3-3-4: v200402.opts, 4-2-1-1-2-4: TT-alt.opts)
    (XmlDDDB v21r0, STDet v1r0, ITAlgorithms v14r0, ITCheckers v2r0)
  . Support for new Rich features (switched off by default)
    (RichRecSys v1r7, RichDetTools v3r6, RichUtils v3r7)
  . OT digits are rebuilt from RawBuffer (OTDAQ v1r0)
  . Muon digits are rebuilt from RawBuffer (MuonDAQ v1r0)

- DST changes
  . Replace old style "relations" with new style "links" for MC truth of 
    ITClusters, OTClusters, VeloClusters, MuonCoords, L0Calo. Relations can be
    rebuilt from links when reading the DST. (AsctToLinker v1r0)
  . Add depositedCharge() to ITCluster (ITEvent v13r1, ITAlgorithms v14r0)
  . Add one significant bit to time field of MuonDigit
    (MuonEvent v3r1, MuonAlgs v5r1)
  . Remove all (old) L1 objects from Dst. To be replaced by new Trg
    (L1Decision not available, waiting for new code working in Trg framework)
  . Removed filtering of MCParticles/MCVertices (should be done in Gauss)
  . Added OTDigits. This is because POOL crashes when writing the OTCluster
    SmartRef to OTDigits, if the OTDigits are not also saved somewhere...

- New tuning
  . Updated TT detector geometry (beam pipe hole, guard ring size etc.)
    (XmlDDDB v21r0)
  . Adapt to changes in ST geometry 
    (ITAlgorithms v14r0, ITCheckers v2r0, LongTrack v1r10, Seeding v2r8,
     TrCheck v2r3, TrCleanEx v2r3, TrKShort v1r1, TrMatching v2r9, VeloTT v1r7)

- New packaging
  . Creation of relations and links tables for the DST moved to a new independent
    Relations phase

- Dropped functionality
  . Dropped support for pre-2004 geometries (removed v200311,opts, RiSicbGeom)
  . Dropped valgrind support for gcc 2.95.2 
    (Brunel.supp.gcc32 renamed Brunel.supp)


</PRE><H1><A NAME=v23r1>2004-01-28 Brunel v23r1</A></H1><PRE>

- Packages added:    TrKShort v1r0, LHCbTools v1r0
- Packages modified: ITAlgorithms v13r2, BrunelAlgs v3r4, Seeding v2r7
- Packages removed:  TrIntraPR, UpstreamPR (replaced by TrKShort)
                      RiSicbGeom, CaloInterfaces, CaloUtils, MCTools 
                      (now in LHCB project)

- New functionality
  . New KShort tracking replaces old "upstream" tracking. See TrKShort
    release notes for details (TrKShort v1r0). UpstreamPR and TrIntraPR removed
  . All DST classes can now be written to POOL (LHCbKernel v4r1)

- New tuning
  . New normalisation for timingAlg, for consistency with Boole. Updated list of
    algorithms to be timed (BrunelAlgs v3r4, LHCbTools v1r0)
  . Adapt Seeding algorithm to latest IT+OT geometry (Seeding v2r7)

</PRE><H1><A NAME=v23r0>2004-01-22 Brunel v23r0</A></H1><PRE>
- Built against GAUDI v14r0

- Packages modified: RiSicbGeom v3r8, ITAlgorithms v13r1, CaloInterfaces v3r1,
                      CaloUtils v4r6, CaloMonitor v1r6, VeloAlgorithms v2r9,
                      RichRecSys v1r6, RichDAQ v1r1, RichDetTools v3r5,
                      RichRecBase v1r8, BrunelAlgs v3r3, TrExtrapolator v2r10,
                      MuonRec v2r4, MuonID v3r7, TrCleanEx v2r7p2, 
                      TrMatching v2r8, TrIntraPR v2r8, UpstreamPR v2r9,
                      CaloReco v1r8

- New functionality
  . Possibility to read POOL digi file and/or save POOL dst file. Only for
    tests by experts. See examples in v200311.opts
  . Monitoring histograms now saved to ROOT file by default. Saving to Hbook file
    is still possible, see comments in BrunelMoni.opts

- New tuning
  . New Ecal and Hcal calibration for "ActiveToTotal" parameter (XmlDDDB v20r1)

- Dst changes
  . Add file DstContent.opts to define dst content (Moved from GaudiConf)
  . Remove L0/Calo and L0/FullCalo, can be rebuilt from RawBuffer
  . Backwards incompatible update of CaloCluster - new seed attribute
    (CaloEvent v13r0, CaloReco v1r8)
  . Add HepMCEvents (written if present on Sim+Digi files)
  . Add Link objects (MC truth of tracking digits used by Trg tracking)
  . Add MCTrackInfo for "in Acceptance" and "Reconstructible" flags (Trg defn.)


</PRE><H1><A NAME=v22r0>2003-12-12 Brunel v22r0</A></H1><PRE>
- Built against GAUDI v13r0

- Packages modified: RiSicbGeom v3r7, CaloInterfaces v3r0, CaloMonitor v1r5,
     RichUtils v3r6, ITAlgorithms v13r0p1, RichDetTools v3r4, CaloReco v1r7,
     CaloPIDs v1r2, TrExtrapolator v2r9, RichRecSys v1r5, RichRecBase v1r7,
     RichRecQC v1r4, RichRingRefit v1r4, RichRecTools v2r6, RichRecCommon v1r3,
     RichLocalPID v1r4, RichGlobalPID v1r3, RichDAQ v1r0p1, TrIntraPR v2r7p1

</PRE><H1><A NAME=v21r2>2003-12-04 Brunel v21r2</A></H1><PRE>
** This version requires data produced by Boole v3r2 or greater **

- Packages modified: ITAlgorithms v13r0, ITCheckers v1r4, Seeding v2r6,
     LongTrack v1r9, TrCheck v2r2, TrCleanEx v2r7p1, TrIntraPR v2r7,
     VeloTT v1r6p1, RichDetTools v3r3, RichRecSys v1r4, RichRecBase v1r6,
     RichRecTools v2r5, OTAlgorithms v13r4

- New features
   . Additional monitoring histograms (ITCheckers v1r4)

- New tuning
   . Changes to IT clustering cuts (ITAlgorithms v13r0)
   . Use circle method everywhere for ray tracing, gives further improvement in
     Rich time performance without loss of efficiency 
     (RichDetTools v3r3, RichRecSys v1r4)
   . Backwards incompatible change to OT geometry: introduction of OTQuarters,
     new numbering for OT stations, layers, modules 
     (XmlDDDB v20r0, OTDet v5r0, OTAlgorithms v13r4, TrAssociators v3r7,
      LongTrack v1r9, TrCheck v2r2, TrIntraPR v2r7, Seeding v2r6)

- Dst changes
   . Backwards incompatible change to bit definitions in OTChannelID
     (LHCbKernel v12r10)

- Bug fixes
   . Fix division by 0 for backward moving tracks (bug 1928) (TrCheck v2r2)

- New packaging
   . Changes to IT geometry tree structure 
     (XmlDDDB v19r1, ITDet v1r7, Seeding v2r6, LongTrack v1r8p1, TrCheck v2r2,
      TrCleanEx v2r7p1, TrIntraPR v2r7)
   . Changes to ITSignalToNoise tools ---> noise in e- or ADC 
     (ITAlgorithms v13r0, LongTrack v1r8p1, TrIntraPR v2r7, VeloTT v1r6p1)

- Removed features
   . Remove support for v256r0 geometry (not supported by OTDet v5r0)

</PRE><H1><A NAME=v21r1>2003-11-28 Brunel v21r1</A></H1><PRE>
** This version requires data produced by Boole v3r1 or greater **

- Packages added:    RichDAQ v1r0
- Packages modified: BrunelAlgs v3r2, CaloReco v1r6p1, TrCleanEx v2r7,
     RiSicbGeom v3r6, RichUtils v3r5, RichDetTools v3r2, RichRecBase v1r5,
     RichRecQC v1r3, RichRingRefit v1r3, RichLocalPID v1r3, RichGlobalPID v1r2,
     RichPIDMerge v1r2, RichRecCommon v1r2, RichRecMCTools v2r4, RichRecSys v1r3
 
- New features
   . Calorimeter digits rebuilt from RawBuffer (CaloEvent v12r1)
   . Rich digits rebuilt from RawBuffer (RichDAQ v1r0)
   . Default OT monitoring now switched on

- New tuning
   . Improved Rich detector packages and new track cuts in Rich reconstruction.
     Reduced the max track limit for the Global PID from 230 to 180 and 
     increased it for the local PID to 300. Effect is very small drop in PID 
     performance for large events, but much improved CPU time.
     (RiSicbGeom v3r6, RichUtils v3r5, RichDetTools v3r2, RichRecSys v1r3)

- DST changes
   . Added DAQ/RawBuffer (GaudiConf v7r3)

- Bug fixes
   . Fix to off diagonal elements of TrStateP p covariance matrix (TrEvent v12r2)

- Removed features
   . Remove support for v254r1 (optimization TDR) geometry


</PRE><H1><A NAME=v21r0p1>2003-11-10 Brunel v21r0p1</A></H1><PRE>

- Packages modified: BrunelAlgs v3r1p1, Brunel v21r0p1

- Bug fix
   . Use correct serialization to read in HltBuffer and L1Buffer (DAQEvent v2r1)

</PRE><H1><A NAME=v21r0>2003-11-05 Brunel v21r0</A></H1><PRE>
 Version built against LHCB v13r3. Requires oodigi produced by Boole v3r0 or
 later (due to backward incompatible change in Rich data and DAQEvent)

- Packages modified: RiSicbGeom v3r5, RichUtils v3r4, RichDetTools v3r1,
     RichRecBase v1r4, RichRecQC v1r2, RichLocalPID v1r2, RichRingRefit v1r2,
     RichPIDMerge v1r1, RichRecTools v2r3, RichRecSys v1r2, BrunelAlgs v3r1,
     OTAlgorithms v13r3, TrCheck v2r1, TrFitter v3r7, TrExtrapolator v2r8
 
- New tuning
   . Changes to Rich monitoring (RichRecQC v1r2)
   . Updates and new features in Rich ring refit (RichRingRefit v1r2)
   . Implement fast refit with outlier removal. Default is five iterations, 
     removing outliers at chi2 > 9. (TrFitter v3r7)
   . New tuning of dE/dx and MS (TrExtrapolator v2r8)

- New feature
   . Possibility to switch on detailed OT monitoring. 
     Default is "fullDetail" = false (OTAlgorithms v13r3)

- DST changes
   . Requires oodigi produced by Boole v3r0 or later, due to backwards
     incompatible changes to event model and oodigi content
     (RichKernel v4r0, RichEvent v6r0, DAQEvent v2r0, GaudiConf v7r2)
   . Reading program has to be linked with LHCB v13r3 or later due to backwards
     incompatible change to Rich Event model (RichKernel v4r0, RichEvent v6r0)
   . Add L1Buffer to DST (GaudiConf v7r2)

- Geometry changes
   - Renamed v200309-hpd.opts to v200311.opts
   - Removed v256-MaPMT.opts and v200309.opts (MaPMT geometries)

- Bug fixes
   . Fixes to material description of IT frames, was not consistent with cdf
     description (XmlDDDB v19r0)
   . Fix uninitialised variables (bug 1673) (TrCheck v3r7)

</PRE><H1><A NAME=v20r1>2003-10-17 Brunel v20r1</A></H1><PRE>

- Packages modified: VeloAlgorithms v2r8, ITCheckers v1r3p1, OTAlgorithms v13r2,
     RichUtils v3r3, RichDetTools v3r0, RiSicbGeom v3r4, RichRecBase v1r3,
     RichRecQC v1r1, RichGlobalPID v1r1, RichLocalPID v1r1, RichRingRefit v1r1,
     RichRecCommon v1r1, RichRecTools v2r2, RichRecSys v1r1, TrExtrapolator v2r7,
     LongTrack v1r8, TrFitter v3r6, TrTools v2r5, VeloTrack v5r1, VeloTT v1r6,
     TrIntraPR v2r6, TrUpstreamPR v2r8, TrMatching v2r7, trCheck v2r0, 
     BrunelAlgs v3r0
- Packages added:    RichRecMCTools
- Packages removed:  MuonAlgs

- New functionality
   . Add Rich support for MaPMT and for Gauss data. Requires XmlDDDB v18r2
     (RichDetTools v3r0, RichDet v6r0, RichKernel v3r3, RichRecSys v1r1)
   . Add histograms to monitor memory usage (BrunelAlgs v3r0)
   . Create HLTEvent from HLTBuffer at start of processing (BrunelAlgs v3r0)

- New tuning
   . Improved handling of Rich tabulated properties (RichUtils v3r3)
   . Improved ring refit algorithm (RichRingRefit v1r1)
   . Use reference trajectory instead of dummy point on track to propagate
     tracks between Velo and T stations
     (TrFitEvent v4r0, LongTrack v1r8, VeloTrack v5r1)
   . Increase TT signal to noise cut from 4. to 6. for VTT tracks (VeloTT v1r6)
   . Add TT hits to "Matched" tracks (TrMatching v2r7, Brunel.opts)

- New packaging
   . Remove dependency on NAGC, use equivalent gsl functions instead
     (VeloAlgorithms v2r8, ITCheckers v1r3p1, TrExtrapolator v2r7,
      TrIntraPR v2r6, UpstreamPR v2r8)
   . Remove dependency on MuonAlgs (contains only Muon digitization)
   . Remove dependency on LHCBDBASE environment variable. Parameters are taken
     from ParamFiles package. 
   . Specialised BrunelMain.cpp no longer needed, use GaudiMain instead
   . Introduce dependency on GaudiGSL and GSL
   . Rename top level options files for consistency with new XmlDDDB scheme
   . Update Brunel.job and valgrind.job for above changes

</PRE><H1><A NAME=v20r0p1>2003-07-18 Brunel v20r0p1</A></H1><PRE>

- Bug fix:
   . Add workaround in BrunelMoni.opts to create Tr2MCP relation table for DST
     when Rich Monitoring is skipped

</PRE><H1><A NAME=v20r0>2003-07-17 Brunel v20r0</A></H1><PRE>
 *** First version without digitisation. To be used on output of Boole v1r0 ***

- Packages modified: BrunelAlgs v2r2, CaloUtils v4r5, OTAlgorithms v13r1, 
     TrTools v2r4p2, RichRecSys v1r0p1, RichLocalPID v1r0p1, CaloPIDs v1r1
- Packages added: RiSicbGeom v3r3
- Packages removed: BrunelSicb, L0Calo, L0Muon, PuVeto, L0DU, L1VeloTrack,
     L1Decision, DigiAlg, CaloDigit, MuonBackground, RichDigiQC, recevt, recrich
 
- Removed functionality:
   . The digitisation and trigger phases have been removed (moved to Boole). 
     This includes addition of spillover and background, now done in Boole
   . The SICB initialization is removed. A reduced ZEBRA common block is still
     present for HBOOK.

- New functionality
   . use also Seed and Upstream tracks for Calo PID matching (CaloPID v1r1)

- New tuning
   . Modify IT, OT, Velo Associators to work with Digit2MCHit relations stored
     on oodigi tape. Identical behaviour as previously except for tiny 
     additional association inefficiency for IT (few 10^-4) and TT (10^-3)

- DST changes
   . Rich and Calo Digits have been removed (it is possible to navigate to them
     on the oodigi tape if required for special studies) (GaudiConf v7r0)

- Bug fixes
   . Correct a bug with rotation of TT stereo layers (ITDet v1r5)
   . Fix for HCalE estimator (CaloPID v1r1)

</PRE><H1><A NAME=v19r1>2003-07-08 Brunel v19r1</A></H1><PRE>
- Packages removed:  RichRecAlgs, RichMonitor, KsReco
- Packages added:    RichRecSys, RichRecCommon, RichRingRefit, RichLocalPID,
     RichGlobalPID, RichPIDMerge, RichDigiQC, RichRecQC
- Packages modified: RichUtils v3r2, RichRecBase v1r2, RichRecTools v2r1,
     RichDetTools v2r2, BrunelAlgs v2r1

- New tuning:
   . Update of Rich reconstruction software. Includes repackaging of algorithms.
     (RichUtils v3r2, RichRecBase v1r2, RichGlobalPID v1r0, RichLocalPID v1r0,
      RichRingRefit v1r0, RichPIDMerge v1r0, RichRecTools v2r1, RichRecSys v1r0)

- New packaging:
   . Split Rich monitoring into distinct Digi and Reco packages
     (RichRecQC v1r0, RichDigiQC v1r0)

- New functionality:
   . Add MCRichHit class to Event model, for detector information from Gauss
     (RichEvent v5r0, RiSicbCnv v6r0, Event v3r4, SicbCnv v17r7)
   . Add support for valgrind 1.9.6 with gcc32 
     (new file Brunel.supp.gcc32, invoked by valgrind.job)

- Removed functionality:
   . Remove V0 reconstruction ("upstream " KsReco package)
     replaced by new DaVinci algorithm 

- DST changes:
   . Update list of algorithms to be timed with new Rich Global PID iterations
     (BrunelAlgs v2r1)
   . Remove V0s (GaudiConf v6r10)

- Bug fixes
   . Release services etc. after use, to please valgrind
     (RiSicbCnv v6r0, RichRecBase v1r2)


</PRE><H1><A NAME=v19r0>2003-07-03 Brunel v19r0</A></H1><PRE>
  This version is built against Gaudi v12 and introduces support for gcc 3.2

- Packages removed:  MuonTools (now taken from LHCB_v12r0)
- Packages modified: KsReco v1r5, PuVeto v5r4, L0DU v6r4, L1VeloTrack v5r1,
   L1Decision v2r1, OTAlgorithms v13r0, TrCheck v1r4, LongTrack v1r7,
   TrExtrapolator v2r6, Seeding v2r5, TrIntraPR v2r5, TrTools v2r4p1,
   MuonID v3r6, MuonBackground v1r2, RichRecBase v1r1, RichUtils v3r1,
   RichDetTools v2r1, TrCleanEx v2r6p1, MCTools v1r1p1, CaloDigit v1r2p1,
   L0Calo v7r0p1, L0Muon v6r5p1, RichMonitor v3r0p1, RichRecAlgs v2r0p2, 
   RichRecTools v2r0p1, DigiAlg v1r0p1, L1VeloTrack v5r2, BrunelAlgs v2r0p1

- Removed features:
   . Removed support for dbase < v256r0. 
     Data produced with dbase v254r1 (PDC1 winter 2003 production) can be 
     reconstructed with dbase v256r0. 
     Data produced with dbase v255r* (Robustness tests for optimization and
     trigger TDRs) cannot be reconstructed with this version - use v18r1.
   . Removed Rich Fortran reconstruction

- New features:
   . Implementation of modules in OT description. Uses backwards incompatible
     modification to OTDet, requires XmlDDDB from v16r0, dbase from v256r0
     (OTAlgorithms v13r0, Seeding v2r4, LongTrack v1r7, TrIntraPR v2r5,
      L1VeloTrack v5r1)
   . New implementation of "flat spillover" in Muon chambers. Requires 
     installation of the file $LHCBHOME/sim/data/flat-spillo-2.hbook
     (MuonSicbCnv v7r1, MuonBackground v1r2)
   . Added L0 veto on Spd and PuVeto multiplicity (L0DU v6r5)
   . Redesign of L1 algorithm and packaging (L1Decision v2r1)
   . L1TTClusters used instead of offline clusters for L1 (L1Decision v2r1)
   . Detailed description of Spd and Prs, including converter! (XmlDDDB v16r1)
   . Rich OO reconstruction is now the default

- DST changes
   . Rec/Rich/PIDs now contains result of Rich OO reconstruction. 
     Rec/Rich/OOPIDs is no longer filled

- New tuning:
   . Use TDR L0 threshold settings (L0DU v6r5)
   . New Muon ID tuning (MuonID v3r6)
   . Final L1 calibration for TDR (L1Decision v2r1)
   . TimingAlg normalisation loop increased by x 1.3 in case of gcc 3.2, to 
     compensate effect of -o2 compiler flag (BrunelAlgs v2r0p1)

- Bug fixes:
   . Release application manager in BrunelMain.cpp, to please valgrind
   . Release services etc. after use, to please valgrind
     (ITAlgorithms v12r10, L1Decision v2r1, L1VeloTrack v5r1, OTAlgorithms v13r0,
      MCTools v1r1p1, KsReco v1r5, RichMonitor v3r0p1, RichRecAlgs v2r0p2,
      RichRecTools v2r0p1, TrCheck v1r4, TrIntraPR v2r5, TrTools v2r4p1)
   . Remove IGeometryInfoException from DoxyFile.cfg, to fix doxygen doc

</PRE><H1><A NAME=v18r1>2003-06-24 Brunel v18r1</A></H1><PRE>
- Packages removed:  BrunelKernel
- Packages added:    DigiAlg v1r0
- Packages modified: BrunelAlgs v2r0, CaloReco v1r6, ITCheckers v1r3,
   ITAlgorithms v12r9p1, LongTrack v1r6, MuonBackground v1r1, RichRecAlgs v2r0p1,
   MuonAlgs v4r1

   Package included in this version only: MuonTools v3r5 (to over-ride v3r4 in
                                          LHCB_v1r12)
- New features:
   . Support addition of LHC background. Switched on by default
     (Digi/DigiAlg v1r0, Muon/MuonAlgs v4r1, Muon/MuonTools v3r5)
   . New algorithm MCEvTypeFilter to allow different DST definitions depending
     on event type (BrunelAlgs v2r0)
   . Enable default IT monitoring (ITCheckers v1r3)

- DST changes:
   . L1OT(ST,TT)Clusters are present only on minimum bias events, as in the TDR
     production with Brunel v17r4. In Brunel v18r0 they were present on all
     events (GaudiConf v6r8, BrunelAlgs v2r0)

- Bug fixes:
   . Fix problem with handling of OT geometry in Y=0 overlap region. Improves
     tracking efficiency by 0.3% (LongTrack v1r6)
   . Fix run time problem on Windows (RichRecAlgs v2r0p1)
   . Fix bug 425: processing aborted if bad cluster in Ecal (CaloReco v1r6)
   . Fix bug 424: crashes due to rounding problem (MuonBackground v1r1)
   . Fix bug 135: Solids deleted twice at finalisation (DetDesc v1r9p1)
   . Fix some Rich1 overlaps reported by transport service (XmlDDDB v15r5)
   . Fix uninitialised bin in IT charge sharing function (ITAlgorithms v12r9p1)

- Packaging changes:
   . BrunelInitialisation and BrunelPhase algorithms moved to BrunelAlgs
     package, making BrunelKernel package obsolete (BrunelAlgs v2r0)

</PRE><H1><A NAME=v18r0p3>2003-06-06 Brunel v18r0p3</A></H1><PRE>
- New features:
   . Add support for dbase v255r3

</PRE><H1><A NAME=v18r0p2>2003-05-07 Brunel v18r0p2</A></H1><PRE>
- New features:
   . Add support for dbase v255r4 and "degraded Velo" robustness test
- Bug fixes:
   . Fix a character string length, causing crash on W2K (BrunelKernel v5r4p1)

</PRE><H1><A NAME=v18r0p1>2003-04-24 Brunel v18r0p1</A></H1><PRE>
- New features:
   . Add support for dbase v255r2

</PRE><H1><A NAME=v18r0>2003-04-17 Brunel v18r0</A></H1><PRE>
- Packages added:    CaloPIDs v1r0, MuonUtils v1r0, MuonBackground v1r0,
                     MCTools v1r1, RichRecBase v1r0
- Packages removed:  RichRecKernel, RichRecEvent, RichRecInterfaces
- Packages modified: BrunelAlgs v1r9, BrunelSicb v4r1, CaloDigit v1r2,
     CaloMonitor v1r4, CaloReco v1r4, ITAlgorithms v12r9, L0Calo v7r0,
     L0Muon v6r5, L1VeloTrack v5r0, MuonAlgs v4r0, OTAlgorithms v12r4,
     recrich v7r4, RichMonitor v3r0, RichRecTools v2r0, RichRecAlgs v2r0,
     RichUtils v3r0, VeloAlgorithms v2r7

- New features:
   . DST content is now defined in GaudiConf package, not in BrunelDst.opts
     As side-effect, OutputStream is now called DstWriter, not BrunelDstWriter
   . Improved default monitoring for automatic data quality checks
     (VeloAlgorithms v2r7, RichMonitor v3r0)
   . Support for dead strips in Velo (zero dead strips by default)
     (VeloAlgorithms v2r7, VeloTrack v5r0)
   . Muon low energy background is no longer read from SICBMC RAWH file. 
     Instead it is generated in the digitisation, using a parameterisation from
     the histograms in $LHCBHOME/Sim/mubg1.hbook
     (MuonAlgs v4r0, MuonUtils v1r0, MuonBackground v1r0, MuonSicbCnv v7r0) 
   . Support for dead cells in Calorimeters (zero dead cells by default)
     (CaloDigit v1r2)
   . Support for IT cluster smearing, to simulate misaligment (zero smearing by 
     default) (ITAlgorithms v12r9)
   . Support for random noise in OT (no noise by default) (OTAlgorithms v12r4)
   . Support for degraded efficiency and resolution (swiched off by default)
     (RichRecTools v2r0, RichRecAlgs v2r0, recrich v7r4, BrunelSicb v4r1)
   . Support for extra noise and smearing to mimic misalignment (off by default)
     (VeloAlgorithms v2r7)
   . Added a new options files for robustness tests. The different cases shown in
     http://cern.ch/lhcb-phys/task_force/TDR_studies_2002-2003/robustness/
     are implemented as follows:
   
     case 0: default settings for dbase v255r1, Brunelv255r1.opts
     case 1: default settings, use Brunelv254r1.opts as is
     case 2: add Test2Robustness.opts at end of Brunelv254r1.opts
     case 3: Not yet implemented
     case 4: independent of Brunel. Use Brunelv254r1.opts as is
     case 5: independent of Brunel. Use Brunelv254r1.opts as is
     case 6: Not yet implemented

	  . Added Brunelv255r0.opts, Brunelv255r1.opts to support new dbases 


- Removed features:
   . Removed support for data produced with dbase v253r99 (Xmas 02 production) 

- New tuning:
   . Random number is now initialised by hashing a string containing the 
     complete run and event numbers (BrunelKernel v5r4)
   . Faster Calo MC truth association (CaloEvent v11r5, CaloAssociators v1r3)
   . New more efficient version of OO-Rich. OO reconstruction now similar or 
     better efficiency than Fortran. (RichKernel v3r0, RichUtils v3r0,
     RiSicbGeom v3r1, RichDet v4r1, RichDetTools v2r0, RichEvent v4r3,
     RichRecBase v1r0, RichRecAlgs v2r0, RiSicbCnv v5r5, RichRecTools v2r0)
   . Changed full scale of Prs and SPD (XmlDDDB v15r3)
   . Changed default pe/Mev and Prs/Spd fractional correction (CaloDigit v1r2)
   . Update S corrections (CaloReco v1r4, CaloPIDs v1r0)
   . M3 seed cleaning no longer done in y direction, increases L0Muon efficiency
     (L0Muon v6r5)

- DST changes:
   . Add VeloTrackAlg timing to Timing.opts - fixes bug 191 (BrunelAlgs v1r9)
   . Do not filter MCParticles and MCVertices containers if relations 
     between MCParticles and MCVertices are corrupt (checked with new tool
     CheckMCEventTool) to protect against bug 208 (BrunelAlgs v1r9, MCTools v1r1)
   . Add Trig/L1/TTClusters, ITClusters, OTClusters (GaudiConf v6r6) (These
     were available in Winter 2003 production via additional job options in
     production workflow) 
   . ProcStat now contains information from the OO Rich reconstruction:
     - for global and local algorithms, the number of PIDs produced, or the
       (negative) error codes if the processing was aborted
     - for the merging algorithm, the number of local and global results that
       were used in the merged output container

- Bug fixes:
   . Brunel.job again analyses core dump file, also on RH7
   . Bug 203: check array boundary for OT (L1VeloTrack v5r0)
   . Bugs 191, 208: see DST changes above.
   . Bug 305: fix initialisation of Calo monitoring (CaloMonitor v1r4)
   . Bugs 138,139: valgrind errors disappeared with new version of Rich code
   . Bug 396: memory leak reported by valgrind (DetDesc v11r9)
   . Several fixes to geometry solids (DetDesc v11r9)
   . Fix position of magnet material (XmlDDDB v15r3)
   . Minor bug fixes in ITCrossTalk (ITAlgorithms v12r9)
   . Fix clustering for merged pi zeros (CaloReco v1r4, CaloPIDs v1r0)
   . Fix bug in a loop index (MuonTools v3r4)
   . Use latest Gaudi bug fixes (Gaudi v11r5)

</PRE><H1><A NAME=v17r4>2003-02-06 Brunel v17r4</A></H1><PRE>
 - Packages modified: CaloReco v1r3, L0DU v6r4, L1Decision v1r7

 - New tuning:
   . L1 minimum bias parameterization (L1Decision v1r7)
   . Updated version of single gamma tool (CaloReco v1r3)
   . New calibration constants for electrons and photons (CaloReco v1r3)
   . Update S and L corrections (CaloReco v1r3)

 - New features:
   . Repackaging of L1Decision to remove some dependencies (L1Decision v1r7)

 - DST changes:
   . Remove optional containers Rec/Calo/HcalIDe, HcalIDmu, PrsID, EcalID
   . Add mandatory container Rec/Calo/EcalE
   . Previously optional containers Rec/Calo/HcalE, PrsE now mandatory

 - Bug fixes:
   . BugID 136: fix a Rich1 volume overlap (XmlDDDB v15r2)
   . Print correct L0 performance values (L0DU v6r4)
   . Add missing factories for L1OTCluster and L1ITCluster (L1Event v11r6)

</PRE><H1><A NAME=v17r3>2003-01-31 Brunel v17r3</A></H1><PRE>
 - Packages modified: L0DU v6r3, L0Muon v6r4, L1VeloTrack v4r1

 - New tuning:
   . Changed logic for treating the L0 Muon PU overflow conditions: now  PU 
     always returns 2 randomly chosen candidates if there are more than 2 
     candidates found. No more the whole quarter of the processor is empty in 
     this case (L0Muon v6r4)
   . Default L0 Muon FoIs are set to reasonable values for the 125 KHz L0Muon
     bandwidth (L0Muon v6r4)
   . PuVeto decision taken on sum of second peak: 3 or more is vetoed (L0DU v6r3)
   . L0 thresholds adjusted (L0DU v6r3)

 - New features:
   . L0Muon ghosts cleaned in L0Muon rather than L0DU (L0Muon v6r4, L0DU v6r3)

 - Bug fixes:
   . Fix a boundary problem in DeVelo (VeloDet v8r4)
   . BugID 143: fix a rare duplicate key problem in VeloFEToL1 (L1VeloTrack v4r1)

</PRE><H1><A NAME=v17r2>2003-01-23 Brunel v17r2</A></H1><PRE>
 - Packages modified: VeloTT v1r5, VeloTrack v4r5,
     CaloReco v1r2p1, L1Decision v1r6, L1VeloTrack v4r0, MuonAlgs v3r3,
     RichDetTools v1r3, TrCleanEx v2r6, TrIntraPR v2r4, UpstreamPR v2r7

 - New tuning:
   . Raise IT clustering S/N cut to 3.2 sigma (from 3.0) (Brunel.opts)
   . Tuning for new TT strip pitch and magnetic field, plus minor improvements
     (L1Decision v1r6)
   . Tuning of VTT tracking for field043 (VeloTT v1r5)
   . Tuning of Upstream tracking for field043 (TrIntraPR v2r4, UpstreamPR v2r7)
   . Improved agreement between Xml and CDF geometry for OO-Rich
     (XmlDDDB v15r0, RichDet v4r0, RichDetTools v1r3, Brunel.opts)
   . Fix HCAL and ECAL calibrations as result of time information in digitisation
     (XmlDDDB v15r1)

 - New features:
   . Add support for dbase v254r1
    (XmlDDDB v15r0, Brunelv254r1.opts - to be used also for dbase v254r0 and 
     v253r1 test data)
   . New algorithms to produce ST and OT trigger clusters
     (L1VeloTrack v4r0, L1Event v11r5)
   . Possibility to cut on IT S/N in Upstream tracking (TrIntraPR v2r4)

 - DST changes:
   . TrStateL of Velo and Veloback tracks is now given at Z of first measured
     point (actually first used phi sensor) instead of Z=0 previously
     (VeloTrack v4r5, TrCleanEx v2r6)

 - Bug fixes:
   . Fix valgrind problems (CaloDet v6r4, CaloReco v1r2p1, MuonAlgs v3r3)
   . Introduce fix to inner tracker materials that was mistakenly left out in
     XmlDDDB v14r1 (XmlDDDB v15r0)

</PRE><H1><A NAME=v17r1>2003-01-17 Brunel v17r1</A></H1><PRE>
 - Packages modified:
   ITAlgorithms v12r8, L0Calo v6r6, L1Decision v1r5, TrCleanEx v2r5, 
   TrExtrapolator v2r5, TrMatching v2r6, TrTools v2r4, VeloAlgorithms v2r6

 - New tuning:
   . Tune Match tracking for field043 (TrTools v2r4, TrMatching v2r5)
   . Use slope on x instead of atan(x/9450) in parabolic correction of pt-kick
     tool (TrTools v2r4)

 - New features:
   . Drop support for dbases prior to v253r99, add support for v253r99, v254r0
     > Use dbase v253r99 for data produced with dbase v253r0 (Xmas production)
     > Use dbase v254r0 for field043 data (e.g. test data produced with v253r1)
     > Data produced with dbase < v253r0 no longer supported
   . New accessor for noise level in ITSignalToNoiseTool (ITAlgorithms v12r8)

 - DST changes:
   . add a TrStateP to velo and veloBack unique tracks (2nd state on the track)
     at the Z closest to the beamline, assuming Pt=400 MeV/c and dp/p=0.1
     (TrCleanEx v2r5, Brunel.opts - new algorithm TrPrepareVelo) 

 - Bug fixes:
   . Fix Pi0Local per validation card: The 2x2 energy was used, instead of the
     total card energy (L0Calo v6r6)
   . Protect against possibility of zero deposited energy in MCHit 
     (VeloAlgorithms v2r6)
   . Fix minor problems flagged by valgrind 
     (TrExtrapolator v2r5, MuonSicbCnv v6r8)
   . Fix uninitialised variable (L1Decision v1r5)

</PRE><H1><A NAME=v17r0>2003-01-09 Brunel v17r0</A></H1><PRE>
 - New tuning:
   . Change strip threshold to 7000e (PuVeto v5r3)
   . Add tuning for magnetic field043 (LongTrack v1r5) 

 - New features:
   . Add support for dbase v253r1
   . Log inputs of L0Calo selection crate, for L1 studies
     (CaloDet v6r3, L0Event v13r1, L0Calo v6r5, BrunelAlgs v1r8)

 - DST changes:
   . Add Rec/Relation/L0CaloFullCandidates, Raw/L0/FullCalo

 - Bug fixes:
   . Fix many minor problems flagged by valgrind (SicbCnv v17r5, MuonSicbCnv v6r7
     OTAssociators v2r4, OTAlgorithms v12r3, ITAlgorithms v12r7, TrTools v2r3,
     TrCleanEx v2r4, TrAssociators v3r4, TrCheck v1r3, MuonID v3r5,
     MuonAlgs v3r2, RichRecInterfaces v2r0, RichRecTools v1r4, RiSicbCnv v5r4,
     KsReco v1r4, TrIntraPR v2r3, UpstreamPR v2r6, RichRecAlgs v1r4,
     RichMonitor v2r4, VeloDet v8r3, LongTrack v1r5, MuonTools v3r3)


</PRE><H1><A NAME=v16r4>2002-12-11 Brunel v16r4</A></H1><PRE>
 Essentially identical to v15r4, but using Gaudi v11 and DetDesc v11
   >> Introduces CMT projects
   >> Introduces support for RedHat 7.3
   >> Fixes many memory leaks

 - New tuning:
   . New tuning of ST charge sharing and clustering to match test beam
     (ITAlgorithms v12r6)
   . Increase lateral size of Aerogel to better match CDF description
     (XmlDDDB v14r4)

 - New features:
   . Re-enable OO-Rich by default (Brunel.opts)
   . Add support for dbase v253

 - DST changes:
   . Add SelectKs2pipi, RichLocPID, RichGloPID to timed algorithms

 - Bug fixes:
   . Do not abort job if no track are found for K0 search (KsReco v1r3)
   . Fixes to Electron and Photon algs (CaloReco v1r2)

</PRE><H1><A NAME=v15r4>2002-12-04 Brunel v15r4</A></H1><PRE>
  >>> This is the last version built against Gaudi v10 <<<
  Next version (for Xmas pre-production) will use Gaudi v11 and CMT projects

 - New tuning:
   . Fine tuning of VTT tracking (VeloTT v1r4)
   . Add material to central OT modules (XmlDDDB v14r3, v252r0 geometry)
   . New velo clustering for L1. Includes common mode noise simulation and
     correction (L1VeloTrack v3r4)
   . Changes to Calorimeter corrections (CaloReco v1r1)
   . Many fixes to OO-Rich (Rich/* packages)
   . New parameterisation and tuning of ST charge sharing (ITAlgorithms v12r5) 
   . Cut on max number of Velo tracks increased to 300 (from 200) (Brunel.opts)

 - New features:
   . Add support for dbase v252r0 (Brunelv252r0.opts)
   . New tools for PID with HCAL (CaloReco v1r1) 
   . Add OO-Rich LocalPID algorithm (RichRecAlgs v1r2)
   . Add Ks reconstruction (KsReco v1r2, PhysEvent v7r2)

 - DST changes:
   . OO-Rich switched off for default production
   . Add V0s

 - Bug fixes:
   . Fix edge problem in Velo detector element (VeloDet v8r1)
   . Fix loop index range (found by valgrind) (PuVeto v5r1)
   . Fix some mismatched new[]/delete to please valgrind (L1Decision v1r3)

</PRE><H1><A NAME=v15r3>2002-11-28 Brunel v15r3</A></H1><PRE>
 - New tuning:
   . Tighten cut on signal/noise of TT clusters (>4) to reduce ghost rate
     (VeloTT v1r3)
   . Exclude backward Velo tracks as identified by VeloTrack, rather than by
     private selection method (VeloTT v1r3)

 - New features:
   . More units supported in job options (GaudiConf v6r5)

 - DST changes:
   . Add ProcStatus to all events (BrunelKernel v5r2, BrunelDst.opts)

 - Bug fixes:
   . Fix typo (wrong array size used, found by valgrind) (MuonDet v4r2)
   . Fix usage of uninitialised variable, found by valgrind 
     (L1Decision v1r2, L1VeloTrack v3r4)
   . Protect against missing L1 Vertex - causing very frequent core dumps
     (L1Decision v1r2)
   . Fix position of wakefield cone (XmlDDDB v14r2)

 - Code cleanup:
   . Remove obsolete component library (CaloSicbCnv v7r3)
   . Release all tools at finalize (L1Decision v1r2)

</PRE><H1><A NAME=v15r2>2002-11-26 Brunel v15r2</A></H1><PRE>
 N.B.: to take advantage of new Rich tuning, new dbase versions are needed:
 To (re)process data produced with dbase v248r4, use dbase v248r5 and Brunelv248r5.opts
 To (re)process data produced with dbase v250r0, use dbase v251r0 and Brunelv251r0.opts
 To (re)process data produced with dbase v250r1, use dbase v251r1 and Brunelv251r1.opts
 The new Rich tuning is not supported for dbase v249r*

 - New tuning:
   . Modified the PuVeto peakValue method to improve peak finding (PuVeto v5r0)
   . Enable cluster filtering: Seeding does not use T station clusters already
     used by Forward tracking (Brunel.opts)
   . Forward tracking: new tuning, two passes (less ghosts with similar 
     efficiency), flag used velo tracks (LongTrack v1r4)
   . Track matching: improve selection of seed and velo tracks, tune chi2 cut
     (TrMatching v2r4)
   . Faster track cleaning (TrCleanEx v2r3)
   . Improvements to L0 Pi0 trigger (L0Calo v6r3)
   . Use TT1 for VTT and Upstream track association to MC (TrAssociators v3r3)
   . New tuning for Rich, use VTT tracks (recrich v7r3, dbase v251r*/v248r5)
     (not available for test data produced with dbase v249r*)
   . Do not pass Velo only tracks to Fortran Rich reco (RiSicbCnv v5r1)
   . L1 Velo tracking adapted to 45 degree Velo sensors (L1VeloTrack v3r3)

 - New features:
   . Add support for dbase v250r0, v250r1 (XmlDDDB v14r1, Seeding v2r3)
   . Add support for dbase v248r5, v251r0, v251r1 (new tuning for recrich)
   . Add L1 Decision code (L1Decision v1r1)
   . Fix OORich to also run on Windows 
     (RichRecKernel v1r1, RichRecEvent v1r1, RichRecAlgs v1r1)
   . Switch off all L1 histograms by default (L1VeloTrack v3r3)
   . New L0+L1 summary table in Brunel log file (L1Decision v1r1)

 - DST changes:
   . Add /Event/Trig/L1/Decision
   . Non-unique Velo, Seed tracks are removed by clone-killer (TrCleanEx v2r3)
 
 - Code cleanup:
   . Minimize printout of job options (*.opts)
   . Repackaging of OO Rich software to fix building of component libraries
     (RichRecInterfaces v1r0, RichRecTools v1r1, RichRecAlgs v1r1, 
      RichMonitor v2r1, Brunel.opts)
   . Use latest versions of SICB packages (detdes v19r0, Futil v12r0)

</PRE><H1><A NAME=v15r1>2002-11-19 Brunel v15r1</A></H1><PRE>

 - New tuning:
   . Add OT straw inefficiency at y=0 (OTDet v3r2)
   . Reoptimisation of Velo tracking (VeloTrack v4r3)
   . New package for the whole chain of Calorimeter digitization, 
     signal processing and zero suppression (CaloDigit v1r0)
   . Use 4th TT hit when possible in VTT tracks (VeloTT v1r2)
   . Improvements in calorimeter S&L corrections (CaloRec v1r0)
   . New calorimeter energy calibration (VeloRec v1r0)
   . Don't digitize unnecessarily 'Next' hits (ITAlgorithms v12r4)
   . Changes in definitions for entries in efficiency table (TrCheck v1r2)
   . Further tuning of forward tracks (LongTrack v1r3)

 - Bug fixes:
   . Fix NaN problem in case no primary vertex found (L1VeloTrack v3r3)

 - New features:
   . Possibility to use units in job options files (GaudiConf v6r4)
   . Calorimeter algorithms and tools do not print the same message after a
     maximum number of times. Default is 10 (CaloKernel v2r1)
   . Take into account time information in Calo digitization (CaloDigit v1r0)
   . Add e+/e- ID with PRS (CaloReco v1r0)
   . Add TT occupancy histos (ITCheckers v1r1)
   . New options file to define monitoring for production jobs (included by 
     default) (BrunelMoniProd.opts)
   . OO Rich global algorithm executed in parallel with Fortran (Linux only)

 - DST changes:
   . Updated list of algorithms in Trig/AlgUsedTimes and added elapsed time 
     measurement. This last change is not backwards compatible: to read 
     AlgUsedTimes from old DSTs must use Event/Event < v2r1
     (Event v2r1, EventSys v12r9, BrunelAlgs v1r6)
   . Add /Event/Rec/Calo/Particles and optional calorimeter ID objects
     /Event/Rec/Calo/HcalE, HcalIDe, HcalIDmu, PrsE, PrsID, EcalID
     These objects are used to build ProtoParticles and will be removed from
     the DST when  ProtoParticle cration is moved to Brunel.
   . Rename CaloClusters2MCParticles to EcalClusters2MCParticles
     EcalCelAutoClusters to EcalClusters, SplitClusters to EcalSplitClusters
   . Add /Event/Rec/Rich/OOPIDs for tests (Linux only, not useful for physics!)

 - Bug fixes:
   . Fix small memory leaks (MuonSicbCnv v6r6, TrIntraPR v2r2)
   . Minor bug fixes for evaluation of cluster spread and covariances
     (CaloUtils v4r3)
   . Minor bug fixes (uninitialised variables) (ITDet v1r2)

 - Code cleanup:
   . Repackaging of Calo software
     New packages: CaloDigit v1r0, CaloRec v1r0
     Removed packages: CaloTools, CaloAlgs, CaloRec, CaloTrackTools  
   . Add default locations and relations factories (CaloEvent v11r3)
   . Version change to force recompilation 
     (CaloSicbCnv v7r2, CaloDet v5r2, CaloDetXmlCnv v2r1, L0Calo v6r2)

</PRE><H1><A NAME=v15r0>2002-11-11 Brunel v15r0</A></H1><PRE>
 - New tuning:
   . Change Silicon Tracker strip pitch from 238 to 198 microns
     (XmlDDDB v14r0, ITAlgorithms v12r3)
   . Add 0.135% random noise to ITDigits (ITAlgorithms v12r3)
   . Cut on both strip threshold and total charge in cluster in ST clustering
     (ITAlgorithms v12r3)
   . Use sensible OT gas drift parameters in seed search (Seeding v2r2)
   . Small changes to Velo Tracking (VeloTrack v4r2)

 - New features:
   . Prepare geometry support for C++ Rich reconstruction
     (XmlDDDB v14r0, RichKernel v1r3, RichDet v3r0)
   . New tool to get S/N of an ST cluster (can be used by tracking algorithms
     to cut on S/N) (ITAlgorithms v12r3)
   . Add support for variable number of Muon stations (L0Muon v6r2, 
     MuonSicbCnv v6r5, MuonAlgs v3r0, MuonRec v2r3, MuonID v3r4, Brunel.opts)
   . Add support for dbase v249r0 and v249r1
   . Restructure options files to simplify switching on/off of monitoring and/or
     DST output. Monitoring histograms off by default (*.opts, BrunelAlgs v1r5)
   . Implement 45 degree Velo sectors. Currently hardwired for strip layout "1"
	   (VeloDet v8r0, Brunel.opts)
   . Possibility to add noise to OT (off by default) (OTAlgorithms v12r1)
   . New methods in Relations (LHCbKernel v1r5)
   . Add VeloBack track type (for backwards going Velo tracks)
     (TrEvent v11r4,TrFitEvent v3r3,VeloTrack v4r2,TrCleanEx v2r3,CaloRec v2r5)
   . Skip "error" tracks in Calo reconstruction (CaloRec v2r5) 

 - Bug fixes:
   . Small fixes in TrFirstCleverExtrapolator (TrExtrapolator v2r3)
   . Small fixes in Velo geometry (VeloDet v8r0)
   . Fix typo in track matching, removes large fraction of large chi2 tracks
     (TrMatching v2r3)

 - Code cleanup:
   . Release all tools (ITAlgorithms v12r3, OTAlgorithms v12r1)
   . Remove obsolete code and unneccessary calls to msgSvc (TrExtrapolator v2r3)
   . Fix some valgrind warnings (VeloAlgorithms v2r4)
   . Add private copy constructor to KeyedObject - keyed objects may not be
     copied, as that leads to duplicate key (EventKernel v2r1, EventSys v12r8)
   . New versions to use new VeloDet
     (PuVeto v4r1, L1VeloTrack v3r2, VeloAssociators v1r3, TrCheck v1r1)

</PRE><H1><A NAME=v14r2>2002-10-31 Brunel v14r2</A></H1><PRE>
 - New tuning:
   . Add dummy Velo state to Match track fit to fix bad chi2 (TrMatch v2r2)
   . Speed up extrapolation using TrHerabExtrapolator instead of
     TrFirstCleverExtrapolator (TrMatch v2r2)
   . Tune forward tracking to find more high momentum tracks (LongTrack v1r2)
   . Modify TrReconstructible definitions (TrAssociators v3r2)
   . Reduce state z position tolerance from 100cm to 50mm (RiSicbCnv v4r6)

 - New features
   . Possibility to add TT hits to Match tracks - switched off in Brunel.opts
     due to high rate of bad chi2 tracks (TrMatch v2r2)
   . Add VeloTT tracks to TrAssociator (TrAssociators v3r2)
   . Improved track monitoring (TrAnalyse replaces FwtAnalyse) (TrCheck v1r0)

 - DST changes:
   . Add L1 Summary to DST (BrunelDst.opts)
   . Add L1VeloTrackAlg to algorithms being timed (BrunelAlgs v1r4)

 - Bug fixes:
   . Fix in SolidSphere (DetDesc v10r5)
   . Fix in calculation of intersection of a line with a cone (DetDesc v10r5)
   . Add missing factories (L1Event v11r1, EventSys v12r7)

 - Code cleanup:
   . Fix a mismatched new[]/delete reported by valgrind (VeloTT v1r1)
   . Remove creation and deletion of an obsolete unused state (TrFitter v3r4)
   . Remove unneccessary TrExtrapolator base class (TrKernel v11r1, 
     TrExtrapolator v2r3, TrFitter v3r5, TrMatching v2r3, UpstreamPR v2r4)

</PRE><H1><A NAME=v14r1p2>2002-10-25 Brunel v14r1p2</A></H1><PRE>
 - Bug fix:
   . Fix bug in TrFirTrack, causing poor efficiency for unique tracks
     (TrFitEvent v3r2)

</PRE><H1><A NAME=v14r1p1>2002-10-23 Brunel v14r1p1</A></H1><PRE>
 - Bug fix:
   . Fix crash when deleting a track after a fit failure (TrFitter v3r3)

 - New feature:
   . When running in batch, Brunel.job picks up executable from user's newmycmt
     rather than from $LHCBSOFT

</PRE><H1><A NAME=v14r1>2002-10-22 Brunel v14r1</A></H1><PRE>
 - New tuning:
   . Add 1% inefficiency in IT, due to dead strips (ITAlgorithms v12r2)
   . Small changes to Velo noise processing (VeloAlgorithms v2r3)
   . Allow association of OTCluster to many MCParticles (OTAssociators v2r2)
   . Improved VeloClusterOnTrack errors (TrFitEvent v3r1)
   . Add dummy state to track fit, to fix bad chi2 on 8% of long tracks
     (TrEvent v11r3, TrFitEvent v3r1, LongTrack v1r1)
   . Tune initial covariance matrix parameters for Kalman filter
     (LongTrack v1r1, TrMatching v2r1)
   . New cuts on estimated track errors, to recover efficiency (TrMatching v2r1)
   . Do not extrapolate tracks outside LHCb volume (TrExtrapolator v2r2)
   . Do not add state closest to beam line if new Z is downstream of first 
     measured point or more than 200mm from Z=0. (TrFitter v3r2)
   . Drop tracks with fit failures (TrCleanEx v2r2)

 - New features:
   . Prepare for dbase v249r* support (MuonDet v4r1, MuonTools v3r1, MuonID v3r3)
   . Add VeloTT tracks (*BEWARE*: requires tuning) (EventSys v12r6, 
     TrEvent v11r3, TrFitEvent v3r1, VeloTT v1r0, TrCleanEx v2r2, CaloRec v2r4) 
   . Get OT digitization parameters from Xml
     (XmlDDDB v13r1, OTDet v3r0, OTAlgorithms v12r0, TrFitEvent v3r1)
   . Possibility to add Xtalk and Random noise to IT. Switched off by default
     (ITAlgorithms v12r2)

 - Bug fixes:
   . Fix usage of uninitialised variables (L1VeloTrack v3r1)
   . Fix a memory leak (LongTrack v1r1)
   . Fix ZFATAL from spillover when no spillover event in first event
     (SicbCnv v17r3)

 - Packaging changes:
   . IT monitoring moved to a new package (ITCheckers v1r0, BrunelMoni.opts)
   . TrTrack moved out of TrEvent package into TrFitEvent package
     (EventSys v12r6, TrEvent v11r3, TrFitEvent v3r1)

</PRE><H1><A NAME=v14r0>2002-10-14 Brunel v14r0</A></H1><PRE>
 - New tuning:
   . Improvements to Forward tracking (LongTrack v1r0, Brunel.opts)
   . Improvements to Velo tracking for K0s (VeloTrack v4r1)
   . Tune Velo noise and signal/noise cuts
     (VeloKernel v1r2, VeloAlgorithms v2r2, VeloTrack v4r1)
   . Improvements in Upstream tracking 
     (TrTools v2r1, TrIntraPR v2r1, UpstreamPR v2r2)
   . Improved L1 Velo tracking algorithm (L1VeloTrack v3r0)
   . ITAssociators allow MCParticles to share ITClusters (ITAssociators v2r1)

 - New features:
   . Add geometry support for Muon with MWPC, with/without M1
     (XmlDDDB v13r0, MuonDet v4r0)
   . Use latest versions of packages (changes not affecting Brunel)
     (CaloAssociators v3r0)

 - DST changes:
   . Replace FwtFind with FindLongTrack in AlgUsedTimes (BrunelAlgs v1r3)
   . Add a track state at the Z of nearest approach to the beam to Forward and
     Match tracks (TrFitter v3r1, Brunel.opts)

 - Bug fixes:
   . Scan also L1Track2d2MCP when selecting MCParticles to be saved to DST. 
     Should fix crashes when writing DST (15% of signal jobs) (BrunelAlgs v1r3)
   . Fix VeloCluster to MCHit association ambiguity
     (EventSys v12r5, VeloEvent v11r1, VeloAssociators v1r2, L1VeloTrack 2r3)
   . Fix a bug in debug printout (MuonID v3r2) 
   . Use same track state for Fortran back conversion and subsequent comparison 
     (RiSicbCnv v4r5)
   . Remove some wrong consistency checks (VeloDet v7r1)

</PRE><H1><A NAME=v13r2>2002-10-08 Brunel v13r2</A></H1><PRE>
Bug fix release for reprocessing of summer production
Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)

 - New tuning:
   . Tune L0 thresholds (L0DU v6r1)
   . Change OT dead time from 30 to 50 ns (OTAlgorithms v11r1)
   . Associate decaying tracks (TrAssociators v3r1)
   . Select unique tracks for Rich reconstruction (RiSicbCnv v4r4) - should
     reduce effect of cut on 300 tracks
   . Tune spillover parameters for IT (ITAlgorithms v12r1)
   . Allow for dead region between IT wafers (ITDet v1r1)

 - New features:
   . Support for valgrind memory checking tool (job/Brunel.supp, valgrind.job)
   . Prepare for variable number of Muon stations in XML
     (MuonTools v3r0, MuonSicbCnv v6r4, MuonID v3r1, L0Muon v6r1)

 - Bug fixes:
   . Random number engine initialisation (GaudiSvc v8r4).
     With this fix, and with initialisation of random numbers at every event
     (Brunel.opts) reconstruction is reproducible when starting at any event,
     even when doing spillover
   . Distance of stagger in wafers of TT1 layers was 2x too big (ITDet v1r1)
   . Missing [] in delete (SicbCnv v17r2, RiSicbGeom v2r3, VeloTrack v4r0p1)
   . Test iterator not at end before accessing it (TrCleanEx v2r1)
   . Fix uninitialised variables in L0MuonCandidate 
     (EventSys v12r4, L0Event v12r2)
   . Test L0MuonCandidate status (L0DU v6r1)
   . Remove uninitialised and unused variable (L1VeloTrack v2r2) 
   . Fix ProcStatus default path and add to DST 
     (EventSys v12r4,TrEvent v11r2, VeloTrack v4r0p1, Seeding v2r1, FwTrack v4r2)
   . Fixes in Muon MC truth (SicbCnv v17r2, MuonSicbCnv v6r4)
   . Fixes for Muon cross-talk calculation (MuonDet v3r2)
   . Fixes to readout and layer bits in MuonTileID (MuonRec v2r2)
   . Fix track fit 'smoother problem' (-ve covariances) (TrExtrapolator v2r1) 
   . Use fabs instead of abs for doubles. Should fix overlapping volumes and 
     other problems on Windows (DetDesc v10r4, RiSicbGeom v2r3, RiSicbCnv v4r4,
     CaloDet v5r1, CaloUtils v4r2, CaloTools v4r4)
   . Fixes to digitisation of IT stereo layers (ITDet v1r1, ITAlgorithms v12r1)
   . Add protection against invalid argument to ACOS (recrich v7r2)
   . Do not consider events where tracking is skipped (> 200 Velo tracks) 
     for tracking efficiency statistics (FwTrack v4r2)

 - Geometry changes (XmlDDDB v12r5):
   . Fix overlap between Velo and Rich1
   . Complete vertical Rich1 description
   . Velo fixes and optimisation

 - Fixed memory leaks:
   . CaloHypo destructor was not deleting its CaloPosition and CaloMomentum
     (EventSys v12r4, CaloEvent v11r2)

 - Code cleanup:
   . Apply coding conventions, document (OTDet v2r2, OTAssociators v2r1)
   . OTCluster2MCHitAlg now uses OTCluster2MCDepositAlg (OTAssociators v2r1)
   . Remove need for OTInitialization alg. (OTAlgorithms v11r1, Brunel.opts)
   . Release tools at finalize (Seeding v2r1, FwTrack v4r2)

</PRE><H1><A NAME=v13r1>2002-07-30 Brunel v13r1</A></H1><PRE>
Release of Brunel for summer 2002 production.
Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)

 - DST changes:
   . MuonDigit::TimeStamp is now filled (MuonAlgs v2r2)

 - Tuning
   . Modify jitter in Muon MWPC readout (XmlDDDB v12r4)

 - Fixes:
   . Initialise random number once per job, using run number as seed
     (BrunelKernel v5r1)
   . Add protections against tracks with missing states
     (RiSicbCnv v4r3, recrich v7r1)
   . Fix double deletion of Calo Relations
     (LHCbKernel v1r4, CaloAssociators v2r2, CaloRec v2r3)
   . Small fixes to Muon Digitisation
     (EventSys v12r2, MuonSicbCnv v6r2, MuonAlgs v2r2)
   . Fix potential memory leaks, improve protections for pointer dereferencing
     (RiSicbCnv v4r3, RichMonitor v1r2)


</PRE><H1><A NAME=v13r0>2002-07-25 Brunel v13r0</A></H1><PRE>
Third release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)
Complete OO-Dst output.

 - Functionality changes:
   . Needs dbase v248r4 (Brunelv248r4.opts added, *v248r2.opts removed)
     > Default input file changed (previous default had problem with PASS bank)
   . SpillOverAlg executes as first algorithm in Digi phase 
     (SicbCnv v17r1, Brunel.opts)
   . Add Spillover support to Rich 
     (EventSys v12r0, SicbCnv v17r1, RiSicbCnv v4r2, recrich v7r0, Brunel.opts)
   . Use all tracks except Velo-only for Rich PID 
     (RiSicbCnv v4r2, recrich v7r0)
   . Add histogram for virtual memory usage (SicbCnv v17r1)
 
 - DST changes:
   . 'err' on 2d tracks now means 45 degree subsector (L1VeloTrack v2r1) 
   . Write all MuonCoords to DST (remove filtering), do not write MuonDigits
     (BrunelAlgs v1r2, BrunelDst.opts)

 - Fixes:
   . Fix pi0 mass (CaloTools v4r2, CaloRec v2r2)
   . Fix Rich2 position (XmlDDDB v12r3)
   . Fix units for crosstalk region in Muon (XmlDDDB v12r3)
   . Fix Pt encoding in L0MuonCandidate (EventSys v12r0)
   . Fix memory leaks (RiSicbCnv v4r2, RiSicbGeom v2r2)
   . Fixes to run on Windows
     (CaloTools v4r2, UpstreamPR v2r1, MuonID v2r1, RiSicbCnv v4r2, FwTrack v4r1)
   . Fix problem of inconsistent Velo numbering between SICBMC and Brunel
     (VeloSim v2r1)
   . Fix multiple tool initialisations (RiSicbCnv v4r2, RiSicbGeom v4r2)
   . Move a log message to save ~30ms per event (OTDet v2r1)
   . Latest Gaudi bug fixes (GaudiSvc v8r3)

</PRE><H1><A NAME=v12r0>2002-07-19 Brunel v12r0</A></H1><PRE>
Second release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r2
Complete OO-Dst output.

 - New Functionality:
   . Add refit to upstream tracks (UpstreamPR v2r0)
   . New ProcStatus class to hold the abort condition of an event, and
     the list of algorithms with bad status (TrEvent v11r1, EventSys v11r1)
     Processing aborted if:
      > 200 VeloTracks found (and set ABORT flag) (VeloTrack v4r0)
      > 1000 hits in a tracking sector (Seeding v2r0)
     Do not process if ABORT flag set (Seeding v2r0, FwTrack v4r0)
   . New Velo digitisation used also for PuVeto, remove PuVetoDigit 
                                                 algorithm and VeloDigit DLL
     (VeloAlgorithms v2r0, VeloDet v7r0, PuVeto v4r0, Brunel.opts)
   . Improvements to Clone Killer (TrFitEvent v3r0, TrCleanEx v2r0)
   . New tool for combined SPD/PRS single photon ID 
     (CaloTools v4r1, CaloInterfaces v2r2)
   . Use all track types for matching in Calo (CaloRec v2r1)
   . Check that RichPIDs refer to correct track container (RichMonitor v1r1)

 - DST changes:
   . Save ProcStatus (BrunelDst.opts)
   . Store PuVeto multiplicities in L0PuVeto::sTot (PuVeto v4r0)
   . Save L1Track2d2MCP (BrunelDst.opts, BrunelMoni.opts)
   . Save MuonDigits and MuonDigits2MCParticles (BrunalAlgs v1r1, BrunelDst.opts)
   . New RichDSTPrepare algorithm to fix PID SmartRefs on DST
     (RiSicbCnv v4r1, Brunel.opts)
   . Set track charge according to sign of momentum 
     (FwTrack v4r0, TrMatching v2r0)

 - Tuning:
   . Forward tracking, improved TT1 matching, monitor efficiency (FwTrack v4r0)
   . Pt Kick tuned and now used (TrTools v2r0, Seeding v2r0)
   . Adjust fit parameters to fix negative covariance 
     (Seeding v2r0, TrMatching v2r0, UpsrteamPr v2r0))
   . Matching (TrMatching v2r0)
   . Velo digitisation (VeloKernel v1r1, VeloAlgorithms v2r0)
   . L1VeloTrack parameters (L1VeloTrack v2r0)

 - Fixes:
   . Fix memory leaks and/or missing constructors/destructors in:
       VeloSim (VeloAlgorithms v2r0)
       TrSeedEvent (Seeding v2r0)
       TrLayerPartition, RoI (TrIntraPR v2r0)
       FwtFitParams (FwTrack v4r0)
       Calo Event classes (CaloEvent v11r1)
       CellularAutomaton, CaloDigitsFilterAlg (CaloAlgs v7r1)
   . Fix for "looping" in upstream tracking (TrIntraPR v2r0) 
   . Fix compilation on Windows (TrIntraPR v2r0, TrUpstreamPR v2r0)
   . Fix crash when printing statistics for zero events (FwTrack v4r0) 
   . Fix Velo numbering scheme (VeloDet v7r0, VeloTrack v4r0, L1VeloTrack v2r0)
   . Change to AssociatorBase class to always produce output table at correct 
     location (LHCbKernel v1r3)
   . Bug fixes in Gaudi+ROOT I/O (ROOT v2r303p0, GaudiRootDb v9r0, GaudiDb v8r1) 
   . Fixes to Velo, Muon, Rich1, Rich2 geometry overlaps (XmlDDDB v11r2)
       TransportSvc reports any remaining overlaps (BrunelMessage.opts)
   . Fixes to OutputLevel (many algorithms, and BrunelMessage.opts)

 - Change requirements files for version consistency:
   (VeloAssociators v1r1, TrAssociators v3r0, TrFitter v3r0, L0Calo v6r1, 
    CaloSicbCnv v7r1, CaloAssociators v2r1, CaloUtils v4r1, CaloTrackTools v1r4,
    CaloMonitor v1r1)


</PRE><H1><A NAME=v11r0>2002-07-09 Brunel v11r0</A></H1><PRE>
Release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r2
Complete OO-Dst output.

! 2002-07-09 - Marco Cattaneo
 - Use latest improvements to recrich (v6r2)
 - Drop Velo relations to MCParticles of Spillover events
 - Add Brunelv248r2.opts, remove Brunelv248r1.opts

! 2002-07-08 - Marco Cattaneo
 - Add pre-selection of tracks for Rich (currently forward tracks from Tr/Best)
 - Calo PID now uses Tr/Best tracks as input
 - Tr/Forward container suppressed
 - Fix L0 muon and muon PID efficiency (bug fix in muon digitization)
 - Adapt tracking to ITDet Xml geometry
 - Seeding only always returns best choice for L/R ambiguity on OT
 - Track fit sorts measurements by increasing Z prior to fit
 - Drop support for dbase < v248r0

! 2002-07-05 - Marco Cattaneo
 - Upstream tracks saved on DST in Tr/Best container
 - MuonID performed on all "unique" long tracks in Tr/Best container
 - IT Digitisation now uses XmlDDDB, can process data from new TT1
 - Skip Rich reconstruction in events with more than 300 forward tracks

   DST is now complete, except for:
   . filtering of tracking clusters not used by tracks

! 2002-07-04 - Marco Cattaneo
 - Add upstream tracking. Algorithm executed but output not yet saved
 - Fix and enable filtering of MCParticles/MCVertices
 - Improve handling of Muon background in Sicb converters

! 2002-07-02 - Marco Cattaneo
 - Add TimingAlg in new Timing sequence at end of Reco phase
 - use latest Gaudi bug fix release
   (GaudiKernel v12r3, GaudiSvc v8r2, GaudiRootDb v8r1)
 - Use latest version of TrAssociators, produces Tr2MCP relation

! 2002-07-01 - Marco Cattaneo
 - Add L1 monitoring and Truth information
 - Add L0 Truth information
 - Disable filtering of MCParticles/MCVertices (not working with Spillover)
 - Output Tr/Best tracks in "flag" mode (contains a copy of all track types,
   with clones flagged, not killed) and  suppress creation of Tr/Seed, Tr/Velo,
   Tr/Match containers

! 2002-06-28 - Marco Cattaneo
 - Add "new" seeding algorithm
 - Add filter of MCParticles and MCVertices
 
! 2002-06-27 - Marco Cattaneo
 - Add track clone killer. Currently all track types are saved, plus a
   copy of these tracks as selected by the clone killer

! 2002-06-25 - Marco Cattaneo
 - Add Muon OO digitization, and remove Fortran version
 - Add L1 tracking
 - Add VeloMatch track monitoring
 - Add support for dbase v246r0

! 2002-06-21 - Marco Cattaneo
 - Add latest Calorimeter code. 

! 2002-06-19 - Marco Cattaneo
 - Add Rich digitisation and reconstruction (only for dbase v245r0 or greater)

! 2002-06-18 - Marco Cattaneo
 - Add Track seeding and Velo Matching (without persistency for now)

! 2002-06-11 - Marco Cattaneo
 - Add a new BrunelOutput phase, in which to run algorithms that prepare the
   data store for DST output (filters, relations etc.)

! 2002-06-07 - Marco Cattaneo
 - Change version to v11r0 to use new versions of Event Model, OTDet etc.
 - Remove obsolete options files BrunelTrSiTT12.opts, BrunelTrOtItTT1.opts

! 2002-06-07 - Marco Cattaneo
 - Add support for dbase v245 (without RICH for now)

</PRE><H1><A NAME=v10r0>2002-06-04 Brunel v10r0</A></H1><PRE>
Pre-release of Brunel using new event model, in preparation for summer 2002
production

   >>>>>> Supported geometries:
     - LHCb-Light detector with split TT1:
           dbase v243r1p1 (Silicon only split TT1)
           dbase v243r3   (IT+OT split TT1)
       Previous databases are not supported.
       Support for later databases will be added as data becomes available

   >>>>>> Current functionality:
     - Inner Tracker digitisation and clustering
     - Outer Tracker digitisation and clustering
     - Velo digitisation and standalone tracking
     - Forward track finding, fitting, conversion to StoredTracks
     - Conversion of StoredTracks to AXAT/AXTP banks (for RICH reconstruction) 
     - RICH Digitisation (old SICB Fortran version)
     - Calo digitisation and clustering
     - MUON Digitisation (old SICB Fortran version), reconstruction, MuonID
     - L0 trigger simulation
     - OO-DST output

   >>>>>> Missing functionality:
     - L1 trigger simulation
     - Upstream tracking
     - Rich reconstruction and PID
     - Calo PID
     - Correct XML geometry for Rich1, Rich2

   >>>>>> Existing DST content:
     EventHeader, GenHeader
     Collisions, MCParticles, MCVertices
     L0CaloCandidates, L0MuonCandidates, L0PuVeto, L0DUReport
     VeloClusters
     RichDigits
     ITSummary, ITClusters, ITClusters2MCParticles relation
     OTClusters
     TrStoredTracks and corresponding TrStates and TrMeasurements
     EcalCelAutoClusters,EcalLocMaxClusters
     MuonID, MuonCoords (filtered, only if used by MuonID)

   >>>>>> Missing DST content/functionality:
     L1 output
     RICH PID
     CALO PID
     Filtering of MCParticles, MCVertices
     Filtering of ITClusters, OTClusters
     Relations to MCParticle (needed set to be decided)
 

   Backwards incompatible version for use with the new event model.
   All Fortran support removed, except for:
        RICH digitisation and reconstruction.
        MUON digitisation.

   Suppressed BrunelFinalFit phase for the time being

   In job/Brunel.job
   - Script cleaned up, improved behaviour in interactive mode

   In options
   - All files touched to support new event model algorithms
   - New file BrunelDst.opts to set up DST output
   - All files corresponfin to unsupported dbases removed

   In cmt/requirements
   - use Gaudi    v10 and corresponding external packages
   - use EventSys v10r0 Event (new Event model)
   - remove all SICB dig*, tr*, rec* packages, except digmuon, recrich

   - use ITAlgorithms  v10r0 IT
   - use ITAssociators  v1r0 IT
   - use OTAlgorithms  v10r0 OT
   - use OTAssociators  v1r0 OT
   - use VeloDigit      v2r0 Velo
   - use VeloTrack      v2r0 Velo
   - use TrFitEvent     v1r1 Tr 
   - use TrAssociators  v1r0 Tr
   - use FwTrack        v2r0 Tr
   - use TrFitter       v1r0 Tr
   - use TrExtrapolator v1r0 Tr
   - use MuonTools      v2r0 Muon
   - use MuonRec        v1r0 Muon
   - use MuonID         v1r0 Muon
   - use CaloInterfaces v2r1 Calo
   - use CaloUtils      v2r2 Calo
   - use CaloTools      v2r0 Calo
   - use CaloAlgs       v5r1 Calo
   - use L0Calo         v5r0 L0
   - use L0Muon         v5r0 L0
   - use PuVeto         v2r0 L0
   - use L0DU           v5r0 L0

! =================================================================
</PRE><H1><A NAME=v9r1p1>20020419 Brunel v9r1p1</A></H1><PRE>
   - Brunelv243r3.opts: fix typo in included filename
     (#include "$BRUNELOPTS/BrunelTrOtItTT1.opts" was ItOt)

! =================================================================
</PRE><H1><A NAME=v9r1>20020320 Brunel v9r1</A></H1><PRE>
   Adds support for dbases v243r3, v243r1p1 (comparative study of TT1 options). 
   Includes several bug fixes (see below)
 
   In options
   - Brunelv243r3.opts, BrunelTrItOtTT1.opts: new files to support dbase v243r3
   - Brunelv243r1p2.opts: new file to support dbase v243r1p2
   - BrunelTr*.opts all touched to make them consistent with new files above
   - Brunel.opts: enable Calorimeter OO reconstruction (without persistency)
   - BrunelMoni.opts: disable ITDigitMonitor (crashes for dbase v243r3)

   In requirements
   - use LHCbEvent    v12r2 Event
     AxPartCandidate.h - initialisation-value for m_fitCovariance set to (6,0).
                         (needed by serializers)

   - use ITEvent      v7r2  Event
      Bug fixes in ITDetectionLayer and ITChannelID, should solve problem 
      of missing hits reported by O. Callot
   - use ITAlgorithms v8r1  IT
      Bug fixes in ITDigitCreator, Add ITDigitEffMonitor class

   - use CaloEvent    v7r1  Event
      fix problems with std::maps on Win2K 
   - use CaloAlgs     v4r3  Calo
      fix problems with std::maps on Win2K
      fix the CPU problems with sorting of very large containers 
             (substutute std::sort with std::stable_sort)

   - use Velodet      v3r1  Det
    . Change the 'type' of the wafers, to handle properly the separation between
      left and right detectors, this was not done for R and was incorrect for 
      Phi. The result was an inefficiency in the overlap region (vertical).
    . Fixes a few minor problems of boundary, by increasing tolerances to see
      if a hit is compatible with a region of the other detector.
    . When matching R-Phi, if the slope from the nominal vertex is too big,
      one use an extrapolation parallel to the Z axis and an increased tolerance.

   - use simmubg      v5r3  SICB
      murwhits.F - Bug fix : The original (before muon background addition) 
                   number of ATMC objects in the last partition (pile-up event) 
                   is now correctly counted.
      
! =================================================================
</PRE><H1><A NAME=v9r0>2002025 Brunel v9r0</A></H1><PRE>
   Upgraded to use Gaudi v9
   Added VELO digitisation, VELO tracking
   Added Forward tracking
   Added L0 pileup veto
   Added TT1 to IT reconstruction
   --> Use this version to reconstruct data produced with dbase v240 to v243r1

   Functionality changes
   ---------------------
   In src
   - BrunelMain.cpp: new main program, to set up job options path.
       Job options path is set according to the following precedence rules:
       1. argument given to Brunel.exe
       2. value of JOBOPTPATH environment variable
       3. "$BRUNELOPTS/Brunel"+dbver+".opts", where dbver is the SICB database
          version number, taken from $LHCBDBASE
 
   In options
   - Restructuring of options files: one main file per supported database version
     includes Brunel.opts, includes database specific files, and should be
     modified for user definitions (including I/O specification)
   - Brunel.opts: suppress printout of options from included subdetector files
                  add BrunelSicbInit to TopAlg list
                  add Calo reconstruction
                  add Velo digitisation and tracking
                  add PuVeto to L0 trigger
                  Remove L0SicbCnv
   - Brunel<dbver>.opts (dbver=v240, v240r1, v241, v242, v242r1, v243r1): 
       Main options file for supported databases
   - BrunelTrLight.opts, BrunelTrMinus.opts, 
     BrunelTrCrossTT1.opts, BrunelTrTT1.opts, BrunelTrTT12.opts:
       Database specific options for tracking
   - BrunelInputs.opts, BrunelUser.opts, BrunelStatic.opts
       Obsolete files, removed.

   In BrunelSicb
   - BrunelSicbInit: new algorithm with SICB specific initialisation.
   - BrunelInitialisation: moved to Brunel Kernel
   - BrunelInit.F: Seeds of SICB random number engine (RanEcu) initialised 
                   at every event with run number and event number.
   - btrigger.F: Fix timing problem with t1track code
   - richprod.F: Local version, to remove call to axtrigger

   In BrunelKernel
   - BrunelInitialisation.cpp: 
      . Seed of Gaudi random number engine (RanLux) initialised every event: 
          100000*(event no. % 20000) + (Run no. % 100000)
      . Create event data store directory nodes:
         /Event/Raw, /Event/Rec, /Event/Trig, /Event/Trig/L0

   First version of forward tracking. Currently executing in parallel to
   standard tracking, output not saved. New packages:
     use Det/VeloDet    v3r0
     use Velo/VeloDigit v1r0
     use Velo/VeloTrack v1r1
     use Tr/FwTrack     v1r1
   
   Added C++ PileUp Veto code, uses Velo TDR geometry from XmlDDDB. 
     use L0/PuVeto      v1r0

   C++ L0 decision available in new event model (not yet persistent)
     use Event/EventKernel v1r0
     use Event/L0Event     v10r0
     use L0/L0Calo         v4r0
     use L0/L0DU           v4r0
     Removed SICB/L0SicbCnv

   Prepare for Calorimeter C++ reconstruction (not yet executed)
     use Calo/CaloTools   v1r1
     use Calo/CaloCA      v3r1
     use Calo/CaloAlgs    v4r1

   All Silicon TT1
    use ITEvent      v7r1
    use ITAlgorithms v8r0

   Create empty containers if corresponding SICB banks are missing
     use SICB/SicbCnv   v15r1
     use SICB/VSicbCnv  v6r1

   Additional changes for Gaudi v9 
   -------------------------------
   In job
   - Brunel.job: pass job options path as argument to executable

   In requirements
    use GaudiConf    v6r2  (was v5)
    use GaudiSys     v9r0  (was v8)
    use HbookCnv     v11r0 (was v10r1)
    use BrunelKernel v3r0  (was v2)
    use BrunelSicb   v2r0  (was v1)
    use TrKernel     v6r0  (was v5r1)
    use CaloKernel   v1r0  (was CaloGen v2)
    use DetDesc      v9r2  (was v7)
    use XmlDDDB      v8    (was v6r1)
    use CaloDet      v3r0  (was v3r0)
    use LHCbEvent    v12r1 (was v11)
    use VeloEvent    v6r0  (was v5)
    use OTEvent      v7r0  (was v6r1)
    use TrEvent      v7r1  (was v6r1)
    use CaloEvent    v7r0  (was v6)
    use CaloSicbCnv  v5r1  (was v4)
    use MuonSicbCnv  v4r0  (was v3)
    use TrSicbCnv    v4r0  (was v3)
    use L0Muon       v4r0  (was v3r1)
    use OTAlgorithms v7r0	 (was v6)
    use TrAlgorithms v7r1  (was v6r2)
     
! =================================================================
</PRE><H1><A NAME=v8>20011017 Brunel v8</A></H1><PRE>
   Major repackaging, no major change in functionality:
   - all source files have been removed and moved to new Rec/BrunelSicb package
   - version number is set by a compiler define flag in the requirements file
   - same Brunel version can read data produced with multiple dbase versions,
     starting from dbase v240

   In job
   - Brunel.job: Remove unsetenv LD_LIBRARY_PATH

   In options
   - Remove LHCbLight.opts (moved to dbase v241)
   - Brunel.opts: include $LHCBDBASE/options/Brunel.opts

   In cmt/requirements
   - remove use dbase ($LHCBDBASE to be set externally)
   - add macro_append fflags

   - use BrunelSicb   v1   Rec
       in src/Lib/BrunelDigiMUON.cpp : default now to not add muon background.
                                       Due to bug in MURMBG if background was 
                                       already added by SICBMC
   - use TrKernel     v5r1 Tr
       remove virtual from state getZ member
   - use ITEvent      v6r1 Event
       Remove memory leak
   - use OTEvent      v6r1 Event
       bug fix - due to inconsistent numbering, wires were skipped at edge
                 of a module
   - use TrEvent      v6r1 Event
       Reserve space in vectors of measurements/states inside track classes
       Should save time
   - use TrAlgorithms v6r2 Tr
       remove obsolete fortran runga kutta routine
       tidy the code up a bit
       minor optimizations to speed up the code alittle
   - use TrSicbCnv    v3   SICB
       requirements - use TrEvent v6*
! =================================================================
</PRE><H1><A NAME=v7r1>20010913 Brunel v7r1</A></H1><PRE>

   In cmt/requirements
     use TrAlgorithms v6r1 Tr
     - fix a memory leak in TrFitIntializer

     use rechcal      v6r1 SICB
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v7>20010904 Brunel v7</A></H1><PRE>
  This version is to be used for data produced with SICBMC v248/dbase v241
  ("LHCb-Light")

  It consists of the same code as v6, but uses a different geometry.

  In options/
   LHCbLight.opts - new file to set up LHCb-Light tracker geometry
   Brunel.opts    - include LHCbLight.opts

  In cmt/requirements
  ===================
  use dbase v241 SICB
    standard.stream - use new pipe and velo
      
    vsrp.cdf and vpil.cdf - Thickness of the RF shield and 
                            silicon detectors changed (J. Palacio)
    field042.cdf - introduce field in Velo (G. Corti)
    magnet.cdf   - remove rich 1 shielding plate (M. Needham)
    rich.cdf     - remove aerogel, reduce radiation thickness of mirror 
                   and supports (J. Libby)
    witr.cdf, wotr.cdf, wsta.cdf - 
                   reduce number of tracking stations to 4 (M. Needham)
    pipe8.22.cdf - Be first section (G. Corti)

! =================================================================
</PRE><H1><A NAME=v6r1>20010913 Brunel v6r1</A></H1><PRE>
   In cmt/requirements
     use TrAlgorithms v6r1 Tr
     - fix a memory leak in TrFitIntializer

     use rechcal      v6r1 SICB
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v6>20010904 Brunel v6</A></H1><PRE>
  This version is to be used for data produced with SICBMC v247/dbase v240
  ("LHCB-classic", tracker cross-geometry)

  In options/
   Brunel.opts
     Remove tracking ErrorMax options (fixed in tracking code)
   BrunelMessage.opts
     Name of TrEventTracksFitter algorithm changed to trFit

  In cmt/requirements
  ===================
  use dbase v240 SICB
    20010821 - dbase v240
     cdf/     changes for tracking cross geometry, 
              increase thickness of OT stations to 3%,
              remove stations 4 and 11,
              add pipe7.22.cdf (new pipe from G.Corti)
     standard.stream - reads pipe7.22.cdf             
    20010625 - dbase v239r1
     beamrawh3_v2.cdf   - this file must be read in to produce RAWH3: 
                          the luminosity is fixed to 5.0x10^32
     standard.stream    - reads beamrawh3_v2.cdf

  use detdes v14 SICB
   20010821 - detdes v14 (M.Needham)
     backwards incompatible changes for new tracker cross geometry.

  use ITEvent      v6     Event
    Changes for new cross geometry
    Remove triple gem code

  use OTEvent      v6     Event 
    backwards incompatible changes for cross geometry  
    insure channels number from one everywhere
    reserve space in internal vector of OTLayer object - should save time

  use TrEvent      v6     Event
    add copy constructer to TrTrueTrack
    retune ITHitOnTrack error

  use ITAlgorithms v6     IT
    new version for cross geometry

  use OTAlgorithms v6     OT
    Changes for the cross geometry of OT
    Remove some unnecessary calls to msgstream in tools
    Changes in OTDigitize to speed things up (suggested by Markus)
    Delegate new to tool in OTHitsCreator

  use TrAlgorithms v6     Tr
    Changes for cross geometry, clean-up of code

  use L0DU v2r1 L0
  - Modify L0DUReport to be a DataObject (only one in the output)
  - Store the L0DUReport in the Transient store, this wasn't done !

! =================================================================
</PRE><H1><A NAME=v5r2>20010913 Brunel v5r2</A></H1><PRE>

   In cmt/requirements
     use rechcal v6r1
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v5r1>20010824 Brunel v5r1</A></H1><PRE>

   In cmt/requirements
     use XmlDDDB v6r1
     - Fix the SPD Et slope: Was 2 GeV, should be 2 MeV !!!!

     use SicbCnv v13r1
     - Protections in book-keeping database queries

! =================================================================
</PRE><H1><A NAME=v5>20010821 Brunel v5</A></H1><PRE>

   In src/BrunelSicb/
   -----------------
   BrunelInitialisation.cpp - make sure Raw and Rec sub-event roots are created
   dropbanks.F - do not drop E1RW bank (needed to generate MCSensPlaneHit)
 
   In options/
   -----------
   BrunelMessage.opts - set global output level to WARNING or above, over-ride
                        it for ChronoStatSvc to print final statistics
                      - set output level of some tracking algorithms to ERROR,
                        to suppress excessive printing in production
   Brunel.opts - Set ErrorMax of tracking algorithms to 1000, to prevent
                 program stopping wih 'missing container' on empty events

   In cmt/requirements
   -------------------
   >>> Bug fixes and physics changes <<<

   use trivert v5r3
    vth1.F - Fix problem due to 90 degree roration on VELO. (Hans Dijkstra)

   use XmlDDDB v6
    - put correct calibration Hcal parameters (calculated by O.Iouchtchenko)
    - Change the HCAL ActiveToTotal parameter form 55 to 40
    - Fix the 'ActiveToTotal' parameter for Ecal, after calibration with 
      SICBMC v241 data plus Signal and Digit processors

   use L0Muon v3r1
    - Fixed bug in the CreateTower procedure for the cases of crossing the 
      boundary between regions; 
    - All the numbering for quarters/regions/indices starts from 0. 
  
   use CaloAlgs v3 (was v2)
    - Several bug fixes and reorganisation of histograms (see release notes)

   use SicbCnv  v13
    SicbMCEventCnv - set m_pileUp to number of PASS banks 
  
   use CaloSicbCnv  v4
    - Fix bug in SicbCaloDigitCnv, SummedDeposit were not linked to the digits
    

   >>> Remaining changes are for upgrade to Gaudi v8, LHCb v8
   >>> Should not affect physics functionality
   >>> See corresponding release notes for details

   use GaudiPolicy  v5     (was v4)
   use GaudiSys     v8     (was v7r2)
   use HbookCnv     v10r1  (was v9)
   use CERNLIB      v2001  (was v2000)
   use BrunelKernel v2     (was v1)
   use DetDesc      v7     (was v6)
   use XmlDDDB      v6     (was v5)
   use CaloDet      v2r1   (was v1)
   use LHCbEvent    v11    (was v10)
   use L0Event      v3     (was v2)
   use ITEvent      v5     (was v4)
   use OTEvent      v5     (was v4)
   use TrEvent      v5     (was v4r1)
   use CaloEvent    v6     (was v5)
   use VeloEvent    v5     (was v4)
   use L0Calo       v2     (was v1)
   use L0Muon       v3r1   (was v2)
   use L0DU         v2     (was v1)
   use CaloGen      v2     (was v1)
   use CaloAlgs     v3     (was v2)
   use TrKernel     v5     (was v4)
   use ITAlgorithms v5     (was v4)
   use OTAlgorithms v5     (was v4)
   use TrAlgorithms v5     (was v4r1)
   use SicbCnv      v13    (was v12)
   use CaloSicbCnv  v4     (was v3)
   use L0SicbCnv    v3     (was v2)
   use MuonSicbCnv  v3     (was v2)
   use TrSicbCnv    v2     (was v1)
   use VSicbCnv     v5     (was v4)
   use GDUMMY       v1r5   (was v1r4)

! =================================================================
</PRE><H1><A NAME=v4>20010629 Brunel v4</A></H1><PRE>
   Add C++ L0 trigger simulation
   Remove old L0_2x2 simulation

   In options/
   -----------
   Brunel.opts     - include Brunel.opts from L0CALO, L0MUON, L0DU
                     Add DLLs L0SicbCnv, MuonSicbCnv 
   BrunelMoni.opts - Add CALO and TRIGGER to BrunelMoni.DetectorList 
   
   In src/BrunelSicb/
   ------------------
   trigger.F - remove call to L0_2X2

   In cmt/requirements
   -------------------
   add  use of L0Calo (v1), L0Muon (v2), L0DU (v1), L0Event (v2)
               L0SicbCnv (v2), MuonSicbCnv (v2)

   use Futil v10r3
>   ubdropobj - new routine to drop the LAST object in a given partition

   use simmubg v5r2

>  murmsingle.F  - all 4 routines now add the atmc references to the last
>  murmmulti.F   - atmc partition.
>  murmscomp.F   -   
>  murmmcomp.F   -
>
>  The routine murmbg.F now uses a new Futil (v10r3) routine, mudropobj.F to
>  correctly remove background ATMC objects.
>
>  murmbg.F      - Calls ubdropobj.F to remove background ATMC references.
>
>  murmsingle.F  - Extra debug messages added to catch problems 
>  murmmulti.F   - with too many ATMC objects (>10000).
>  murmscomp.F   -   
>  murmmcomp.F   -


===============================================================================
</PRE><H1><A NAME=v3r3>20010625 Brunel v3r3</A></H1><PRE>
   Add possibility to add muon background (switched on by default)

   In src/BrunelSicb/
   ------------------
   BrunelDigiMUON.cpp - add conditional calls to MURMBG, MUBACKGROUND, steered
                        by addBkg job option (called by default)
   BrunelDigiMUON.h   - add private member m_addBkg

   In options/Brunel.opts - add BrunelDigiMUON.addBkg = true;
   ----------------------

   In cmt/requirements
   -------------------
     use dbase v239
>  standard.stream - new MUGB and MUBC muon background parametrization files
>                    (P.Colrain)

     use simmubg v5
>  package to generate muon background
===============================================================================
</PRE><H1><A NAME=v3r2>20010620 Brunel v3r2</A></H1><PRE>
   Same as v3r1, but using bug fixes from digvdet v2r3 and trivert v5r2

   In cmt/requirements
   -------------------
     use digvdet v2r3
>   vrp_get_strip_num.F, vrp_get_coord.F - fix the problem arising from the
>           rotation of the VELO by 90d in phi.(M.McCubbin)

     use trivert v5r2
>   vertex_x_y.F - fix the problem arising from the
>           rotation of the VELO by 90d in phi.(M.McCubbin)

===============================================================================
</PRE><H1><A NAME=v3r1>20010606 Brunel v3r1</A></H1><PRE>
   This version reads SICBMC data starting from SICBMC v245, dbase v238
   ** It is not backwards compatible with older RAWH formats and geometry **
   ** It is no longer possible to do Pileup in Brunel                     **

   New features relative to v3:
   - RICH extended tracking executed for all events
   - AXTK updated with PID information from extended tracking
   - New VELO geometry description
   - Drop some banks from DST (as with SICBDST)

   In options/
   ----------
   BrunelInput.opts 
     - Fix format of SpillOverSelector.Input option,
     - New option BrunelFinish.DropDSTBanks to control call to DROPBANKS

   Brunel.cards - Switch on RICH extended tracking for all events
>    DIGI 'RICH' 2
>    RECO 'RICH' 3

   BrunelMessage.opts: Use default Gaudi message format

   In src/BrunelSicb/
   -----------------
   BrunelInitialisation.cpp: 
     - initialise SICB variable NPILEUP with value from PASS bank 
       (to cope with RAWH2) - not compatible with SicbCnv PileUpAlg

   BrunelFinalisation.cpp:   Add call to DROPBANKS
   dropbanks.F:              New, to drop unwanted SICB banks from DST

   In cmt/requirements
   -------------------
     use TrEvent      v4r1
>  Fixes for new velo geometry

     use TrAlgorithms v4r1
>  Bug fix in job options

     use dbase        v238
>          new VELO geometry description
> vsrp.cdf - modified
> vpil.cdf - modified

     use detdes   v13
>  utnext.F - utnext("MATE") returns the next free material number
>             utnext("TMED") returns the next free tracking medium number
>  utmatm.F - uses utnext("TMED") to get the next free tmed #
>  utmatn.F - uses utnext("MATE") to get the next free mat 
>
>  vrpigeom.F, vrpgeom.inc, vsvnam.inc - modified for new VELO geometry
>                                        description.
>  muginit2.F - replace GAPFRAMEPAR(IMATFR,IL,I)=NINT(Q(LP+5) with
>                       GAPFRAMEPAR(IMATFR,IR,I)=NINT(Q(LP+5))
>               IL was never set.

     use Futil    v10r1
>  src/axtrigger.F - put version by H.Dijkstra (same as in SICBDST/minidst)
>     with values tuned for SICBDST v235

     use axreclib v4r2
>  src/aximperr.F - bug fix, introduced missing dummy argument in 
>                   call to rmmlt routine (necessary to run on NT, gcorti)
>  src/axpartid.F - use results from extended tracking (R.Forty)
===============================================================================
</PRE><H1><A NAME=v3>20010521 Brunel v3</A></H1><PRE>
  This is the first version to be used for an official LHCB production 

  This version has been restructured as two packages. Rec/Brunel contains the
  statically linked code needed to run SICBDST routines. C++ components of the
  reconstruction framework have been moved to the package Rec/BrunelKernel

  There are two subdirectories in /src:
    BrunelSicb   contains interface code to SICB (statically linked)
    ObsoleteSicb contains interface code to SICB that is no longer used
                 because SICB algorithms have been replaced by equivalent 
                 C++ algorithms.
  Files have been rename to avoid multiple . in filenames (to please nmake)

  Job options file structure has been modified relative to Brunel v1r6

  requirements use explicitly the SICB packages, no longer SICBDST

  #### Physics changes with respect to SICBDST v252 ####
  - Uses C++ tracking 
    Intermediate tracking banks (e.g. WIDG, WODG) are not produced

  - Uses C++ Calorimeter digitisation
  
  - Does not run old L1 track trigger (T1TRACK from trit1tr package)
    TTR1 bank is not produced.
===============================================================================
</PRE><H1><A NAME=v1r6>20001219 Brunel v1r6</A></H1><PRE>
  requirements     - use SicbCnv v10 (spillover), SICBDST v235r3
  Brunel.Phase.cpp - fix bug in a log message (reported by O.Callot)
  BrunelZebra.inc  - increase ZEBRA COMMON block size to 12M words

===============================================================================
</PRE><H1><A NAME=v1r5>20001120 Brunel v1r5</A></H1><PRE>
  Brunel.Phase.cpp - No longer instantiates algorithms, instead it instantiates sequences
                     This introduces modifications in the BrunelOptions.txt: all algorithms
                     must now be declared as members of a sequence - see user guide for details
  requirements     - Use Gaudi release 6, SICBDST v235r2
  options          - New directory, containing structure of job options files - see user guide

===============================================================================
</PRE><H1><A NAME=v1r4>20001003 Brunel v1r4</A></H1><PRE>
           to link a Brunel static application: gmake tag=LinuxStatic
           to run a job in static mode remove the following line from
           BrunelOptions.txt : ApplicationMgr.DLLs = {...}
 
  requirements      - use the highest version of LHCbCMT (v3r3 to define
                      package_tag pattern)
                    - use SICBDST v235 before any Gaudi packages to make sure
                      that Futio and Finclude version numbers are those set
                      by SICBDST.
                    - use SicbCnv v8r1 (to remove a fake main program)

===============================================================================
</PRE><H1><A NAME=v1r3>20000804 Brunel v1r3</A></H1><PRE>
  requirements      - use SICBDST v235
  jobOptions        - cleaned up

===============================================================================
</PRE><H1><A NAME=v1r2>20000726 Brunel v1r2</A></H1><PRE>
  requirements      - use SICBDST v234r2 and GaudiSys v5
  BrunelZebra.inc   - increase ZEBRA size to 9000000 (as for SICBDST)
  *.cpp             - Changes for GaudiSys v5 (compulsory implementation of
                      initialize(), finalize())
  BrunelPhase.h,.cpp- Remove private member m_AlgList, now exists in 
                      Algorithm base class

===============================================================================
</PRE><H1><A NAME=v1r1>20000626 Brunel v1r1</A></H1><PRE>
  requirements      - use SicbCnv v7r3, link directly to $(SICBDSTROOT)/src/sicbvers.F
  BrunelZebra.inc   - new, to over-ride size of ZEBRA COMMON (set to 8 000 000)
  GetZebraSize.F    - new, over-rides routine of same name in SicbCnv 
  Brunel.Trigger.TRIGGER.cpp - call TRLAST in finalise()

===============================================================================
</PRE><H1><A NAME=v1>20000529 Brunel v1</A></H1><PRE>
  requirements      - use GaudiConf v1 and SICBDST v233r2 (Flr)
  job/              - new directory which contains :      (Flr)
  Brunel.job        - script to run Brunel, uses Brunel.cards and 
                      BrunelOptions.txt
  Brunel_lsf.job    - contains options for Gaudi and SICBDST,
                      does not use Brunel.cards and BrunelOptions.txt
  Brunel.cards      - SICBDST data cards file
  BrunelOptions.txt - Gaudi jobOptions file
  Brunel/             remove options.txt files (Flr)
  udinit.F          - stop the job if SICBDST cards file is not found. (Flr)
  Brunel.Init.F     - add printout of event number if DEBU card (Flr)
    
! 20000519 Brunel v1
  First version of LHCb reconstruction program.

  This version has the same functionality as SICBDST v233, containing only 
  wrapped FORTRAN code
</PRE>
<PRE>
Package: BrunelSys
Package Coordinator: Marco Cattaneo
Purpose: LHCb reconstruction programs

</PRE><H1><A NAME=v43r0>2012-02-03 Brunel v42r0</A></H1><PRE>
This version uses projects LCG 62a, Gaudi v23r0, LHCb v34r0, Lbcom v12r0,
 Rec v13r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v34r0 software stack.

- Supported platforms and libraries
  . Added support for for gcc46 on slc5 (64-bit only) - not yet production
    quality, some differences with gcc43 still to be fixed
  . Migrated to Boost 1.48
 
- Changes to configuration
  . Add a filter for the States on Best and Muon Tracks
  . (DDDB v1r50) For each DataType, in case of real data, set initial time
    (used for CondDB initialisation before first event)
    to the last meaningful time of the corresponding year:
    o End of year for 2008, 2009
    o End of last fill for 2010, 2011
    o Current time for 2012, if before end of 2012

- Persistency changes
  . Removed support for POOL persistency
  . Change to states saved by default on tracks written to output file:
    Velo:       ("ClosestToBeam")
    Long:       ("ClosestToBeam")("FirstMeasurement")("BegRich2")("V0Vertex")
    T:          ("FirstMeasurement")( "BegRich2")
    Downstream: ("FirstMeasurement")("BegRich2")("V0Vertex")
    Upstream:   ("ClosestToBeam")("FirstMeasurement")
    Muon        ("FirstMeasurement")

- New functionality
  . Added support for 2012 DataType, behaviour currently identical to 2011
  . Added infrastructure for filtering on DQ flags, not yet usable
    (DetCond v12r23, LHCbAlgs v2r47)

- New tuning
  . Make the network tuning MC11aTuneV2 the default for all data types, and
    change some of the network variables (ChargedProtoANNPID v1r6)
  . Introduce beamspot constraint into PVSeedTool to make PatPV3D faster which
    gives a factor between 2 or 3 in exe time when switching from 3D PVSeed3DTool
    to PVSeedTool, lower false PV rate and lower PV->SV mistakes, same
    performance for other parameters like resolution and PV efficiency
    (PatPV v3r21)
  . Changes to track fit: fewer smooth operations to improve timing,
    smarter use of OT times in OTTrackProjector leading to better Chi2 and 
    therefore more ProtoParticles
    (TrackFitEvent v5r13, TrackFitter v4r3, TrackProjectors v2r30)

- Bug fixes
  . Fixes to cached conditions updates: not all caches were correctly updated
    when IOV changed between initialization and first event
    (CaloDAQ v4r26, CaloDet v10r13, DetDesc v18r29, DetDescSvc v3r5, 
     RichDet v16r9, LumiAlgs v7r3, PatVeloTT v3r17)
  . Redirect sporadic stderr+stdout messages from NeuroBayes to /dev/null. 
    Temporary measure, until we have access to a fixed version of NeuroBayes
    (ChargedProtoANNPID v1r6)

- Monitoring changes
  . Fixes to primitive types that can be saved in Tuples::TupleObj (Gaudi v23r0)
  . Move 2D histograms to expert mode (MuonTrackMonitor v2r5)
  . Add monitor for ANN PID variables (ChargedProtoANNPID v1r6, RecConf v2r5)
  . Add TrackVertexMonitors in online mode, to get PV position
    (TrackMonitors v1r36)
  . Remove a Velo clusters histogram (VeloRecMonitors v2r17)

- Changes to tests
  . Remove tests that write to POOL files, no longer supported

</PRE><H1><A NAME=v41r3>2011-12-19 Brunel v41r3</A></H1><PRE>
This version uses projects LCG 61b, Gaudi v22r5, LHCb v33r2, Lbcom v11r2,
 Rec v12r2 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v33r2 software stack.
 
- Changes to configurable
  . Explicitly set L0Conf().RawEventLocations to take L0 banks from DAQ/RawEvent
    (follows changes to L0Base, L0DU, L0Muon, L0Calo)
  . Remove support for RDST (superseded by SDST) (Brunel v41r3, GaudiConf v15r5)

- New functionality
  . More updates to support multiple Rich photodetector technologies
  . Updates to support running without Aerogel (RichTools v2r39)
  . Allow to select Max/Min number of photons per track (RichParticleSearch v1r5)

- New tuning
  . Improve efficiency for large IP tracks (FastVelo v1r6)
  . Use long long instead of long where appropriate (various Rich packages)
  . Remove use of Track::nodes (TrackTools v4r10)
  . Improve packing of Rich::Rec::PhotonKey
    (RichRecBase v4r10, RichRecMCTools v2r29, RichRecPhotonTools v1r9)
 
- Persistency changes
  . MuonPID objects now saved only if track is InAcceptance (MuonID v9r3)

- Bug fixes
  . Fix bug #89269 affecting two Reco12 jobs: MergedPi0Rec was returning 0 from
    execute() in rare case of pathological clusters (CaloReco v5r13)
    (Also fixed in Brunel v41r1p1)
  . Fix error message from PropertyConfigSvc at initialization (LumiAlgs v7r2)
  . Use stable_sort instead of sort, to avoid reproducibility problems
    (RichParticleSearch v1r5)
  . Fix in PatAddTTCoord: If chi2 was still much too high with only 3 hits left
    it went into an infinite loop. (PatAlgorithms v4r16)
  . In PrimaryVertexChecker, properly initialize MCPVInfo struct to avoid
    floating point exceptions in debug mode (PatChecker v3r11)
  . Fix a wrong length string, was causing a memory corruption on occasions
    when running debug version of Brunel (TrackCheckers v4r12)
  . Add some missing calls to GaudiAlgorithm::finalize (VeloDAQ v6r6)
  . Fix some unprotected debug() streams
  . Various fixes to UNINIT_CTOR defects, gcc46 warnings and icc remarks

- Monitoring changes
  . Monitor tracks with large IP (TrackCheckers v4r12)
  . New algorithm VertexChecker to measure the performance of vertexing
    (TrackCheckers v4r12)
  . Hide warning by default due to problems with TELL1 cluster maker
    putting the same strip into two clusters (to be re-enabled for data/mc
    after the TELL1 bug is resolved) (VeloDAQ v6r6)

- Changes to tests
  . Add brunel.2011-crashes for regression testing of fixes to crashes on 2011
    data. Currently covers bug #89269 affecting Reco12, fixed in CaloReco v5r13
  . Add RegexpReplacer expression to BrunelExclusions.py, to take into account
    different printout format from RichHotPixels and RichRawDataDBCheck when
    running in debug mode
  . brunel2010magup test now writes SDST in MDF format, was RDST

</PRE><H1><A NAME=v41r2>2011-11-11 Brunel v41r2</A></H1><PRE>
This version uses projects LCG 61b, Gaudi v22r5, LHCb v33r1, Lbcom v11r1,
 Rec v12r1 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version to pick up LHCb v33r1 software stack.
 
- New functionality
  . Make Rich reconstruction agnostic to photodetector type (for upgrade)
    (RichRecTools v4r19, RichTools v2r38, RichDet v16r7, LHCbKernel v13r6,
     RichKernel v7r46, RichRecBase v4r9)

- New tuning
  . Update default DDDB and LHCBCOND tag for 2011 data to head-20111102
    (DDDB v1r48)
  . Complete the migration to LHCb::ParticlePropertySvc (TrackMCTools v3r1)
  . Avoid locating the same TES object from the same algorithm multiple times
    per event (RichRecQC v2r55, PatAlgorithms v4r15)
  . Improve the sorting operator of Pixels (RichHPDImageAnalysis v1r10)
  . Update MagneticFieldSvc to cache the field polarity (Down or Up) and return
    this, instead of calculating it each time ::isDown() is called (Magnet v7r4)
  . Disable by default the ROOT tree caches in the event persistency
    (GaudiConf v15r3)

- Bug fixes
  . Fixes to MuonPID status in ProtoParticle (Savannah task 23459)
    (MuonID v9r2, GlobalReco v6r39, RecreatePIDTools v1r4, TrackEvent v5r13)
  . Fix type conversion typo in the DAQ decoding errors monitor (RichRecQC v2r55)
  . Fix a bug in the fill of the 2D decoding errors histogram (RichRecQC v2r55)
  . Fix incorrect usage of std::unique to remove duplicates
    (RichHPDImageAnalysis v1r10)
  . Fix various UNINIT_CTOR defects
    (PatAlgorithms v4r15, GlobalReco v6r39, TrackMonitors v1r35, )
  . Bug fix in TrackGhostClassificationBase::fromPhi : was returning True if
    ancestor of first particle was Phi, without checking second particle
    (TrackMCTools v3r1)
  . In TrackNNGhostID, fix typo in ITClusterLocation, effect of which is that
    IT hit multiplicity was never added to the hit multiplicity used to get the
    ghost probability (TrackTools v4r9)
  . Fixed bug #87392: Event time not set correctly on first event
    (DetDescSvc v3r4)
  . Add protection for duplicated hits (due to data corruption). (MuonDAQ v4r12)
  . Fix bug #88049: RootCnv has problems reading POOL XDST (RootCnv v1r9)
  . Fix typo in TsaKernel/SeedTrack.h, coverity bug 22106 (TsaKernel v3r6p1)
  . Fix Root bug #87880: xrootd was returning wrong buffer length on rare
    occasions (Root 5.30.04) 
  . Fix IOExtension problem with SvcClass (GaudiConf v15r2)
    (Also fixed in Brunel v41r1p1)

- Monitoring changes
  . Print Magnetic Field polarity also when ProductionMode is True
  . NeuroBayes output at initialisation now suppressed (NeuroBayes 10.12)
  . Minor improvements to Rich decoding error messages (RichDAQ v3r34)
  . Change the title of the DAQ decoding errors by board histogram
    (RichRecQC v2r55)
  . Change the number of the sequencer used for the inclusive timing monitor
    from "BrunelSequencer" to "PhysicsSeq" to avoid problems with the monitor
    timing a still running sequence (RecConf v2r4)

- Changes to example options
  . Add COLLISION11_25.py, example options for processing 2011 25ns fill

- Changes to tests
  . Add brunel2011-25ns.qmt, to test COLLISION11_25.py
  . Add brunel-mc11a-xdst.qmt, to test reprocessing from xdst

</PRE><H1><A NAME=v41r1>2011-09-21 Brunel v41r1</A></H1><PRE>
This version uses projects LCG 61, Gaudi v22r4, LHCb v33r0, Lbcom v11r0,
 Rec v12r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for MC11 and 2011 end of year reprocessing (Reco12)

- Changes to Brunel persistency:
  . add NextNext to default DstConf().SpilloverPaths (GaudiConf v15r1)

- Bug fixes:
  . In TrackNNGhostID, fix typo in ITClusterLocation, effect of which is that
    IT hit multiplicity was never added to the hit multiplicity used to get the
    ghost probability (TrackTools v4r9)

</PRE><H1><A NAME=v41r0>2011-09-15 Brunel v41r0</A></H1><PRE>
This version uses projects LCG 61, Gaudi v22r4, LHCb v33r0, Lbcom v11r0,
 Rec v12r0 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 end of year reprocessing (Reco12)

- Changes to Brunel persistency:
  . Output files are now in ROOT format by default, can be read by DaVinci v28r4
    or later. POOL output can be switched on by options.
    (GaudiConf v15r0, RootCnv v1r8, Gaudi v22r4, ROOT 5.30)
  . Write ROOT technology when creating output file entry in XmlCatalog
    (RootCnv v1r8)
  . SDST now contains copies of Raw event banks (Trigger/RawEvent, Muon/RawEvent)
    see task #21716 (Configuration.py, GaudiConf v14r2)
  . RecSummary object now contains total number of (Best) tracks (RecAlgs v2r6)
  . Added IsMuonTight field to StatusBits in MuonPID (RecEvent v2r39)
  . Uses HepMC v2.06 for HepMCEvent, can be read by DaVinci v29r0 or later
    (GenEvent v6r1, LCG 61)

- New tuning
  . Changed default global event cut for number of OT hits from 1M to 15k
    (TrackSys v7r0)
  . Introduce new StandardPV configuration to include radial cut for primary
    vertices, see https://indico.cern.ch/conferenceDisplay.py?confId=134893 and
    task #19768 (PatPV v3r20, RecConf v2r3)
  . Add FilterFillingScheme algorithm to LumiBeam1 and LumiBeam2 sequences,
    changes luminosity results for 2011 MagUp data (LumiAlgs v7r0)
  . Implemented IsMuonTight, added counter for each IsMuon flag (MuonID v9r1)
  . Remove use of random weights for IsMuon or IsMuonLoose. Keep, however, weight
    0 for hits in M4 if p<3.5 GeV and hits in M5 if p<4.2 GeV. (MuonID v9r1)
  . Small improvements to Rich background tools (RichRecTools v4r18)
  . Lower default 'hot pixel' fraction from 90% to 50% of consecutive events
    (RichTools v2r37)
  . Updated default DDDB and LHCBCOND tags for 2011 to head-20110914 (DDDB v1r47)

- Bug fixes
  . Write out FSRs when using ROOT persistency. In previous versions, FSRs were
    missing (GaudiConf v15r0, RootCnv v1r7, Gaudi v22r4)
  . Various improvements to avoid unstable behaviour when sorting objects
    (RichGlobalPID v3r17, LHCbKernel v13r5)
  . Fix many unprotected DEBUG/VERBOSE messages

- Monitoring changes
  . Add TrackParticleMonitor (TrackMonitors v1r34)
  . Add histograms for IT module overlap residuals for A/C/Top/Bottom for use in
    DQ monitoring (TrackMonitors v1r34)
  . Updated track selection in VeloIPResolutionMonitor to be consistent with
    standard offline selection (VeloRecMonitors v2r15)
  . Remove Muon Stations efficiency monitor MuEffMonitor, moved to DaVinci
    (MuonTrackMonitor v2r4)
  . Reduced verbosity from Gaudi persistency service initialisation

- Changes to QMTests
  . Fix brunel-lumiconddbchecker following fix to bug #85240
  . Replace ROOT persistency tests with POOL persistency test, default for
    all other tests is now ROOT

</PRE><H1><A NAME=v40r1>2011-07-29 Brunel v40r1</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r5, Lbcom v10r5,
 Rec v11r6 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 August processing (Reco11a)

- Changes to Brunel configurable:
  . When ProductionMode=True, print the event number only every 1000 events
  . Add new slot TrackSys().GlobalCuts, sets global tracking cuts (TrackSys v6r3)

- Persistency changes
  . Add pi0/gamma separation variable to neutral ProtoParticle ExtraInfo
    (GlobalReco v6r38, CaloInterfaces v8r2, CaloTool v6r2, RecEvent v2r38)  

- New functionality
  . Add support to per tile Rich1 aeorogel calibration
    (RichTools v2r36, RichDet v16r5

- New tuning
  . New default tracking cuts for 2011+ data (PatAlgorithms v4r14, TrackSys v6r3)
    o No tracks of any kind reconstructed if more than 6000 Velo clusters
    o Remove cut on max IT and OT hits in PatForward and PatSeeding
  . Loosen the Rich reconstruction abort cuts for 2011+ data (RichRecSys v4r3)
    o MaxUsedTracks set to 1000 (was 500)
    o MaxPixels set to 30000 everywhere (previous 20000 in global PID)
  . Increase slightly the size of the aerogel photon selection window for the
    "Wide" photon selection
  . Set default clone distance variable to 1e10, instead of FLT_MAX, to avoid
    problems in the track selectors later on (RichRecBase v4r7)
  . Speed improvements:
    o Fine tune LikelihoodTool::logExp for better branch prediction
      (RichGlobalPID v3r16)
    o Use trajectory.endRange/beginRange instead of module().wireLength
      (TrackFitEvent v5r11)
    o Protect many unprotected debug and verbose messages
  . Use latest DDDB and LHCBCOND tags from SQLDDDB v6r14
    (new field map by default for 2011 data, new Rich aerogel geometry)
  . Add protections for parasitic FEB in Calo readout
    (CaloDAQ v2r24, CaloDet v10r12)

- Bug fixes
  . Fix a problem with the track selector when trying to apply a clone distance
    cut (RichRecTrackTools v1r30)
  . Protect OTHitCreator::handle from dereferencing a NULL m_detectordata
    pointer (TfTools v1r15)

- Changes to monitoring
  . Some minor improvements to the charged ProtoParticle monitor
    (GlobalReco v6r38)
  . Add "Hlt" to the list of sub-systems ProcStatAbortMoni knows about
    (RecAlgs v2r5)
  . Fine tune the event 'abort' messages from Rich (RichGlobalPID v3r16)
  . Many updates to Rich monitors, see RichRecQC v2r53 release notes
  . Disable by default Rich decoding check that compares L1 number in data for
    each HPD to the database (RichDAQ v3r33)
  . ITTrackMonitor: add histogram for overlaps (TrackMonitors v1r33)
  . TrackVertexMonitor: introduce cutoff for IP profiles to be more sensitive
    to mean (TrackMonitors v1r33)

- Changes to QMTests:
  . Add check of unprotected DEBUG and VERBOSE messages to brunelsys.qmt and
    brunel2011magdown.qmt (activated in debug mode only); increase timeout of
    brunel2011magdown.qmt test to 2400 sec.

</PRE><H1><A NAME=v40r0>2011-06-20 Brunel v40r0</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r4, Lbcom v10r4,
 Rec v11r5 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Production version for 2011 summer processing (Reco11)

- New functionality
  . Add support for new ROOT persistency (Brunel, GaudiConf v14r0, RootCnv v1r6)

- Changes to configuration
  . Add "Persistency" slot to Brunel (default POOL) and propagate to DstConf
  . Add "VetoHltErrorEvents" slot (default: True) to Brunel Configurable

- New tuning
  . By default, Brunel now skips events that are flagged as Hlt{1,2}ErrorEvent
    and writes a line in ProcStatus. See Patrick's talks at 04 and 20/06 PPMTS
    o Disabled for data prior to 2010, and off by default for simulation
  . Tune PatSeedingTool to better cope with high occupancy events
    (PatAlgorithms v4r13)
  . Major changes to MuonID (MuonID v9r0):
    o Implement use of KalmanFoI in MuonIDAlg
    o Introduce nshared tool
    o Add flag to restrict use of uncrossed hits in MuonID 
  . Fix error assigned to OT hits in 'prefit' (TrackProjectors v2r29p1)
  . Apply walk correction in OT drift times
    (TrackFitEvent v5r10, OTDet v8r6, TfKernel v2r21)
  . Small changes to Rich track selection cuts so they are noe the same
    everywhere and extend max P cut to effectively +inf value (RichRecSys v4r2)

- Bug fixes
  . Fix uninitialised member data to please Coverity
    (TrackFitEvent v5r10, PatAlgorithms v4r13)

- Obsolete functionality removed
  . Remove obsolete 'earlyData' flag from KnownSpecialData list (RecConf v2r1)

- Changes to monitoring
  . Add new plot for high Velo cluster multiplicity (VeloRecMonitors v2r13)
  . Add TrackMonitoring to the list of RICH online histograms (RichRecQC v2r52)
  . Put back "L1SizeMonitoring" from the default list of monitors following
    fixes to initialisation (RichRecQC v2r52)
  . Update clusterization counters (CaloReco v5r10) 

- Changes to tests
	. Add test of Brunel().WriteFSR=False to brunel.brunel-mc09-notruth test
  . Remove import of obsolete earlyData.py options from test-big.py
  . Add brunel2010magoffroot, brunel2011magdownroot,  brunel-bigeventsroot,
    brunel-mc10-withtruthroot, readdstfsrroot, replacing POOL with ROOT 
    persistency and comparing with corresponding POOL tests.

</PRE><H1><A NAME=v39r4>2011-05-14 Brunel v39r4</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*
 and additional packages OTDAQ v7r10, TrackSys v6r2, RichRecTrackTools v1r29,
   RichRecQC v2r51

Bug fix version for first 2011 reprocessing (Reco10)

- Bug fixes
  . Add protection to FunctionalCKResForRecoTracks to catch exceptions from the
    TransportSvc to prevent them from terminating the job execution.
    Fixes problem reported in http://lblogbook.cern.ch/Operations/5474
    (RichRecTrackTools v1r29)
  . Remove "L1SizeMonitoring" from the default list of monitors, as it does not
    support changes to the L1 IDs between initialize() and the first event.
    Fixes problem reported in http://lblogbook.cern.ch/Operations/5701
    (RichRecQC v2r51)

</PRE><H1><A NAME=v39r3>2011-05-11 Brunel v39r3</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*
 and additional packages OTDAQ v7r10, TrackSys v6r2

Production version for first 2011 reprocessing (Reco10)

- New tuning
  . Apply fiducial time window in OTRawBankDecoder -8.0*ns to 56.0*ns
    (OTDAQ v7r10, TrackSys v6r2)

</PRE><H1><A NAME=v39r2>2011-04-29 Brunel v39r2</A></H1><PRE>
This version uses projects LCG 60b, Gaudi v22r2, LHCb v32r3, Lbcom v10r3,
 Rec v11r4 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first 2011 reprocessing

- Changes in functionality
  . Drop all support for DC06. This DataType is no longer recognised
  . Muon ID DLL runing now read from database by default (MuonID v8r1)

- New tuning
  . New MuonID tuning (DLL_flag == 4) picked up by default for old databases
    (MuonID v8r1)  
  . Turn off by default the final HPD fitting (RichHPDImageAnalysis v1r7)

- Bug fixes
  . Fix bug #80947 (access system-memory information, if process memory is > 4GB)
    (GaudiKernel v27r14)
  . Fixes to GaudiMP to work with Brunel (GaudiMP v1r1)
  . Recover precision in matrices for rotations through pi or halfpi
    (DetDesc v18r25, DetDescCnv v4r13)
  . Fixes to ensure cached conditions are updated when conditions change
    (RichDet v16r3, RichTools v2r34)
  . Fix memory leak in WritePackedDst (EventPacker v2r9)
  . Various fixes to uninitialised variables in constructors

- Monitoring changes
  . Ignore errors due to (known) mismatch of IDE and Tell1 firmware (MuonDAQ

</PRE><H1><A NAME=v39r1>2011-04-12 Brunel v39r1</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r2, Lbcom v10r2,
 Rec v11r3 and SQLDDDB v6r*, ParamFiles v8r*, FieldMap v5r*, AppConfig v3r*

Development version for first 2011 reprocessing

- New functionality
  . Add new pattern recognition algorithm for velopix
    (RecoUpgrade v2r1, TrackEvent v5r12)
  . Add support for MaPMTs and HPDs in RichSmartID class, for upgrade studies.
    (LHCbKernel v13r0)

- Changes to configuration:
  . Change ParamFiles dependency to v8r* (was v8r4)

- New tuning
  . Improvements in HPD analysis (RichHPDImageAnalysis v1r6)
  . Use latest LHCBCOND tags from SQLDDDB v6r6 by default (DDDB
  . New data integrity checks:
    o In Rich decoding tool, if hardware ID in data disagrees with database 
      value, no hits are decoded for that HPD (RichDAQ v3r32)
    o In Calo decoding extend protection against multiple entry in KeyedContainer
      (CaloDAQ v4r22, DAQEvent v9r5)

- Bug fixes
  . Fix to bug #80076 (wrong condition used on first event)
    (DetCond v12r18, DetDescSvc v3r1)
  . Register OT/STHitCreator to detector geometry conditions, previously was
    ignoring any conditions update after initialisation (TfTools v1r14)
  . Check for negative element in state covariance matrix diagonal, update
    KalmanFitResult error printing accordingly (TrackFitEvent v5r8)
  . Bug fix for VeloPixRawBankToLiteCluster.cpp (VeloPixDAQ v1r4)

- Monitoring changes
  . Remove RichHPDImageShifts from default monitoring (RichRecQC v2r49)
  . Extend the decoding errors monitor (RichRecQC v2r49)
  . Fixed typo in bunch id plot (STMonitors v3r5)
  . Added map of cluster size in each sector (expert moni) (STMonitors v3r5) 
  . Add Mu monitor to Hlt monitoring sequence (HltMonitors v1r3)

- Changes to example options and tests
  . Add example options for 2011 data and update brunel.brunel2011magdown test
    to use them.

- Packaging changes:
  . Change ParamFiles dependency to v8r* (was v8r4)

</PRE><H1><A NAME=v39r0p3>2011-03-23 Brunel v39r0p3</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r4, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version for production
 - Pick up protection in Spd L0 decoding (CaloDAQ v4r21p1)

Includes Det/DDDB v1r42 to pick up latest tags from SQLDDDB v6r4:
 - Ecal pre-calibration for 2011
 - Ecal/Hcal LED reference and initial quality for 2011
 - Change in Prs/Ecal readout scheme for 2011
 - New calorimeter resconstruction tuning for 2010
 - TT/IT dead channel masks etc for 2011 startup
 - First TT/IT/OT alignment for 2011
 - New Rich L1 and HPD IDs for 2011
 - VeloClusterPosition now configured with VeloError paremeterisation from DB

Updated QMTest references for above changes

</PRE><H1><A NAME=v39r0p2>2011-03-17 Brunel v39r0p2</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version for production to pick up fixes in MuonID and Rich which
were provoking NAN and other oddities in production.

MuonID had a large memory leak as discussed here: https://savannah.cern.ch/bugs/?79569

Fixes in: Muon/MuonID v8r0p2 and Rec/ChargedProtoANNPID v1r3p1

For more details see: 
https://lhcb-tag-collector.web.cern.ch/lhcb-tag-collector/display.html?project=Brunel&version=v39r0p2

</PRE><H1><A NAME=v39r0p1>2011-03-10 Brunel v39r0p1</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1p1, Lbcom v10r1p1,
 Rec v11r2p1 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Patch version to pick up patched LHCb Lbcom and Rec.

- Necessary for 2011 data to process latest TCKs and fill RecHeader with GUID
  of raw file for DQ checks

- See Rec v10r2p1 release notes for details

</PRE><H1><A NAME=v39r0>2011-03-04 BrunelSys v39r0</A></H1><PRE>
This version uses projects LCG 60a, Gaudi v22r1, LHCb v32r1, Lbcom v10r1,
 Rec v11r2 and SQLDDDB v6r1, ParamFiles v8r4, FieldMap v5r5, AppConfig v3r*

Production release candidate for 2011 data taking
Output data requires GaudiPoolDB v5r11 (i.e. Gaudi v22r1) to read

- Persistency changes:
  . Backward incompatible persistency change in Root 5.28.00a, data produced
    with this release requires GaudiPoolDB v5r11 or later to read
  . Add TT cluster and Muon information (# Muon Coords in each station and
    # Muon tracks) to RecSummary object (RecEvent v2r35, RecAlgs v2r1))

- New features:
  . Add support for pileup offset calibration in Calo (CaloDet v10r10)
  . Added possibility to load MuonID calibration from DB (MuonID v8r0)
  . Possibility to configure VeloClusterPositionTool from DB (TrackTools v4r3)

- New tuning:
  . Rework the way the various DeRich objects initialise, moving as much as
    possible to happen on demand (RichDet v16r1)
  . Added MuonID tuning for 2010 and 2011 (MuonID v8r0)
  . Add support for cluster offset correction in Calo (CaloReco v5r8p1)
  . Minor improvement of PatSeedingTool momentum estimate (PatAlgorithms v4r12)
  . Set the ForceBiDirectionnal in KalmanFilter back to True (TrackFitter v4r2)

- Bug fixes
  . Fix bug in accessing the (x)rootd protocol (MDF v3r29, v3r28)
  . Pick up ROOT (5.28.00a) with a fixed memory leak in I/O subsystem
    (LCG 60a, GaudiPooldDB v5r11)
  . Added another special case for the order of service finalization
    (NTupleSvc after ToolSvc, because of GaudiTupleTool) (GaudiSvc v18r13)
  . Various fixes for ICC compilation warnings
  . Various fixes for Coverity warnings (UNINIT_CTOR, leaks, sprintf etc.)
  . Protect against numerical difficulties in PatSeed (PatAlgorithms v4r12)
  . Protect against removal of essential layers in PatSeed (at least 2 X and 2
    stereo layers have to remain) (PatAlgorithms v4r12)
  . Fix in TrackStateProvider (TrackExtrapolators v2r30)
  . Classical smoother was always putting fitresult in error mode 
    (TrackFitEvent v5r7)

- Monitoring changes:
  . In TrajPoca, set the maximum warning to 0 to avoid printouts (LHCbAlgs v2r37)
  . FastVeloHitManager prints in finalize, not destructor (FastVelo v1r5)
  . Reduce verbosity of TrackEventFitter (TrackFitter v4r2)

- Changes to unit tests
	. Add brunel-lumiconddbchecker to test online partition usage for lumi


</PRE><H1><A NAME=v38r1>2011-02-08 BrunelSys v38r1</A></H1><PRE>
This version uses projects LCG 60, Gaudi v22r0, LHCb v32r0, Lbcom v10r0,
 Rec v11r1 (plus TrackFitter v4r1 and TrackTools v4r2) 
 and SQLDDDB v6r0, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

Development version, in preparation for 2011 data taking

- Changes to supported platforms:
  . slc4_ia32_gcc34(_dbg), win32_vc71_dbg no longer supported
  . support added for i686-slc5-gcc43-{opt,dbg}
  . support in prepration for i686-winxp-vc9-dbg and x86_64-slc5-icc11-{opt,dbg}

- Configuration changes
  . Default DataType is now 2011
  . Removed support for ETC input
  . #116130: New tracking sequence is now the default for new data types 
             (including 2011). Summary of changes:
             . Switch to FastVelo
             . Switch to PatSeeding
             . Switch to PatMatching and remove SeedFitting
    New options Brunel().ForceOldSeq and Brunel().ForceNewSeq can be used to 
    switch between old and new sequences (TrackSys v6r0, Brunel v38r1)
  . #116712,#116318,#116127,#116216,#116122: "earlyData" setting is now the
    default (was used for all 2010 data and MC processing) 
    (STTools v4r6, MuonID v7r0, RecConf v2r0, PatAlgorithms v4r11,
     TrackMatching v2r33, TrackSys v6r0)

- New tuning:
  . #116384, 116383: Major modification of Kalman filter implementation
                    (speed improvement, no change in performance) 
                    (TrackFitEvent v5r6, TrackFitter v4r1)
  . #114881: FastVelo efficiency improvement at high nu (FastVelo v1r3)
  . #116680: Add cut against dirty area in PatForwardTool (PatAlgorithms v4r11)
  . #115240: Switch default ANN configuration from MC2010Tune to MC10TuneV1,
             activate the new Ghost ID network for each track type
             (ChargedProtoANNPID v1r1, GlobalReco v6r34)
  . #115040: New default DDDB tag for real data: head-20101206. Includes:
    . rich-20101205 - updates to aerogel parameters
    . velo-20101130 - new RF foil description
  . #116912: Put back DC06 Velo error parameterisation, MC10 one introduced
             in Brunel v38r0 (#114631) needs more study (TrackTools v4r2)

- New functionality:
  . #115635,#115873: Add new SUMMARY sequence, runs RecSummaryAlg to fill new
    reconstruction summary object (RecEvent v2r34, RecConf v2r0, RecAlgs v2r0,
    TrackTools v4r1, TrackInterfaces v4r18, EventPacker v2r6)
  . #114925: all Calo corrections now taken from CondDB (CaloReco v5r8)

- Persistency changes
  . #116124,#116126: new Track::History flags following tracking sequence changes
    (N.B. Track::History should not be used outside tracking, use Track::Types
     instead) (TrackSys v6r0, TrackEvent v5r10, FastVelo v1r4, TrackUtils v1r40)
  . #115635: Rec/Summary added to DST, holds basic summary information from the
             reconstruction (GaudiConf v13r8)

- Monitoring changes
  . #115196: New expert monitoring for ProtoPIDANN (GlobalReco v6r34)
  . #115007: reduce CaloReco verbosity (CaloReco v5r8)
  . #115674: Suppress Warning "Ingress/ODIN Event ID checks are disabled"
             (RichDAQ v3r30)

- Changes to qmtests:
  . Add a test brunel.brunel2011magdown, for the time being identical to
    brunel.brunel2010magdown (same input data and same reference) to validate 
    2011 DataType settings
  . Remove obsolete brunel.brunel-mc09-stripping test
  . Input file for brunel2010magdown test is now taken from 'freezer' castor
    directory, to test rootd access to this pool.

- Changes to example options
  . Remove options and catalogs accessing DC06+MC09 files that no longer exist
  . Remove all imports of earlyData.py, since this now the default

</PRE><H1><A NAME=v38r0>2010-12-21 BrunelSys v38r0</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r8, Lbcom v9r9,
 Rec v10r6 and SQLDDDB v5r44, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- Development version, in preparation for 2011 data taking

- New tuning:
  . #101117: New default tags for 2010,2009,2008 data. Changes include:
    . ecal-20101106-qual: Ecal channel quality update for 2010 reprocessing
    . ecal-20101106-calib: Ecal calibration update for 2010 reprocessing
    . ecal-20101106-led: LED measured gain shift correction for Ecal
    . rich-20101106-corr: Final 2010 RICH run by run gas refractive index corrs.
    . rich-20101106-hpd: Added list of inactivwe HPDs
    . rich1-20101106: New aerogel refractive index calibrations
    . tt-20101106: updated TT dead strip maps
  . #114631: New tuning of VeloCluster error parameterization (TrackTools v4r0)

- New functionality
  . Add support for inactive HPDs (RichDet v15r2)
  . #87476: add options to switch on FastVelo instead of PatVelo (TrackSys v5r1)

- Monitoring changes
  . #95658: reduce verbosity of CaloDet initialisation (CaloDet v10r8)
  . #101202: add profile plots of Rich data size vs. HPD and L1 ID
  . #103054: Add processing time monitor for Vertex, Calo, Muon, Proto sequences
    (RecConf v1r4)
  . #103050: Various new Rich monitoring plots, reduce verbosity
    (RichRecQC v2r48)
  . #103947: Various improvements to trck resolution monitor
    (RichRecMonitors v2r30)
  . #114423: Add ExpertProtoMoni sequence to expert monitoring (RecConf v1r4)
  . #103287, 103294: Execute track associators only if corresponding track type
    has been reconstructed (TrackSys v5r1, TrackAssociators v2r9)

- Changes to example options
  . In COLLISION10-Beam3500GeV-VeloClosed-MagDown.py use a more recent raw file,
    from run 81694

- Changes to QMTests
  . Added fixed-file sim2010 tests, to check for processing sim2010 files
  . Started compatibility.qms suite, for future-proofing DB changes
  . Modified the other fixedfile tests so that they only care about the
    number of errors/warnings in the results
  . fixedfile-boole-v19r8-2009-digi-extended test now only runs if 
    fixedfile-boole-v19r8-2009-digi was successful
  . fixedfile-boole-v19r8-2009-digi-extended-spillover test now only runs if 
    fixedfile-boole-v19r8-2009-digi-extended was successful
  . Update brunel.brunel2010magdown for changed input file
  . New test brunel-mc10-withtruth.qmt to test MC10 simulation settings.
    Currently uses a private file from Chris Jones.
  . Ignore NeuroBayes initialization messages in QMTest references


</PRE><H1><A NAME=v37r8p5>2010-11-23 BrunelSys v37r8p5</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p3 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a production version, for MC10 reconstruction

- This is a minimal patch and clean-up to include the latest fixes which were
  also done for the reprocessing release of Brunel v37r8p3.

- There are also the RICH specific changes for smearing Cherencov angles from
  the MC See the Rec release notes for more details.

</PRE><H1><A NAME=v37r8p4>2010-11-11 Brunel v37r8p4</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a production version, for 2010 end of run reprocessing

- This version picks up the Tf/PatVelo fix for DB caching problems,
  and the Tr/TrackTools fix of an uninitialized pointer
  It replaces v37r8p3 as the winter reprocessing version.

</PRE><H1><A NAME=v37r8p3>2010-11-05 Brunel v37r8p3</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This version picks up the Rich/RichHPDImageAnalysis fix required to prevent a segfault.
  It replaces v37r8p2 as the winter reprocessing version.

</PRE><H1><A NAME=v37r8p2>2010-11-05 Brunel v37r8p2</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p2 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This version picks up the Rec/LumiAlgs fix required to always make FSRs.
  It replaces v37r8p1 as the winter reprocessing version.

</PRE><H1><A NAME=v37r8p1>2010-10-28 Brunel v37r8p1</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r6p1, Lbcom v9r7p1,
 Rec v10r5p1 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

- This is a production version, for 2010 end of run reprocessing

</PRE><H1><A NAME=v37r8>2010-10-04 Brunel v37r8</A></H1><PRE>
This version uses projects LCG 58f, Gaudi v21r11, LHCb v31r5, Lbcom v9r7,
 Rec v10r5 and SQLDDDB v5r39, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

This is a production version, in preparation for 2010 end of run reprocessing

- New functionality:
  . Add support for upgrade reconstruction: Brunel().SpecialData += ['upgrade'] 
    (RecConf v1r3, TrackSys v5r0, RecoUpgrade v2r0, RecoUpgradeMC v1r1, 
     PatVeloTT v3r15, TrackCheckers v4r11, TrackMCTools v2r27)

- New tuning:
  . Changed track selection chi2 for charged ProtoParticles to < 10 from <50
    and removed "earlyData" tuning (GlobalReco v6r33)
  . Make fit in PatSeedFit more similar to what is in PatSeeding
    (PatAlgorithms v4r7)
  . Remove obsolete cut for PV fit in LSAdaptPVFitter, include track weights in
    vertex chi2 calculation (PatPV v3r18, TrackInterfaces v4r16)
  . Improve Calo LCorrection (CaloReco v5r7)
  . PhotonFromMergedRec algorithm removed from Calo Reco sequence, save time by
    doing it in MergedPi0Rec algorithm (CaloReco v5r7, CaloPIDs v5r8)
  . New tags picked up by default from SQLDDB v5r39 and DDDB v1r36
    o head-20101003 for LHCBCOND, head-20101003 for DDDB. Changes include:
      + align-20100902: Tracking alignment v4.1
      + it-20101001: Fix wrong positioned IT support column in Station 2 Aside
      + it-20100930: Protection in IT geometry against rounding error
      + tt-20100820: Fix overlap between outer modules in TTb
      + tt-20101001: Latest TT dead strip map after VCSEL repair
      + rich*-20100906*: New HPD chip alignments, new Rich mirror alignments 
    o MC09-20100921-vc-md100 for SIMCOND (bug fix to previous MC09 default tag)
    o MC-20101004-vc-md100 for 2009 SIM (bug fix to previous MC 2009 default tag)
  . Propagate value of Simulation slot to RecMoniConf and LumiAlgsConf, switches
    off LumiAccounting algorithm in case of Simulation=True

- Persistency changes:
  . The new Rich NN based PID algorithms are now run by default (not on Windows).
    Results are added to DST for further study 
    (ChargedProtoANNPID v1r0, uses neurobayes_expert from LCGCMT 58f)
  . Task #17217: ProtoParticle PID cleaning algorithm, that removes Rich and Muon
    information prior to DST writing is now run only in case of packed DST.
    (GaudiConf v13r7)
  . Task #14927: Weights for tracks in each PV are now stored on the DST
    (PatPV v3r18,EventPacker v2r5,PackedEvent v4r3,RecEvent v2r32,GaudiConf v13r7)
  . Task #16215: The event time is now stored in RecHeader, avoiding the need to
    decode the RawEvent to configure the UpdateManagerSvc
    (RecAlgs v1r11p1, RecEvent v2r32, LHCbAlgs v2r35)
  . New Calo additional info in neutral and charged ProtoParticles
    (GlobalReco v6r33, RecEvent v2r32)

- Bug fixes
  . Fix uninitialised member variables in CaloPhotonChecker (CaloMoniDst v5r4)
  . Bug #72071: Suppress unnecessary printouts (RichDAQ v3r24)
  . Bug #64670: Suppress unnecessary printouts (MuonID v7r9p2)
  . Fix against very rare crashes in the isolated track tool, when photon 
    Cherenkov phi value is exactly 2.0*M_PI (RichRecTrackTools v1r24p1)
  . Fix for OT expected hits (TrackTools v3r35)
  . Fix bug in TrackHitAdder (TrackUtils v1r39)
  . Fix bug in evaluation of F11 and F12 matrix elements (CaloUtils v9r0)
  . Bug #71237: GaudiHistos treatment of HistoProduce incomplete (GaudiAlg v13r4)

- Monitoring changes:
  . ProtoParticle monitor now produces efficiency plots by track type
    (GlobalReco v6r33)
  . Added Hlt monitoring sequence, monitors Hlt rate and composition 
    (HltMonitors v1r0, RecConf v1r3)
  . Minor improvements in track selection efficiency monitor (RichRecQC v2r46)
  . Widened window for PV plot (TrackMonitors v1r30)
  . Add histograms for magnet kick (TrackMonitors v1r30)
  . Add TrackPV2HalfAlignMonitor to monitoring sequence (TrackMonitors v1r30)
  . Add histograms for Velo-Calo matching (TrackMonitors v1r30)
  . Add VeloIPResolutionMonitor to standard monitoring (VeloRecMonitors v2r12)
  . patches #4299, #4332: Add option for field size in SequencerTimerTool
    (GaudiAlg v13r4)
  . Switched off running of expert checking algorithm CaloPhotonChecker, while
    waiting for fix to bug #73392. Can be switched on by setting
    Brunel().CaloPhotonChecker = True

- Changes to example options
  . In MC09-Files.py, do not set database tag for MC09 DataType, use the default 


</PRE><H1><A NAME=v37r7>2010-08-25 Brunel v37r7</A></H1><PRE>
This version uses projects LCG 58e, Gaudi v21r10p1, LHCb v31r4, Lbcom v9r6,
 Rec v10r4 and SQLDDDB v5r34, ParamFiles v8r3, FieldMap v5r5, AppConfig v3r*

This version requires ParamFiles >= v8r3, Det/DDDB >= v1r34

- NB: This version of Rec and LHCb require new Database tags otherwise processing will fail.
  DDDB must be >= head-20100826
	LHCBCOND must be >= head-20100831
  SIMCOND depends on the data being analysed
  Consult the defaults in Det/DDDB for more information
  Det/DDDB has been updated with these new defaults

- Updated references for tests.

- This version pick up the latest geometry and event model changes
  from LHCb and Lbcom. 

- The Luminosity methods have been updated to allow for -log(P), and write those FSRs
  but this requires a full reprocessing before they can be used

- Tracking and Vertexing have been updated to more appropriate cuts,
  timing has also been improved slightly

- The DDDB, SIMCOND, LHCBCOND tags required to use this software have been
  updated. The software is not strictly backward-compatible on the old DB tags.
  head-20100826 tags should be used. Det/DDDB v1r34 contains the new defaults.

- Det/DDDB v1r34 and Rich/RichRecTrackTools v1r24p1 have been absorbed. 
  . Rich/RichRecTrackTools v1r24p1 fixes bug #72136.
  . Det/DDDB v1r34 fixes many backwards-compatibility problems

</PRE><H1><A NAME=v37r6p1>2010-08-04 Brunel v37r6p1</A></H1><PRE>
This version uses projects LCG 58e, Gaudi v21r10p1, LHCb v31r4, Lbcom v9r5p1,
 Rec v10r3p1 and SQLDDDB v5r34, ParamFiles v8r2, FieldMap v5r5, AppConfig v3r*

- There were a few bugs in the v10r3 Rec release. This is an emergency patch of those.

- bug #70990, problems with stateless tracks in the Best track container
  . Only one package is changed Tf/TrackSys v4r37

- bug #71012, new fit mechanism for tracks breaks Calo photon reconstruction
  . Two packages are reverted to older versions: Tr/TrackFitter v2r49, Tr/TrackTools v3r33

</PRE><H1><A NAME=v37r6>2010-07-28 Brunel v37r6</A></H1><PRE>
This version uses projects LCG 58e, Gaudi v21r10p1, LHCb v31r4, Lbcom v9r5p1,
 Rec v10r3 and SQLDDDB v5r33, ParamFiles v8r2, FieldMap v5r5, AppConfig v3r*

This is a production version for processing 2010 data and Montecarlo


- It was discovered that LCG_58d has major problems with Oracle, Pyroot and Xerces.
  Gaudi v21r10p1 will pick up the patched LCGCMT.


- New minor version to fix urgent problems in production:
  . Crashes in brunel from a segfault in KalmanFitResult savannah bug #70643
  . Rich processing speed improved by a factor of 5 with better Aerogel cuts

- This release goes hand-in-hand with the CondDB patch #4301 which updates the tile calbration

For further information see the release notes for REC v10r3


</PRE><H1><A NAME=v37r5>2010-07-22 Brunel v37r5</A></H1><PRE>
This version uses projects LCG 58d, Gaudi v21r10, LHCb v31r3, Lbcom v9r5,
 Rec v10r2 and SQLDDDB v5r33, ParamFiles v8r2, FieldMap v5r5, AppConfig v3r*

This is a production version for processing 2010 data and Montecarlo

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

For consistent deployment of bug fix #69634, should not be used with simulation
produced with Gauss v38r6 or earlier, Boole v21r5 or earlier

- New tuning:
  . Changes available in SQLDDDB v5r33:
    o New ST charge calibration  (LHCBCOND tag head-20100715)
    o Updated ST dead strip maps (LHCBCOND tag head-20100715)
    o New HPD demagnification parameters (DDDB tag head-20100624)
    o Updated simplified material description including new Velo RF foil
      thickness (DDDB tag head-20100624)
  . Use loose PV for open velo and micro bias trigger in 2010 data. Latter
    requires setting Brunel().SpecialData += ["microBiasTrigger"] (RecConf v1r2)
  . Updated ST eta correction and hit error estimates (STTools  v4r3)
  . Abort processing of hot events in various algorithms:
    o Too many Velo clusters (VeloDAQ v5r3)
    o Too many input data objects (RichGlobalPID v3r14, RichRecBase v3r31) 
    o Too many input tracks (RichRecTrackTools v1r22, RichRecBase v3r31) 
    o Too many Velo tracks (PatAlgorithms v4r5, TrackMatching v2r30)
    o Too many IT or OT hits
      (PatAlgorithms v4r5, TrackMatching v2r30, TsaAlgorithms v3r22)
  . Tighten "large event" abort cuts for photons from <1000000 to <250000
    (RichRecSys v3r30)
  . Remove the "earlyData" track selection cuts (main change is chi^2/dof cut 
    is tightened from <100 to <10) (RichRecBase v3r31, RichRecSys v3r30)
  . Turn off the "earlyData" loose photon selection cuts (RichRecSys v3r30)
  . In track selection of Rich PID, attempt to use only long tracks if total 
    tracks exceed large event cuts (RichRecTrackTools v1r22)
  . Track fits now done after clone killing, avoids fitting tracks that are
    subsequently killed (TrackSys v4r35)
	. Update the Muon PID algorithm to lazy load the PID tool for first time it
    is really needed (MuonID v7r9)

- Persistency changes
  . ProcStatus now has abort flag set if any algorithm has aborted processing
    due to hot event cuts. Abort reason follows convention enforced by new
    ProcStatus addAlgorithmStatus method (RecEvent v2r30)

- Bug fixes:
  . Removal of spurious "Seckrb5" error when opening files with xrootd
    (Root 5.26.00c from LCGCMT_58d)
  . Fix bug #68626, small memory leak when connecting to SQLite database
    (CORAL_2_3_10 from LCGCMT_58d) 
  . Fix bug #69364: Wrong fractional mass calculation on composite material
    (DetDesc v18r21)
  . Fixed a few uninitialized variables, see bug #68795 (VeloDet v13r11)

- Monitoring changes
  . Changes to histogram axis and bin labels 
    (GaudiUtils v3r9,  RichKernel v7r37, RichRecQC v2r43, RichRecTools v4r12)
  . Add MuonEffMonitor, for chamber efficiency monitoring, including fixes to
    speed up the track extrapolations (MuonTrackMonitor v2r1)
  . MuonTrackAligMonitor (MuonTrackMonitor v2r1): 
    o speeded up the extrapolation for residuals calculation on each muon station
    o added some useful histograms to understand if there are shearings wrt to
      the tracking 
  . Add MoniGENERALSeq sequence, with the following algorithms (RecConf v1r2):
    o New monitor for ProcStatus processing aborts. Fill a single histogram
      with the abort rates (%) overall and by sub-system (RecAlgs v1r9)
    o New monitor for the event processing times. Takes a list of algorithm
      names, uses the ChronoSvc to sum the processing time per event for them,
      and produces some basic plots (RecAlgs v1r9)
    o ChronoSvc output level increased, to avoid duplicate timing table
  . Add plot to monitor total number of photon candidates (RichRecQC v2r43)
  . Add counter for number of tracks changing sign (TrackFitter v2r49)
  . Add HitEffPlotter and TrackExpectedXYZHitsTool to make 2D hit efficiency
    plots for Velo, TT, IT, OT. Runs only in Expert mode (TrackMonitors v1r27)
  . Added 2D histos (hiteff,hoteff,expected occ) per layer in 
    OTHitEfficiencyMonitor.cpp (TrackMonitors v1r27)

</PRE><H1><A NAME=v37r4>2010-06-24 Brunel v37r4</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r2, Lbcom v9r4, Rec v10r1
 and SQLDDDB v5r30, ParamFiles v8r2, FieldMap v5r4, AppConfig v3r*

This is a development version for processing 2010 data and Montecarlo

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

Simulation should be produced with Boole v21r5

- New tuning
  . Changes available in SQLDDDB v5r30:
    o new Calo calibration (head-20100531 LHCBCOND tag)
    o Rich run by run refractive index calibration (head-20100531 LHCBCOND tag)
    o Velo RF foil thickness change (head-20100531 DDDB tag)
  . Changed default tags for 2009 and 2010 data (DDDB v1r32)
    o head-20100531         for LHCBCOND
  . Switch from loose to default PV (RecConf v1r1)
  . Improved rejection of R clusters on other side from non-overlap tracks
    (PatVelo v3r24)
  . Do not reconstruct forward tracks if there are more than 1000 velo tracks
    (PatAlgorithms v4r3)
  . New tuning of eta correction (STTools v4r2)
  . Changed the calculation of the effect of the Lorentz angle (STTools v4r2)
  . Use OT dead strip list in expected hit calculation (TsaAlgorithms v3r21)
  . New hit error estimates for MC (STTools v4r2). N.B. The default values are
    only compatible with the corresponding tuning from Boole v21r5
  . Changed precision of OTMeasurement::deltaTimeOfFlight (TrackFitEvent v5r0)

- New features
  . Introduce database usage to calculate integrated luminosity (LumiAlgs v3r6)
  . Added LumiLowCount FSR (LumiAlgs v3r6)
  . Added option FilterBeforeFit in TrackSys and relevant algorithms
    under that condition in RecoTracking (TrackSys v4r34, TrackUtils v1r37)

- Bug fixes
  . In Configurable, fix AgeLimit when reprocessing from RDST or SDST
  . Follow fix #67937 to MagneticFieldSvc().ForceToUseDownMap. As result of this
    bug, DC06 reco was using wrong polarity, since Brunel v37r2 (Magnet v7r1)
  . Fixed configuration bug #68610 with noDrifttimes (TrackProjectors v2r28p2)
  . Improve end of file detection (MDF v3r26, MDF_ROOT v1r3)

- Monitoring changes
  . Reduce verbosity of log file (CondDBEntityResolver v5r2, LumiAlgs v3r6)
  . New STClusterMonitor histograms (STMonitors v3r2)
  . Added 2D histograms (hit-hot) to OTHitEfficiencyMonitor (TrackMonitors v1r26)
  . New histograms in TrackVertexMonitor and TrackVeloOverlapMonitor 
    (TrackMonitors v1r26)
  . New Cherenkov angle plots for aerogel (RichRecQC v2r42)
  . Book all histos at initialize (MuonPIDChecker v5r2)

- Changes to example options
  . All castor data accesses are now down through root: (xrootd) protocol

- Changes to tests
  . remove brunelmdfrst test, as all functionality is already tested elsewhere
  . ignore BrunelInit warnings count in comparisons (due to fluctuations in
    memory usage) 
  . switch off STOfflinePosition Lorentz correction in brunel-mc09-withtruth and
    brunel-mc09-withtruth-invfield tests, to avoid differences when inverting
    the magnetic field.


</PRE><H1><A NAME=v37r3>2010-05-28 Brunel v37r3</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r1, Lbcom v9r3, Rec v10r0p1
 and SQLDDDB v5r29, ParamFiles v8r2, FieldMap v5r4, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- Configurable changes
  . Splitting of RecSys package into RecSys and RecConf task #14804
    o RecSys is the container package, and can contain sam tests
    o RecConf is where the RecSysConf configurable will sit
  . Eliminate importOptions from Rec task #15141
  . New framework for CaloCorrections. Parameters from condDB (CaloReco v5r5)

- Persistency changes
  . Added the ProcStatus object if the VELO decoding fails for any reason
    (VeloDAQ v5r1)
 
- New tuning
  . Changes available in SQLDDDB v5r29:
    o Latest Rich calibration from head-20100430 LHCBCOND tag
    o Latest OT T0 calibration from head-20100509 LHCBCOND tag
    o New field map from head-20100518 LHCBCOND tag
    o Muon half station X,Y positions compatible with tracking alignment from
      head-20100518 LHCBCOND tag
  . Changes to default database tags (DDDB v1r31)
    o default tags for 2009 and 2010 data:
      head-20100518         for DDDB
      head-20100518         for LHCBCOND
    o default tag for 2009 MC:
      head-20100504         for DDDB
    o default tag for MC09:
      MC09-20100430-vc-md100 for SIMCOND
  . Add tighter cuts to NN neurons in physics case (MuonTrackRec v3r3)
  . LumiIntegrateFSR: remove dependence on rawdata, integration at terminate
    only, now also integrate LumiLowFSR (LumiAlgs v3r5)
  . Changes to PatVeloSpaceTool and PatVeloTrackTool to improve internal fit in
    the case of half box misalignments (PatVelo v3r23)
  . Improvements to fit and better PatVeloSpaceTool behaviour for overlap tracks
    (PatVelo v3r23)
  . Changed how PatVeloGeneral flags backward tracks for beam gas events
    (PatVelo v3r23)
  . Modification of LSAdaptPV3DFitter. Tuning of track error parametrization.
    (PatPV v3r16)
  . Fit velo-backward tracks towards vertex instead of away from it.
    (TrackFitter v2r46)
  . Fix an untested statuscode in filter method of TrackInterpolator
    (TrackTools v3r31)
  . Turn back on the Event ID cross checks within the RICH data (RichDAQ v3r27)
  . Turn back on the BXID check between the RICH and the ODIN (RichDAQ v3r27)

- Bug fixes
  . Fix bug in splitCluster onDemand settings (CaloReco v5r5)
  . small fix in CaloProcessor (CaloReco v5r5)
  . Fix bug #67077: suppress printout of 'Error from cov', but keep printout at
    end of job (CaloReco v5r5) 
  . Added check on "Method" to select random Lumi events correctly
    (works for Moore >=v9r0) (LumiAlgs v3r5)
  . Bug fix in DeVeloRtype: the trajectories for the fit sometimes had the
    wrong direction, depending on alignment constants (VeloDet v13r10)

- Monitoring changes
  . Task #15441: major cleanup of warnings and errors in event loop (REC v10r0)
  . Clear the linker table before associating (TrackAssociators v2r8)
  . Added MuonTrackMonitor (MuonTrackMonitor v1r0)
  . Activate monitoring for resolved Pi0 (CaloMoniDst v5r2)
  . Add a couple new plots to show number of active HPDs per event
    (RichRecQC v2r41)
  . In Expert mode, add monitor for ODIN trigger types (RichRecQC v2r41)
  . Turn on summary printout of suppressed high occunpancy HPDs
    (RichTools v2r29p3)
  . Various fixes and protections in STMonitors (STMonitors v3r1)

- Changes to tests
  . brunel.brunel-bigevents: 
    o add a big event from run 70122, tests bug #67111
    o add an event from run 71491, tests bug #67364
  . brunel.brunel-mc09-withtruth-invfield.qmt: fix polarity of inverted field, 
    should be Down (MC09 was simulated with Up polarity)

</PRE><H1><A NAME=v37r2p2>2010-05-16 Brunel v37r2p2</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r0p1, Lbcom v9r2p1, Rec v9r2p1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- bug fixes:
  . Make lite decoding check full bank length, remove lite and full clusters 
    from the conatiners for corrupted TELL1 banks then continue normally. Fixes
    bug #67364 (VeloDAQ v5r2)

- monitoring changes:
  . Clean up verbosity of errors and warnings (VeloDAQ v5r2)

</PRE><H1><A NAME=v37r2p1>2010-05-10 Brunel v37r2p1</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r0p1, Lbcom v9r2p1, Rec v9r2p1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- bug fixes:
  . Fix TrackMatchVeloSeed to always make the container before exiting. Fixes
    bug #67111 (TrackMatching v2r28p1)

</PRE><H1><A NAME=v37r2>2010-04-29 Brunel v37r2</A></H1><PRE>
This version uses projects Gaudi v21r9, LHCb v31r0p1, Lbcom v9r2p1, Rec v9r2p1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- Changes to configuration:
  . Event processing time watchdog now disabled by defalut. Enable with
    ApplicationMgr().StalledEventMonitor = True (Gaudi v21r9)
  . Add support for SDST
  . Changed default tags for 2009 and 2010 data (DDDB v1r30):
    o head-20100407         for DDDB
    o head-20100414         for LHCBCOND
  . Change to unambiguous names of accessor functions for MagneticFieldSvc
    (scaleFactor -> signedRelativeCurrent, polarity => is Down) (Magnet v7r0)

- New tuning
  . Turn on suppression of very high occupancy HPDs (>200 hits). Reduces the # of
    photon candidates, speeds things up by ~ a factor of 4 (RichRecSys v3r29)
  . Add protection against hot events (TsaAlgorithms v3r19, TrackMatching v2r28)
  . Change in parametrisation and some other small changes in PatAddTTCoord 
    (PatAlgorithms v4r1)
  . Switch on RZ overlap track finding in backward direction (PatVelo v3r22)

- Persistency changes
  . ProcStatus object is filled by algorithms that abort processing due to large
    event protections (task #14958) (RichGlobalPID v3r13, 
    RichRecTrackTools v1r20, RichRecBase v3r30, STKernel v2r1, VeloDAQ v5r1)
  . Add support for SDST ("slim" or "stripping" DST). Content is identical to
    real data DST, minus DAQ/RawEvent (GaudiConf v13r5)

- New functionality
  . Add support for new RICH background source; Scintillation in the CF4 
    radiator medium (MCEvent v2r17)

- Bug fixes
  . Bug fix for LFC plugin library of CORAL (CORAL_2_3_9, LCG_58c)
  . Bug fix in NeutralProtoP (GlobalReco v6r32p1)
  . Bug fix for downstream tracks in TrackStateInitTool (TrackTools v3r30)

- Monitoring changes
  . Fixes to MuonPID Monitoring (MuonPIDChecker v5r1p1)
  . Many changes to histograms for online and offline monitoring
    (RichRecQC v2r40)
  . Various improvements to track monitoring histograms, added 
    TrackVeloOverlapMonitor (TrackMonitors v1r24)
  . Bug fix in Velo occupancy monitor (VeloRecMonitors v2r9)
  . Adapted configurable to deal with missing Velo tracks on RDST.
    Needed for offline DQ monitoring (VeloRecMonitors v2r9)

- Changes to example options
  . Use consistent DDDB and SIMCOND tags in 2009-FEST-Data.py, following
    change in default 2009 DDDB tag
  . Added example options for 2010 data:
    COLLISION10-Beam3500GeV-VeloClosed-MagDown.py
    COLLISION10-Beam3500GeV-VeloClosed-MagOff.py
    COLLISION10-Beam3500GeV-VeloClosed-MagUp.py

- Changes to tests
  . Add tests on 2010 data:
    brunel.brunel2010magdown - tests also MDF SDST output
    brunel.brunel2010magup   - tests also MDF RDST output
    brunel.brunel2010magoff  - tests also packed DST output
  . Add test on selected big events that caused problems in early 2010 data:
    brunel.brunel-bigevents  - tests also unpacked DST output


</PRE><H1><A NAME=v37r1>2010-04-15 Brunel v37r1</A></H1><PRE>
This version uses projects Gaudi v21r8, LHCb v30r1, Lbcom v9r1, Rec v9r1
 and SQLDDDB v5r26, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for processing 2010 data and MonteCarlo

Output requires DaVinci v25r2p3 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

- Changes to Configurable
  . Use named instance of RichRecQCConf (Same as in RecSys)
  . Propagate "Simulation" property to RecSys (for use by RichRecSysConf)

- New tuning
  . Early Data tweaks disabled for MC in Rich (RichRecSys v3r28) 
  . Make the Functional CK theta resolution tool the default (RichKernel v7r33)
  . New earlyData tuning of PatDownstream (PatAlgorithms v4r0)
  . Replaced FastParabolicExtraplator by ParabolicExtrapolator 
    (TrackMCTools v2r25, TrackTools v3r29, RichRecTrackTools v1r19) 
  . Minor speed improvements to DeRichHPD when updating for T/P condition changes
    (RichDet v14r1)

- New functionality
  . New option to TrackPrepareVelo to reverse arbitrary charges on Velo tracks 
    (TrackUtils v1r35)
  . Allow use of cuts from conditions in STClusterCreator (STAlgorithms v4r0)
  . Added the capability to use the C3F8  as RICH1Gas (RichDet v14r1)

- Bug fixes
  . Fix to handling of "Up" polarity of Magnetic field in extrapolation. Fix
    includes better handling of polarity in MagneticFieldSvc 
    (PatAlgorithms v4r0, TrackTools v3r29, Magnet v6r0)
  . Bug #65360: Protected PatVeloGeneralTracking from pathological events
    (PatVelo v3r21)
  . Bug #65441: 
    o Implement maximum pixel, track and photon cuts; abort large events
      (RichRecSys v3r28, RichRecTrackTools v1r19, RichRecBase v3r29)
    o Abort Velo decoding when more than 10k VeloClusters are to be decoded, 
      empty containers are provided instead (both lite and full) (VeloDAQ v5r0)
  . Bug #64336: Fixed crash when track without measurements (TrackFitter v2r47)
  . VeloTrackMonitor: protection against missing clusters (VeloRecMonitors v2r8)
  . Added protection against huge Velo events when more than 10k VeloClusters are
    to be decoded, decoding is aborted, an Error is printed and empty containers
    are provided instead (both lite and full) (VeloDAQ v5r0)
  . Made a corrupted bank length in the full cluster decoding an Abort event
    incident (VeloDAQ v5r0)
  . Bug 65440: Increased max capacity of ISolid::Ticks. Throw exceptions from
    complicated Solids if capacity insufficient (DetDesc v18r20)
  . Protect against bug 65121 (negative errors (squared !) from Track States)
    (RichKernel v7r33)

- Monitoring changes
  . Add simplified PID monitoring algo CaloEMuPIDMon (CaloMoniDst v5r0)
  . Remove completely CaloEMuMonitor and CaloEMuChecker (CaloMoniDst v5r0)
  . MuonPIDChecker looks at Downstream tracks also in OffllineFull mode
    (MuonPIDChecker v5r1) 
  . Fine tune event abort messages (RichGlobalPID v3r12, RichGlobalPID v3r12)
  . Improvements to the CK theta and resolution detailed monitors 
    (RichRecMonitors v2r27)
  . Fine tune the data/DB cross check messages (RichRecQC v2r39)
  . Make check on track type before processing in IT/TTTrackMonitor, removes all
    errors from extrapolator and reduces CPU by factor >10 (TrackMonitors v1r23)
  . Add multiplicity histo to TrackMonitor (TrackMonitors v1r23)
  . ST noise taken from conditions (not supported for MC09) (STMonitors v3r0)

- Changes to tests
  . Edited global/local db to follow new CondDB configurable
  . Edited brunel-mc09-withtruth to follow RichRecQCConf change
  . Edited brunel-mc09-mctruth-withfield to follow change in MagneticFieldSvc
    and use new TrackPrepareVelo to reverse arbitrary charges on Velo tracks

</PRE><H1><A NAME=v37r0>2010-04-01 Brunel v37r0</A></H1><PRE>
This version uses projects Gaudi v21r8, LHCb v30r0, Lbcom v9r0, Rec v9r0
 and SQLDDDB v5r23, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data reprocessing

Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Changes to configuration
   . Major update to configurables using the new Gaudi v21r8 functionality,
     for use in Hlt2. Transparent for Brunel
   . Changed default data type in configuration files to 2009 (MuonID v7r8)
   . Velo dEdx parameters in TrackVelodEdxCharge now loaded from conditions
     (TrackTools v3r28, SQLDDDB v5r23)
   . Enable CondDB by default in CaloID2DLL (CaloPIDs v5r5)
   . Add NeutralPIDs Calo PID sequence (CaloPIDs v5r5)
   . Modification to structure of PV fit tools (PatPV v3r14)
   . In the online environment (Online == True) the condDB().IgnoreHeartBeat
     property is defaulted to True ( DetCond v12r11)
   . Changed default tag for 2009 and 2010 data (DDDB v1r29, needs SQLDDDB v5r23)
     o head-20100325         for LHCBCOND

 - Persistency change
   . RichPID also supports Below Threshold DLLs. RichPID packing version 
     updated to 1. 
     (PackedEvent v4r1, RecEvent v2r27, GaudiConf v13r4p2, LHCbKernel v11r12)

 - New functionality
   . Add support for the RICH BelowThreshold DLL values
     (Rich packages, GlobalReco v6r32)

 - New tuning
   . Changed default data type in configuration files to 2009 (MuonID v7r8)
   . New early data tuning for seed tracks (TsaAlgorithms v3r18)
   . Retune dEdx in velo to match 2009 data (TrackTools v3r28, SQLDDDB v5r23)
   . Update of ST measurement uncertainty tuning for early data 
     (TrackSys v4r31, STTools v3r19)
   . Use detailed Bethe Bloch dE/dx tool as default in fit
     (TrackExtrapolators v2r26)

 - Bug fixes
   . Now handles SIGXCPU signal, stopping gracefully if LSF time limit exceeded
     (GaudiSvc v18r8, patch #3875)
   . Fix bug 64608 in TrackMasterFitter: the veloExtrapolator (straight lines)
     was not used for VeloR tracks (TrackFitter v2r46)
   . Fixed bug 64670 (MuonID v7r8)
   . Fix non-reproducible processing in CaloSharedCellAlg (CaloReco v5r4)
   . PatVeloTT pattern recognition bug fix (PatVeloTT v3r11)
   . Fixed small bug in PrimaryVertexChecker (PatChecker v3r7)
   . Fix bug 64727 in TrackEffChecker (TrackCheckers v4r10p1)
   . Fix in PVVeryLoose.py (PatPV v3r14)
   . Check for valid magic pattern when decoding RawBanks (HltDAQ v1r4, 
     L0Calo v11r1, L0Muon v9r1, PUVeto v7r7p1, RichDAQ v3r26p1, VeloDAQ v4r13,
     CaloDAQ v4r19, LHCbAlgs v2r24, MuonDAQ v4r8, OTDAQ v7r7)
   . Bug fix in noise update methods [local cache not updated] (STDet v4r18)
   . Small fix in MuonTrack.cpp (MuonInterfaces v1r0p1)

 - Monitoring changes
   . ProtoParticles now have RICH, CALO and CombinedDLLs added, for use in 
     monitoring phase, removed before saving DST (GlobalReco v6r32)
   . Reduced binning of several plots (VeloRecMonitors v2r7p1)
   . Printout APE values from STOfflinePositionTool (STTools v3r17)
   . Suppress warning message about empty HPD data blocks
     (RichRecBase v3r27p1)
   . Minor changes to Rich monitoring output (RichRecQC v2r37p1)
   . Changes to Calo monitoring (add ProtoElectronMon, remove 
     EcalSplitClusterMon, less verbose initialization) (CaloMoniDst v4r4)
   . Verbosity changes in bankKiller (DAQUtils v1r2)
   . Additional track monitoring histograms, disable most histograms in Online,
     move some histograms to Expert (TrackMonitors v1r22)
   . Cleanups in MuonPIDChecker (MuonPIDChecker v5r0)
   . Less verbosity in TrackMasterFitter initialisation (TrackFitter v2r46)
   . Less verbosity in TrajOTProjector initialisation (TrackProjectors v2r27p1)
   . Add RichHPDImageShifts monitoring sequence (RichRecQC v2r38)

 - Changes to tests
   . Pick up histogram setting options from AppConfig
   . Added three new tests, fixedfile-brunel2009-*, for reprocessing 2009 data
     o fixeddb: with some arbitrary database
     o globaldb: with the latest database global tags
     o localdb: with the latest database local and global tags
   . Update exclusions from comparisons with reference to exclude also:
     o Rich refractive index updates on Online DB
     o LHCBCOND connection strings for local tags (needed for new localdb test)
     o Warnings about total memory of event exceeding 3*sigma
   . In BrunelSys tests:
     o Added configurables.qmt to instantiate all configurables

</PRE><H1><A NAME=v36r2>2010-02-26 Brunel v36r2</A></H1><PRE>
This version uses projects Gaudi v21r7p1, LHCb v29r2, Lbcom v8r3, Rec v8r2
 and SQLDDDB v5r20, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2010 data taking preparation and for 2009 data
reprocessing

Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Changes to Configuration: 
   . Added support for various histogramming levels, via Brunel().Histograms
     slot. Possible values: "None", "Online", "OfflineExpress", "OfflineFull",
     "Expert". Note that these levels are now case sensitive.
     (RichRecQC v2r37, VeloRecMonitors v2r7, RecSys v8r2, Brunel v36r2)

 - New tuning
   . Better general tracking in overlap region when misaligned (PatVelo v3r20)
   . New tuning of track fit:
     o Change track fit convergence criteria and increase max number of 
       iterations from 3 to 10 (TrackFitter v2r45)
     o Changed default value of UpdateTransport to true (TrackFitter v2r45)
     o Improved TrackStateInitTool for long, downstream tracks (TrackTools v2r27)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=2&resId=0&materialId=slides&confId=85503">talk</a> at TIM meeting on 2010-02-25)

 - Bug fixes
   . Fix bug #63402, infinite loop that could happen when decoding PuVeto data
     (PuVeto v7r7)

 - Monitoring changes
   . Less info() at initialize step (PatVelo v3r20)
   . Moved some info messages to debug; improved error reports for RK
     (TrackExtrapolators v2r25)
   . Optimisation of Rich histogram access (RichKernel v7r31)
   . Reduced default set of RichENN histograms (RichRecQC v2r37)
   . Reduced histograms produced in "Online" case 
     (RichRecQC v2r37, VeloRecMonitors v2r7)
   . Reduced default set of OT histograms (TrackMonitors)

 - Changes to tests
   . Update RichRecQC options in mc09-withtruth and mc09-withtruth-invfield tests
   . In brunel-fest09.qmt, test also Brunel().Histograms="Online";
   . In brunelmdfrdst.qmt, test also Brunel().Histograms="OfflineExpress";
   . In brunel-mc09-stripping.qmt, test also Brunel().Histograms="None";
   . In all tests, ignore changes in magnetic field map scale factor or
     polarity (initial value depends on "now" value in latest online snapshot)



</PRE><H1><A NAME=v36r1>2010-02-19 Brunel v36r1</A></H1><PRE>
This version uses projects Gaudi v21r7p1, LHCb v29r1, Lbcom v8r2, Rec v8r1
 and SQLDDDB v5r20, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for initial 2010 simulation and for 2010 data
taking preparation

Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Changes to Configurable: 
   . Remove OTTimeCreator from CheckOTSeq, no longer needed (task 12674)
   . Changed default DataType to 2010
   . New default database tags for 2009 (DDDB v1r28)
   . Move all decoding and clustering to the start of the tracking sequence
     (TrackSys v4r30)

 - Persistency changes
   . Add LumiLowFSR (LumiAlgs v3r3, LumiEvent v2r5)

 - New functionality
   . MuonID parameters can now be read from database (MuonID v7r7)
   . New DLL_flag=3 method (MuonID v7r7)
   . CaloID2DLL - optionally read the DLLs from CondDB (CaloPIDs v5r4)

 - New tuning:
   . Update maximum reconstructed CK theta value for aerogel from 290mrad to
     320mrad, to match the observed spectrum from 2009 data (RichRecBase v3r26)
   . Add temporary ad hoc correction to aerogel CK theta values for earlyData
     (RichRecSys v3r26)
   . Made MuonID MC09 configuration the default (same as 2009) (MuonID v7r7)
   . Latest earlyData tuning for PatDownstream & PatForward (PatAlgorithms v3r29)
   . New parameterisation in PatAddTTCoord (PatAlgorithms v3r29)
   . Improvements in TrajOTProjector (TrackProjectors v2r27)
   . Add PatPVVeryLoose.py for the tuning on 2009 data (RecSys v8r1)
   . Changes in OT tracking:
     o Added flag for use of driftttime to OTMeasurement (TrackFitEvent v4r4)
     o Improvements in OTProjector,implement new 'prefit' (TrackProjectors v2r27)
     o skip drifttimes that are ~2sigma (6ns) outside drifttime spectrum
       (TrackProjectors v2r27)
   . Added muon chisquare to KalmanFitResult (TrackFitEvent v4r4)
   . Use RungeKutta extrapolator instead of HeraB (CaloPIDs v5r4,CaloTools v5r13)

 - Bug fixes
   . Bug fix in TrackV0Utils (TrackUtils v1r34)
   . Proper handling of magnetic field (RichDet v13r4)
   . Fix incompatibility issue with DCache server, introduced in Boole v20r1
     (ROOT 5.26.00b)
   . Added profiles to OTHitEfficiencyMonitor and histograms to OTEffMonitor,
     OTTrackMonitor (TrackMonitor v1r20)
   . Avoid selecting rings around target radius (RichRecTemplateRings v1r3)
   . Fix untested StatusCode in HPD hot pixel finder (RichTools v2r28p1)
   . Do not add "/Event/Link/Trig/L0/Calo#1" to .dst in MC09 case, fixes bug
     62725 (GaudiConf v13r4)

 - Monitoring changes:
   . Updates to SpdMonitor, add histograms in CaloEMuMonitor (CaloMoniDst v4r4)
   . New Pixel Cluster monitor, remove MC related printout (RichRecQC v2r36)
   . New histogram per radiator for raw expected CK theta distn (RichRecQC v2r36)
   . Changes to Rich Alignment histos (RichRecQC v2r36)
   . TrackMuonMatchMonitor added to MoniTrSeq (TrackMonitor v1r20)
   . Changes to ST cluster monitor (STMonitors v2r4)
   . Move some info messages to debug (TrackExtrapolators v2r24p2)
   . Vertex shifts now measured with respect to MC position (PatChecker v3r6)
   . Disabled Rich 2D IFB hit maps (RichRecQC v2r36)
   . Detailed hardware consistency check of L0TCK (L0DU v10r2)

 - Changes to tests:
   . Modify brunel-cosmics.qmt to add a test of writing unpacked DST
   . Do not run mc09-withtruth-invfield test if mc09-withtruth has failed
   . In mc09-withtruth and mc09-withtruth-invfield tests, switch off Rich
     trackless ring monitoring since some differences are expected due to wrong
     magnetic field corrections in the invfield case
   . Change SAM test to test for real data instead of MC, since for MC concept
     of latest default (SimCond) tag does not make sense

</PRE><H1><A NAME=v36r0p1>2010-02-02 Brunel v36r0p1</A></H1><PRE>
This version uses projects Gaudi v21r7, LHCb v29r0, Lbcom v8r0, Rec v8r0
 and SQLDDDB v5r18, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data reprocessing
Output requires DaVinci v25r0 or later if saving packed DST, DaVinci v24r5p1
or later otherwise

 - Bug fixes
   . TrackV0Finder: output container was missing in events w/o primary vertex
     (broke unpacked DST) (TrackUtils v1r33p1) 

</PRE><H1><A NAME=v36r0>2010-01-26 Brunel v36r0</A></H1><PRE>
This version uses projects Gaudi v21r7, LHCb v29r0, Lbcom v8r0, Rec v8r0
 and SQLDDDB v5r18, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a development version for 2010 data preparation
Output requires DaVinci v25r0 or later

 - Changes to Configurable: 
   . Do not write NanoEvents to DST by default (task 12940). Can be
     switched on by setting Brunel().WriteLumi = True
   . If not writing NanoEvents, do not run dummy DST packers
   . LumiFSR creation done only if input are MDF events
   . New option RawBanksToKill: removes banks from RawEvent so they are not
     seen by the reconstruction and not copied to DST. Default is empty list,
     except if DataType is "2009", when ["VeloFull", "L0PUFull"] are removed.

 - Persistency changes
   . Always set MuonPID SmartRef in ChargedProtoParticleAddMuonInfo when 
     available (GlobalReco v6r31)
   . Added TimeSpanFSR: keeps earliest/latest event time on a raw file
     (LumiEvent v2r4, LumiAlgs v3r2)
   . Added support for packed RichPIDs and MuonPIDs to the MDF Writer and Reader
     (EventPacker v2r2)
   . Replace std::vector<int> with plain ints in PackedRichPID (PackedEvent v4r0)
     N.B. This change is backwards incompatible, requires DaVinci v25r0 to read

 - New functionality
   . Add possibility to flag tracking hits not to be used in pattern reco
     (TfTools v1r9, PatAlgorithms v3r28, PatVelo v3r19, PatVeloTT v3r10,
      TsaAlgorithms v3r15, TfKernel v2r14)
   . Completed task #13270: Block access to conditions in ONLINE partition if
     validity interval is not closed (DetCond v12r9)

 - New tuning
   . New tunings for Brunel().SpecialData += ["EarlyData"]:
     o Looser photon preselection cuts in Rich (RichRecSys v3r25)
     o Use Ttracks and lower momentum threshold for MuonID (MuonID v7r6)
   . Improved handling of Velo tracks across half boxes (PatVelo v3r19)
   . Added more stable expression for standard smoother (TrackFitter v2r44)
   . Changed default tags for 2009 data (DDDB v1r27)
     o head-20100119         for DDDB
     o head-20100119         for LHCBCOND
     o sim-20100119-vc-md100 for SIMCOND
   . Now using online Rich gas temperature & pressure conditions (SQLDBDB v5r18)

 - Bug fixes
   . Pass Brunel().DataType to DstConf (who propagates it to SimConf). 
     Fixes bug 60636
   . Fix bug in filling signal HPD occupancy plots in PixelQC (RichRecQC v2r35)
   . Fix PatVeloTTTool to correctly update B field dependent parameters if
     Magnetic field changes after initialization (PatVeloTT v3r10)
   . Fixed problem in PVUtils which was causing a FPE (bug #61282) (PatPV v3r12)
   . Fix uninitialized variable in CellParam constructor (CaloDet v10r3p1)
   . In DeSTSector, change precision of m_dp0di and m_p0 from float to double, 
     to fix data truncation warning on Windows (STDet v4r16p1)
   . Fix bug in RawEvent.h, which prevented the removal of banks for MDF files
     (DAQEvent v9r0, DAQUtils v1r0)
   . Add DataType slot to SimConf, DigiConf, DstConf. If DataType is 'DC06',
     SimConf does not add spillover Gen info to output file. Fixes bug 60636
     (GaudiConf v13r3)
   . Protect TrajPoca against piecewisetraj returning '0' for distToErr
     (LHCbAlgs v2r32)
   . Fix to options to enable file sharing in FileRecordCnvSvc (GaudiPoolDb v5r6)
   . Fix untested StatusCode in EventLoopMgr when no events processed 
     (bug 59797, GaudiSvc v18r7)


 - Monitoring changes
   . New CK theta versus momentum plots (RichRecQC v2r35)
   . New histograms in Rich alignment monitors (RichRecQC v2r35)
   . Improved printout of L0DU configuration when re-running L0 (L0DU v10r0)
   . New L0DUReportMonitor histograms and improved printout (L0DU v10r0)
   . New counters in DST packer algorithms (EventPacker v2r2)

 - Changes to tests:
   . Use correct magnet polarity in mdfrdst test
   . Added brunel-fest09-olddddb to check if bug 59544 re-appears
     runs the Fest09 data with an old dddb tag. Segfaults in v35r8.

 - Changes to example options
   . 2009-Collisions.py no longer sets Brunel().UseOracle, no longer needed for
     the 2009 data.


</PRE><H1><A NAME=v35r11p2>2010-01-19 Brunel v35r11p2</A></H1><PRE>
Version built on v35r11b branch
This version uses projects Gaudi v21r6, LHCb v28r5, Lbcom v7r11, Rec v7r12
 and SQLDDDB v5r17, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for reprocessing of 2009 real data with 20100119
alignment.

Output requires DaVinci v24r5p1 or later

- Bug fixes
  . Fix bug in DeSTSector::cacheInfo: the trajectories used in track finding were
    displaced by 0.5 strip pitch (STDet v4r16)

</PRE><H1><A NAME=v35r11p1>2010-01-19 Brunel v35r11p1</A></H1><PRE>
Version built on v35r11b branch
This version uses projects Gaudi v21r6, LHCb v28r5, Lbcom v7r11, Rec v7r12
 and SQLDDDB v5r17, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for reconstruction of 2009 simulation in the same
conditions as the January 2010 V0 stripping of 2009 real data

Output requires DaVinci v24r5p1 or later

- New tuning
  . modifications to reconstruct loose PV without requirement of VELO segment
    (PatPV v3r11p1)
  . modified PVLoose.py options for Collision09 (PatPV v3r11p1)
  . Changed default database tags for 2009 data (DDDB v1r27)
    o head-20100119         for DDDB
    o head-20100119         for LHCBCOND
    o sim-20100119-vc-md100 for SIMCOND

- Bug fixes
  . Fix untested StatusCode in LSAdaptPVFitter.cpp (PatPV v3r11p1)

- Changes to example options
  . 2009-Collisions.py no longer sets Brunel().UseOracle, no longer needed for
    the 2009 data.

- Changes to QMTests
  . Make QMTest exclusion for changes in path to CondDB files more robust
    (same as fix to GaudiConf v13r3 on head branch)

</PRE><H1><A NAME=v35r11>2009-12-16 Brunel v35r11</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r5, Lbcom v7r11, Rec v7r12
 and SQLDDDB v5r17, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data reprocessing
Output requires DaVinci v24r5p1 to v24r*

- New tuning
  . Add Brunel().SpecialData = ["earlyData"] switch to include all special
    tunings for 2009 data reprocessing
    (AppConfig v3r28, RecSys v7r12, TrackSys v4r29, RichRecSys v3r24)
  . New tuning for "earlyData" introduced for DownStream (PatAlgorithms v3r27)
    Seed(TsaAlgorithms v3r14p3) and Match (TrackMatching v2r25) tracks.
  . Looser cuts for "earlyData" in Rich (RichRecSys v3r24) and Global PID
    (GlobalReco v6r30) track selection
  . Relaxed PV cuts for "earlyData" (PatPV v3r11, RecSys v7r12)
  . Changed default tag for 2009 data: head-20091211 for LHCBCOND, new OT drift
    time calibration (DDDB v1r26, SQLDDDB v5r17)
  . New ONLINE snapshots: online conditions can be obtained from SQLDDDB for all
    data taken until early morning on 20091215. Also includes fixes for all
    magnet polarity issues in early data (SQLDDDB v5r17)
  . Add polarity() to ILHCbMagnetSvc (LHCbKernel v11r10, Magnet v5r6). Needed by
    certain pattern recognition algorithms to pick up correct magnetic field
    parameterization
  . TrackV0Finder now skips V0 search if PV not reconstructed (TrackUtils v1r32)

- Bug fixes
  . Fix bug in 64 bit I/O routines handling large files. Was preventing to read
    mdf files > 2GB on 32 bit architecture (MDF v3r22)
  . Fix bug #60276: SolidPolycone does not define a correct bounding box
    (DetDesc v18r18)
  . XmlGenericCnv.cpp: fix a tiny memory leak releasing of a temporary string
    (DetDescCnv v4r11)
  . Fix trivial untested StatusCode in MemoryTool.cpp (LHCbAlgs v2r31p1)
  . Removed default constructors for measurement classes (TrackFitEvent v4r3)
  . PatDownstream: fixes division by zero (PatAlgorithms v3r27)
  . Minor fixes to warnings and unchecked codes (TrackExtrapolators v2r24p1)
  . In a track refit, count outliers before removing (TrackFitter v2r43)

- Changes to monitoring:
  . Added more histograms to TrackMonitor (TrackMonitors v1r18)
  . Downstream track efficiency now checked also if Velo open (TrackSys v4r29)
  .	Minor changes in monitoring histograms (CaloMoniDst v4r2)

- Changes to example options
  . Add earlyData switch to 2009-BeamGas.py and 2009-Collisions.py

- Changes to tests
  . brunelmdfrdst test now processes 2009 collisions data file. Tests both the
    2009 data processing and the mdf pack type

</PRE><H1><A NAME=v35r10p1>2009-12-07 Brunel v35r10p1</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r4, Lbcom v7r10, Rec v7r10
 and SQLDDDB v5r16, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*
 plus the following patches: RichRecSys v3r23, PatAlgorithms v3r26,
                             TrackFitter v2r42, TrackMonitors v1r17p1

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

- New tuning:
  . Extend python Configurable for Rich Track Creator to allow track selection
    cuts to be over-ridden. Can be used for early data in conjunction with 
    $APPCONFIGOPTS/Brunel/richLooseTrackCuts.py 
    (AppConfig v3r26, RichRecSys v3r23)

- Bug fixes:
  . PatSeedFit: Supply valid arguments to PatSeedTrack constructor in all cases
    (PatAlgorithms v3r26)
  . PatDownstream: Added checks for magnet off, fixes division by zero
    (PatAlgorithms v3r26)
  . TrackMasterFitter::projectReference: oce statuscode with limited scope was
    hiding another statuscode. As a result the failure was not properly returned,
    causing crashes on early data (TrackFitter v2r42)
  . Suppress excessive warnings in PitchResTool.cpp (TrackMonitors v1r17p1)

 - Changes to example options
   . In options/2009-Collisions.py:
     + Add importOptions("$APPCONFIGOPTS/Brunel/allTracksProtoP.py"), additional
       options to make ProtoParticles for all track types (Brunel default is just
       [ "Long", "Upstream", "Downstream"]
     + Add importOptions("$APPCONFIGOPTS/Brunel/richLooseTrackCuts.py"), 
       additional options loosen Rich track selection in early data
     + Add importOptions("$APPCONFIGOPTS/UseOracle.py"), to use Oracle CondDB
     + Update example file to collisions data with all detectors included

</PRE><H1><A NAME=v35r10>2009-12-02 Brunel v35r10</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r4, Lbcom v7r10, Rec v7r10
 and SQLDDDB v5r16, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

 - New tuning:
   . Improved comparison of floating point numbers (DetDesc v18r17)
   . Changed default tag for 2009 data: head-20091127 for LHCBCOND
     (DDDB v1r25, needs SQLDDDB v5r16)
   . Use ROOT::Math::CholeskyDecomp to calculate chi2, avoids saddle point
     problems. (PatAlgorithms v3r25, TrackFitter v2r41) 

 - Changes to tests
   . Update Brunel exclusions file to skip comparisons of geometry overlap
     coordinates (but still check that number of overlaps is unchanged)

</PRE><H1><A NAME=v35r9p1>2009-11-27 Brunel v35r9p1</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r3, Lbcom v7r9, Rec v7r9
 and SQLDDDB v5r15, ParamFiles v8r2, FieldMap v5r3, AppConfig v3r*
 plus the following patches: GaudiConf v13r1, Magnet v5r5, TsaAlgorithms v3r14p1,
                             TrackFitter v2r40p1, TrackTools v3r24

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

 - New tuning:
   . Changed the default momentum for magnet off tracks from 1 GeV to 100 GeV.
     This is now true for seed, long, downstream tracks (TrackTools v3r24)
   . New tuning of TsaSeed when not using OT drift times (TsaAlgorithms v3r14p1)
   . Improve robustness of Dst packing sequence against various types of MC
     truth content (GaudiConf v13r1)

 - Bug fixes:
   . MagneticFieldSvc was ignoring ScaleFactor option (Magnet v5r5)
   . Work around to correctly pass properties to ConfiguredFitters 
     (TrackFitters v2r40p1)

 - Monitoring changes
   . Remove obsolete "occupancy in T1 layer 1 versus x coordinate" histogram from
     OTTimeMonitor expert histos (OTMonitor v3r1)

 - Changes to example options:
   . Add options/2009-Collisions.py: example options for 2009 collisions data

</PRE><H1><A NAME=v35r9>2009-11-23 Brunel v35r9</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r3, Lbcom v7r9, Rec v7r9
 and SQLDDDB v5r15, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

 - Configuration changes:
   . Fixes to ConfiguredFitter
   . Changed default tags for 2009 data (DDDB v1r24, SQLDDDB v5r15):
     o head-20091120         for DDDB
     o head-20091120         for LHCBCOND
     o sim-20091112-vc-md100 for SIMCOND

 - New features:
   . Add special tuning for beam gas events (using VeloGeneric). Switched on by 
     importOptions("$APPCONFIGOPTS/Brunel/beamGas.py")
     (AppConfig v3r22, TrackSys v4r28, RecSys v7r9)

 - New tuning:
   . Various protections to handle real data (VeloDAQ v4r11)

 - Bug fixes:
   . Fix untested StatusCodes in RichAlignmentMonitor (Rich/RichRecQC v2r43p1)
   . Fixed bug in HitPattern affecting velo pattern (LHCbKernel v11r9p1)

 - Changes to monitoring:
   . Several changes for first data (VeloRecMonitors v2r3)
   . Include OTTimeMonitor in OT sequence
     (TrackMonitors v1r16, OTMonitor v3r0,LHCbKernel v11r9p1)

 - Changes to example options
   . Add options/2009-BeamGas.py: example options for 2009 beam gas events
     (needs AppConfig v3r22)

 - Changes to tests
   . fixedfile tests added, the file used is coded into the tests, and all boole
     v19r8 file types are tested
   . fixedfile-boole-v19r8-2009-digi-extended-spillover
	 . fixedfile-boole-v19r8-2009-digi-extended
   . fixedfile-boole-v19r8-2009-digi
   . fixedfile-boole-v19r8-2009-mdf
   . Do not fail tests if "Delta Memory for the event exceeds 3*sigma"

</PRE><H1><A NAME=v35r8p1>2009-11-22 Brunel v35r8p1</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r2, Lbcom v7r8, Rec v7r8
 and SQLDDDB v5r15, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5p1 to v24r*

- Bug fixes:
  . Fixed a problem in the decoding and encoding of the event time in the ODIN
    bank version 6 (LHCbAlgs v2r31)

</PRE><H1><A NAME=v35r8>2009-11-17 Brunel v35r8</A></H1><PRE>
This version uses projects Gaudi v21r6, LHCb v28r2, Lbcom v7r8, Rec v7r8
 and SQLDDDB v5r14, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a production version for 2009 data-taking
Output requires DaVinci v24r5 to v24r*

 - Changes to Configuration:
   . Use new configurable to decode CaloDigits (CaloDAQ v5r15, CaloReco v5r3)
   . Definition of MC content of DST is delegated to SimConf and DigiConf
     configurables (GaudiConf v13r0)
   . New option Brunel().ProductionMode", special settings for running in
     production, replaces "NoWarnings" option (kept for backward compatibility)
   . Adapt luminosity configuration to run on raw files only. 
     Luminosity tracking has no meaning on an ETC (LumiAlgs v3r0).
	 . Replace OTRawBankDecoder with OTHitCreator in PadSeedFit
     (PatAlgorithms v3r24)
   . Added cosmic configurations (TrackSys v4r27, TrackFitter v2r39)
   . Added option to run PatMatch (TrackSys v4r27)
   . Added option to TsaSeeding to run only over hits unused in the previous run
     of PatForward (OnlyUnusedHits=true) (TsaAlgorithms v3r14)
   . Added option to TrackMatchVeloSeed: if DiscardUsedVelo, velo seeds used in
     "good" PatForward tracks with chi2 < DiscardChi2 (default 1.5) are discarded
     (TrackMatching v2r25)

 - Persistency changes:
   . DAQ/ODIN removed from persistent files. Add ODIN bank to pRec/RawEvent on
     RDST. DAQ/ODIN is now transient only, always rebuilt from ODIN raw bank, to
     allow evolution of ODIN data content
     (DAQEvent v8r2, GaudiConf v13r0,LHCbAlgs v2r30)
   . All MC information on DST is now packed
     (EventPacker v2r0, PackedEvent v3r7, GaudiConf v13r0)
   . New XDST format for MC data, includes packed MC hits, and Spillover 
     containers (GaudiConf v13r0)
   . RichPIDs and MuonPIDs are no longer added to ProtoParticle as ExtraInfo.
     They are now saved as separate packed containers (GlobalReco v6r28,
     EventPacker v2r0, PackedEvent v3r7, GaudiConf v13r0, LHCbKernel v11r9)
   . New packers explicitly store the 'packing version' in the packed DataObject.
     Allows the 'version' of the data object to the be used to store any 
     versioning needed in the original unpacked data
     (EventPacker v2r0, GaudiKernel v27r6)
   . Packed containers for DST are always produced, even it unpacked input is
     missing (EventPacker v2r0, GaudiConf v13r0)
   . Added EventCountFSR, storing how many events are in the file and how many
     were used to make the file (LumiEvent v2r3, LumiAlgs v3r0)
   . Add ghost id for all track types (TrackTools v3r23)

 - New tuning:
   . Apply patch #3399 XmlGenericCnv uses inneficient part of Xerces-C API for
     DOM walking. Speeds up loading LHCb geometry by about 10% (DetDescCnv v4r10)
   . Replace vector by range for nodes in Track (TrackEvent v5r2)
	 . Make sure trackfitters are (also) configured by ConfiguredMasterFitter
     (MuonID v7r3)
   . Changes to the track fit (TrackFitEvent v4r2, TrackSys v4r27,
       TrackFitter v2r39, TrackProjectors v2r26, TrackTools v3r23):
     o All the track types are fitted with the same TrackMasterFitter config
 		 o New configured fitters 
		 o Moved projectors to masterfitter.
   . Major changes in Lumi counting (LumiAlgs v3r0)

 - Bug fixes:
   . Modified the dictionary for DataObject to make the version persistent. In
     all data written up to now, version was set to zero when reading back so
     schema evolution of e.g. post-MC09 tracks was wrong (GaudiKernel v27r6)
   . Fixed bug #57416: improve IncidentSvc printout when an exception is thrown
     by handlers (GaudiSvc v18r8)
   . Add protections against incomplete or corrupt raw data (CaloDAQ v5r15)
   . Fix a memory leak in XmlGenericCnv.cpp (DetDescCnv v4r10)
   . Disable clearing of CALO hypos in ProtoParticle various removeCaloXXXInfo()
     methods, since this incorrectly removes *all* hypos, not just those
     associated with the given technique (RecEvent v2r23)
   . Fix for unitialized member variable in PatForwardTool (PatAlgorithms v3r24)
 	 . Made MagnetTool aware of field updates (PatVeloTT v3r9)
   . Fixed memory leak in OTHitEfficiencyMonitor (TrackMonitors v1r15)
   . Fixed a bug in TrackStateInitTool (TrackTools v3r23)
   . Fix small memory leak in TrackNNGhostId (TrackTools v3r23)

 - Changes to monitoring:
   . Speed up processing of histograms (CaloUtils v8r8)
   . Fix CompareTrack to not report saturated q/p error for poorly measured
     tracks (EventPacker v2r0)
   . Add to Expert monitoring full checks up packing/unpacking integrity of
     DST packed containers (GaudiConf v13r0, Brunel/Configuration.py)
   . Suppress warnings about missing or corrupt data
     (STDAQ v3r20, VeloDAQ v4r10)
   . Improvements to monitoring for real data (STMonitors 3r13)
   . Track monitors improvements (TrackMonitors v1r15):
     o Added TrackAlignMonitor: monitoring histos for velo/tt/it/ot
     o Small update of OTTrackMonitor, for the pitch residual
     o Remove fullDetail from alignment histograms in IT/TTTrackMonitor
		 o Added track-calo match algorithms
		 o Modified histos in TrackMonitor
   . Added TrackOccupChecker for the studies of the occupancies in IT, OT,
     and Velo (TrackCheckers v4r10)

 - Changes to example options
   . Modify Brunel-Cosmics.py to follow changes in TrackSys v4r27
   . Remove also obsolete Rich options from Brunel-Cosmics.py

 - Changes to tests:
   . brunel-fest09 test updated to test also Brunel().ProductionMode option
   . new test readdstfsr.qmt, checks that brunel-fest09 has written an fsr

</PRE><H1><A NAME=v35r7>2009-10-23 Brunel v35r7</A></H1><PRE>
This version uses projects Gaudi v21r5, LHCb v28r1, Lbcom v7r7, Rec v7r7
 and SQLDDDB v5r13, ParamFiles v8r1, FieldMap v5r3, AppConfig v3r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v24r3 to v24r*

 - Changes to configuration:
   . Allow users to explicit set empty sequences
   . Set context of top level sequence to value of "Context" property
   . Add support for Lumi events:
     o New LumiSeq sequence runs if input is real data in MDF or ETC format
     o LumiSeq runs immediately after initialisation, filters on Hlt routing bits
     o All phases other than "Init" and "Output" moved into a "PhysicsSeq"
       sequencer and run only if physics routing bit is set
     o Calo bank unpacking moved from Init phase to first algorithm of PhysicsSeq
     o Dummy DSTPacker sequence is run if physics routing bit is not set, to
       create empty containers for the events output file
   . Bug fix: production of Lumi FSR now done also when input is from ETC
     (was MDF only)
   . Move configuration of Monitoring phase to RecMoniConf configurable.
     Brunel().MoniSequence option removed, now a property of RecMoniConf
     (RecSys v35r7)
   . Add support for XmlSummary (not yet filled). Enabled by setting
     LHCbApp().XMLSummary = True
     (GaudiConf v12r9, XmlSummaryKernel v1r0, XmlSummaryBase v1r0, Gaudi v21r5)

 - Persistency changes
   . Remove EOR from FileRecords path (LumiAlgs v2r3)

 - New tuning
   . Introduction of Runge Kutta as default extrapolator
     (TrackExtrapolators v2r24)
   . New handling of Calo Raw bank decoding (CaloDAQ v4r14)
   . Improvements to PatDownstream (PatAlgorithms v3r23). See T-Rec 2009-09-28
     http://indico.cern.ch/getFile.py/access?contribId=3&resId=0&materialId=slides&confId=48029
   . Deploy new ghost algorithm TrackAddNNGhostId, replaces NeuralNetTMVA
     (TrackSys v4r26, TrackTools v3r22, TrackUtils v1r30)
   . Removed cut on hot sectors when using VELO lite clusters (PatVelo v3r18)  
   . Added extra extrapolator to TrackMasterFitter for velo-only tracks
     (TrackFitter v2r38)
   . PatDownstream (PatAlgorithms v3r23)
     o Changed options to remove used hits and T-tracks. Default is as before
     o Retuned Parameters for MC09
     o Made search windows momentum dependent
     o Changed way of fitting the x projection
   . Speed up initialisation through optimisation of Muon geometry (remove
     detector elements for gas gaps). Enabled only for post-MC09 geometries,
     requires SQLDDDB v5r13 to v24r*
     (MuonDet v9r0, MuonAlgs v6r9, MuonBackground v2r10)
   . Save memory with alignment of libraries (GaudiPolicy v10r3)
   . Magnetic field grid is now stored in class DetDesc/MagneticFieldGrid. 
     (Magnet v5r4)

 - Bug fixes
   . Fix in Brunel() for ETC input (was missing definition of EvtTupleSvc)
   . Production of Lumi FSR now done also when input is from ETC (was MDF only)
   . Fix untested StatusCodes
     (GlobalReco v6r27, RichRecMCTools v2r25p1, RichRecMonitors v2r4)
   . Fix of nDoF in Muon fit (MuonID v7r2p1)
   . Fix to CaloPID monitor initialisation (CaloMoniDst v4r1)
   . Remove small memory leak in LumiAccounting::finalize() (LumiAlgs v2r3)
   . Fix memory leak in PatVeloTTFit (PatVeloTT v3r8p1)
   . Fix memory leak in TrackStateInitTool (TrackTools v3r22)
   . Many fixes reference counting. Now OutputStream no longer crashes when many
     streams are defined, and Algorithms are deleted on program termination 
     (Gaudi v21r5)

- Monitoring changes
   . New Rich ring search monitor (RichRecQC v2r34)
   . Reduced CaloPIDs verbosity (CaloPIDs v5r1p1)
   . Reduced warnings (RichGlobalPID v3r10p4)
   . HPD hot pixel finder is no longer an algorithm, now a generic tool called
     by dedicated instance of HPDAnalysisAlg algorithm (RichRecQC v2r34)
   . Added OTEfficiencyMonitor and OT pitch residual plots. OT monitors now run
     in dedicated sequence (TrackMonitors v1r14)
   . Rich alignment histograms now booked by default! (RichRecQC v2r34)
   . New memory histograms and counters (LHCbAlgs v2r29)
   . Changes to VeloTrackMonitor histograms. VeloTrackMonitor histograms now
     booked at initialise (VeloRecMonitors v2r2)
   . Reduce CaloTrackMatchAlg verbosity (CaloPIDs v5r1p1)
   . All histograms and profiles in VeloTrackMonitor are now booked in
     initialize(). Do not book hitmap histos by default (VeloRecMonitors v2r2)

 - Changes to example options:
   . Replace usage of obsolete Brunel().NoWarnings option with 
     Brunel().OutputLevel
   . Add options/2009-FEST-Data.py, datafile containing lumi events
   . Add options/Brunel-MC09Stripping.py, to reconstruct MC09 stripping FETC

 - Changes to tests:
   . Adapt valgrind.job to use gaudirun.py, uses python suppressions file from
     STDOPTS (in GaudiConf v12r9)
   . Add brunel-fest09.qmt, to test a datafile containing lumi events
   . Add brunel-mc09-stripping.qmt, to test reconstruction of MC09 stripping FETC
   . Use more recent input file for DC06 test





</PRE><H1><A NAME=v35r6>2009-09-14 Brunel v35r6</A></H1><PRE>
This version uses projects Gaudi v21r4, LHCb v28r0, Lbcom v7r6, Rec v7r6
 and SQLDDDB v5r11, ParamFiles v8r1, FieldMap v5r2, AppConfig v3r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v24r3 to v24r*

 - Changes to configuration:
   . Reorganisation of charged ProtoParticle algorithms for greater flexibility:-
     + New algorithm creates ProtoParticles from Tracks, but no longer adds any
       PID information
     + One algorithm per PID information to be added to the ProtoParticles.
     (GlobalReco v6r26, RecEvent v2r22)
   . Introduction of configurables for Calo, and reorganisation of Calo sequences
     (CaloKernel v6r0, RecSys v7r6, CaloPIDs v5r0, CaloReco v5r0)

 - Persistency changes:
   . Changes to Track class: add members for likelihood and ghost probability,
     remove obsolete ExtraInfo enums. Backward compatibility for MC09 data is
     preserved by the EventPacker. Backward compatible also when reading DC06
     data, but access to obsoleted ExtraInfo items requires changing code to use
     the obsoleted enums. (TrackEvent v5r0, EventPacker v1r7, PackedEvent v3r6,
     CaloTools v5r11, RichRecQC v2r33, RichRecTrackTools v1r14, NNTools v1r6,
     TrackCheckers v4r8, TrackMonitors v1r13, TrackTools v3r21)
   . ExtraInfo is removed at the end of the tracking sequence and not written
     to output (TrackSys v4r25, TrackUtils v1r29)

 - New tuning:
   . Added support for zipped InstallArea/python directories on the PYTHONPATH,
     speeds up the python configuration part of the initialisation (Gaudi v21r4)
   . New default DB tags for 2009 data: head-20090902 for DDDB and LHCBCOND,
     sim-20090902-vc-md100 for SIMCOND. Fixes rotation of Rich1 HPDs, updates IT
     dead strip+noise files, fixes material for track fit (SQLDDDB v5r11, v5r10)
   . MagneticFieldSvc now uses a MagneticFieldGrid object, reduces virtual
     function calls of track fit (Magnet v5r4, DetDesc v18r15, LHCbKernel v11r7)
   . All Rich monitors booked at initialisation, speeds up filling by removing
     hash table lookup at each plot call (RichKernel v7r26)
   . Track fit now initialises itself, does not try to use OT drift times in
     first iteration. Removes need for explicit prefits
     (TrackSys v4r25, PatVeloTT v3r8, TrackFitter v2r37, TrackProjectors v2r24)

 - Bug fixes:
   . Fix to duplicate creation of PatVelo hit manager tools (PatVelo v3r17)
   . Protect output in TrackEffChecker against nan (TrackCheckers v4r8)
   . Fixed bug in TrackHerabExtrapolator introduced in Brunel v33r2
     (TrackExtrapolators v2r23)
   . Correct DOF to 4 in case of field off (TrackFitter v2r3)

 - New packaging
   . Restructuring of TrackExtrapolators classes (TrackExtrapolators v2r23)

 - Monitoring changes
   . Addition of RichHotPixels monitor (RichRecQC v2r33)
   . Reduce verbosity of Rich raw data monitors (RichRecQC v2r33)
   . Changes to STClusterMonitor histograms (STMonitors v1r6)
   . Add ProtoParticle monitor sequence (GlobalReco v6r26)
   . Allow RICH expert histograms to be enabled when running without MC
   . Calo monitoring now uses CaloMoniDstConf configurable (CaloMoniDst v4r0)
   . Add CALO to KnownExpertCheckSubdets
   . Add "good" B daughter effiency and hit efficiency to TrackEffChecker output
     (TrackCheckers v4r8)

 - Changes to tests:
   . Exclude printout of MuonID version from QMTest log file comparisons
   . Move exclusion of transport service exceptions from individual tests to
     BrunelExclusions.py

</PRE><H1><A NAME=v35r5>2009-07-30 Brunel v35r5</A></H1><PRE>
This version uses projects Gaudi v21r3, LHCb v27r5, Lbcom v7r5, Rec v7r5
 and SQLDDDB v5r9, ParamFiles v8r1, FieldMap v5r2, AppConfig v3r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r3 or from v24r1

 - Changes to configuration:
   . Change default data type to "2009"
   . Propagate SpecialData property to ConfiguredMuonIDs (RecSys v7r5)
   . Moved addition of z-position reference nodes from configuration into fit to
     simplify configuration (TrackFitter v2r36, PatVeloTT v3r7)

 - Persistency changes
   . Reorder the Status bit field in MuonPID to preserve DC06/MC09 compatibility.
     Since LHCB v27r0 (Brunel v35r0) the bit order was different from DC06/MC09,
     implies that DaVinci v23r0 to v24r0 should not be used to access
     "InAcceptance" and "PreSelMomentum" bits of MuonID status on DC06/MC09 DSTs.
     (RecEvent v2r21)

 - New tuning:
   . Prevent creation of local MsgStream objects by caching one per detector 
     element, speeds up geometry access (VeloDet v13r8)
   . MuonID changes (MuonID v7r1)
     o Track fit disabled for cosmics
     o Change findTrackRegion to use region in M2 or M3 instead of M2 only
     o Skip Prob calculation only if no valid region in M2 AND M3
   . Store Muon PID information in charged ProtoParticles when
     MuonPID::IsMuonLoose is true, not MuonPID::IsMuon (GlobalReco v6r24) 
   . Changed chi2 cut again to recover more efficiency (PatVelo v3r16)
   . Added hot sector rejection to prevent exponential in time trigger behaviour
     with very hot events with many ghosts (PatVelo v3r16)
   . Changed prefitters to run only single iteration (TrackFitter v2r36)
   . Added state for last measurement (TrackFitter v2r36)

 - Bug fixes:
   . Fixed small bug in updating ref vectors in TrackMasterFitter. This had as a
     consequence that we were running the 2nd iteration of the Prefit for nothing
     since it would not actually use this as a reference in the normal fit. 
     Now, we can just a single iteration prefit with no change in fitter output.
     (TrackFitter v2r36)

 - New packaging:
   . Use AppConfig v3r*

 - Monitoring changes
   . Technical changes to speed up monitoring code (CaloMoniDst v3r9)
   . Do not try to access MC information when MC is disabled
     (RichRecMCTools v2r24, RichRecQC v2r32, RichMCTools v3r12, RichKernel v7r25)
   . Update RichRecoQC and RichTracklessRingMoni to use new histogramming 
     methods in Rich/RichKernel. Improves CPU usage a little and also moves
     histogram booking to initialize() (RichRecQC v2r32, RichKernel v7r25)
   . Suppress some monitors that combine all track types to "Expert" mode.
     In practice, the individual track type monitors are more useful.
     (RichRecQC v2r32)
   . Modifications to VeloTrackMonitor histograms (VeloRecMonitors v1r11)

 - Changes to example options:
   . In MC09 example options, set MC09 DataType and remove import *


</PRE><H1><A NAME=v35r4>2009-07-16 Brunel v35r4</A></H1><PRE>
This version uses projects Gaudi v21r3, LHCb v27r4, Lbcom v7r4, Rec v7r4
 and SQLDDDB v5r9, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v23r0 to v24r0

- New tuning
  . Modified HPD description to speed up initialization 
    (SQLDDDB v5r9 with head-20090708 tag or later, DetDescCnv v4r9)
  . New implementation of MuonID (MuonID v7r0)
    o IsMuonLoose condition (which takes the OR of the muon hits in FOI instead
      of the AND) is now the "default" condition (instead of IsMuon) for the
      first step of the MuonID. The DLL is built only if the IsMuonLoose is true
    o Muon Tracks are stored in the MuonPID object only if IsMuonLoose is true
    o MuonPID objects are stored in the ProtoParticle only if IsMuonLoose is true
    o IsMuon is still kept as member of the MuonPID object, it can be recovered
      whenever it is needed. IsMuon=true data set is always a subsample of the
      IsMuonLoose=true data set
  . Changes to track selection for ProtoParticles (GlobalReco v6r2)
    o Suppress all Velo and Tracks from being made into ProtoParticles
    o Add loose track selection criteria to charged ProtoParticle creation. 
      Current cut is track Chi^2/d.o.f. < 50
  . Changed the PatVelo chi^2 cut to optimise for MC09 signal (not Minimum Bias).
    (PatVelo v3r15) (see <a href="http://indico.cern.ch/materialDisplay.py?contribId=2&sessionId=0&materialId=slides&confId=62985">presentation</a> at tracking workshop on 2009-07-10)   
  . Tune Tsa & Match tracks for MC09 (TsaAlgorithms v3r11,TrackMatching v2r23)  
    (see <a href="http://indico.cern.ch/materialDisplay.py?contribId=1&sessionId=0&materialId=slides&confId=62985">presentation</a> at tracking workshop on 2009-07-10)

- Changes to configuration
  . Change default DataType to "2009" (Brunel(), GaudiConf v12r7)
  . If DDDB tags not explicitly set, use DDDBConf defaults for given DataType
    (previously setting of DDDBtag and CondDBtag was compulsory)(GaudiConf v12r7)
  . Changed default tags for 2009 DataType (DDDB v1r20)
    o head-20090713         for DDDB
    o sim-20090713-vc-md100 for SIMCOND
    o head-20090713         for LHCBCOND
  . Luminosity sequences changed to follow change in BXType names in ODIN from
    Left/Right to 1/2 (Brunel(), DAQEvent v8r0, LHCbAlgs v2r28, LumiAlgs v2r2)
  . MuonID now configured via configurables (RecSys v7r4, MuonID v7r0)
    o MuonIDAlg renamed from MuonID
  . MuonPIDChecker now configured via configurable (Brunel, MuonPIDChecker v4r0)

- Bug fixes
  . Fix bug in RichRecTrack where NDOF and charge data members were floats
    instead of ints (RichRecBase v3r24, RichRecMCTools v2r23)
  . Added test of vertex pointer returned by TrackVertexer in TrackV0Finder
    (TrackUtils v1r28)

- Changes to monitoring
  . Modified STClusterMonitor to book histograms at initialize (STMonitors v1r5)
  . Modifications to MuonPID monitoring and checking (MuonPIDChecker v4r0)
    o The configuration and reference values vary according to the DataType 
      chosen. Possible DataTypes so far are: DC06, 2008, MC09, 2009
    o Added Histograms for binned DLL, ProbMu, ProbNMu, Eff, Misid vs DLL Cut,
      multiplicity as a function of Track x,y and region and other quantities
      introduced in the new MuonID v7r0 
    o Separate monitoring of MuonPIDs from monitoring of Muon tracks in 
      methods getTrInfo and getMuTrInfo
  . Compact a bit the summary table for charged ProtoParticles (GlobalReco v6r23)
  . Add efficiency on ks and lambda daughters + B daughters to default 
    TrackChecker output (TrackCheckers v4r7)
	. Changes to VeloTrackMonitor (VeloRecMonitors v1r10)
    o remove one 2d histogram
    o uncomment histograms for measurement number for pos. and neg. tracks
    o added new histograms Pseudoefficiency vs sensorID, adc distributions for r
      and  phi clusters associated to the tracks
		o bug fix in number of measurements per track

 - Changes to example options files
   . 2008-Cosmics-Data.py now sets 2008 DataType
   . Fix DataType in Brunel-MC09-*.py, was using default value, not "MC09"


</PRE><H1><A NAME=v35r3>2009-07-02 Brunel v35r3</A></H1><PRE>
This version uses projects Gaudi v21r2, LHCb v27r3, Lbcom v7r3, Rec v7r3
 and SQLDDDB v5r8, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r3 or greater

- Persistency changes
  . When reading real data and producing rdst, L0 and HLT raw banks are copied to
    a RawEvent in RawEventLocation::Copied and stored on rdst
    (DAQEvent v7r21, GaudiConf v12r6)
  . Add support for RawEvent in packed DST (EventPacker v1r5, GaudiConf v12r6)
  . RDST is always packed (GaudiConf v12r6)
  . LHCbIDs on track are now sorted (TrackEvent v4r21, EventPacker v1r5)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=0&resId=0&materialId=slides&confId=48016">presentation</a> at T-Rec on 2009-06-29)

- New tuning
  . gaudirun.py has new -T (or --tcmalloc) option, switches on tcmalloc as memory
    allocator (Gaudi v21r2)
  . Take advantage of sorted LHCbIDs on track in TrackCloneFinder
    (TrackTools v3r18, TrackUtils v1r27, TrackInterfaces v4r4)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=0&resId=0&materialId=slides&confId=48016">presentation</a> at T-Rec on 2009-06-29)
  . Tweaked how tracks are fitted internally for a few microns gain in resolution
    and improved ghost rate (PatVelo v3r14)
    (see <a href="http://indico.cern.ch/getFile.py/access?contribId=3&materialId=slides&confId=48016">presentation</a> at T-Rec on 2009-06-29)

- Changes to configurables
  . Add new Brunel().OutputLevel property to Brunel allow overall control of the
    printout levels. This property is propagated to other Configurables.
    This (partly) obsoletes the NoWarnings property, but it is still
    needed for backwards compatibility with Dirac 
    (Brunel v35r3, GaudiConf v12r6, RichKernel v7r23, RecSys v7r3, 
     GlobalReco v6r22, RichRecQC v2r31, RichRecSys v3r21)

- Changes to build configuration
  . Optimised libraries now built without -s option, to give meaningful stack
    trace information in case of crashes (Gaudi v21r2)
  . New make option "QUICK=2" to skip dependency calculation (Gaudi v21r2)
  . <component>_dll.cpp files no longer needed (Gaudi v21r2)

- Bug fixes
  . Set initial event time for DC06 data (avoids problems with ONLINE snapshots)
    (DDDB v1r19)
  . Fix floating point exception in CelAutoTaggedCell (CaloReco v4r20)

- Changes to monitoring
  . All histograms in VeloClusterMonitor are now booked in initialize()
    (VeloRecMonitors v1r9)

</PRE><H1><A NAME=v35r2>2009-06-22 Brunel v35r2</A></H1><PRE>
This version uses projects Gaudi v21r1, LHCb v27r2, Lbcom v7r2, Rec v7r2
 and SQLDDDB v5r8, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New tuning:
   . Cleanup configurable for reprocessing case
   . Use Downstream tracking both in RecoTracking.py and PatChecking.py in case
     of fieldOff (TrackSys v4r24)
   . Remove creation of measurements in MuonID (MuonID v6r3)
   . Add parent track to ancestors in MuonID (MuonID v6r3)
   . Improvements to ring finding in Rich
     (RichENNRingFinder v1r1, RichMarkovRingFinder v2r8, RichRecBase v3r23)
   . Updates to Rich track selection
     (RichRecAlgorithms v2r16, RichRecTrackTools v1r12, RichRecBase v3r23)

 - Bug fixes
   . Update Brunel() for running with ETC input, for FEST stripping use case
   . Abort parabola fit in case the distances of hit to reference line gets
     unreasonably large (PatAlgorithms v3r22)
   . Fix in event sizes reported by Rich decoding tools (RichDAQ v3r24)
   . More robustness in full cluster decoding (VeloDAQ v4r7)
   . Fixes to CondDB ConfigurableUser to do with interference between SQLite
     local copies and CondDBTimeSwitchSvc (DetCond v12r7)

 - Monitoring changes
   . Efficiency in Best tracks container now measured only for Long tracks
     (TrackSys v4r24, TrackCheckers v4r6)
   . Add TrackDiMuonMonitor (TrackMonitors v1r10)
   . Add RichRawDataSize monitors (RichRecQC v2r30)
   . Improved Rich MC based trackless ring monitoring plots (RichRecQC v2r30)
   . Improvements in VeloClusterMonitor (VeloRecMonitors v1r8)

 - Packaging changes
   . Remove obsolete DefineETC.opts, Brunel never writes an ETC
   . Improve handling of Brunel().NoWarning functionality
     (Brunel v35r2, GaudiConf v12r5)

</PRE><H1><A NAME=v35r1>2009-06-05 Brunel v35r1</A></H1><PRE>
This version uses projects Gaudi v21r1, LHCb v27r1, Lbcom v7r1, Rec v7r1
 and SQLDDDB v5r7, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - Persistency changes
   . Add option Brunel().OutputType = "XDST"
     XDST is a new "extended DST" file type, contanining also .sim containers.
     Replaces the need to save and subsequently access .sim files when MCHits are
     to be kept for special studies (Brunel v35r1, GaudiConf v12r4)

 - New tuning
   . Improvements to track isolation tool 
     (RichRecTrackTools v1r11, RichRecBase v3r22)
   . Changes to Rich track selection criteria. Tsa track specific "TsaLikelihood"
     selection cut replaced by more global "Likelihood" cut for all tracks.
     (RichRecTrackTools v1r11, RichRecBase v3r22)
   . Some improvements to the trackless ring filtering and isolation algorithms
     (RichRecAlgorithms v2r15)
   . Small improvements to the ring finder algorithm (RichMarkovRingFinder v2r7)

 - Bug fixes
   . CaloPhotonChecker.cpp: fix invalid matrix indices in computation of "shape"
     (CaloMoniDst v3r7)
   . Fix untested StatusCode on Warning() and Error() calls (CaloPIDs v4r17)
   . Use Track::probChi2() instead of TMath::Prob( tr->chi2(), tr->nDoF()) for
     better protection against FPE (NNTools v1r5)
   . In PatChecking.py, switch off TrackAssociator("AssocDownstream") and
     TrackEffChecker("Downstream") in fieldOff case, for consistency with
     RecoTracking.py (TrackSys v4r23)
   . Make sure that no hits are rejected in the internal fit in the fit 
     initialization tool (PatAlgorithms v3r21)
   . Bug fix on some array sizes (MuonPIDChecker v3r2)
   . Replace MessageSvc() with getConfigurable("MessageSvc") in python
     Configuration to avoid problems with online running, where a different
     Message Service type is used (RichRecQC v2r29, DetCond v12r6)
   . Fix a small bug in track creator selection stats. (RichRecTrackTools v1r11)
   . Fix precision and platform dependence problems in Calo reconstruction
     (CaloUtils v8r5)

 - Monitoring changes
   . Add new set of Rich track selection efficiency monitors (RichRecQC v2r29)
   . New 'ENN' trackless ring finding algorithm enabled by default. The rings are
     currently only used for monitoring purposes (RichRecQC v2r29)
   . Add a bit more statistical printout (CaloTools v5r9)
   . Fix unused StatusCode in STClusterMonitor (STMonitors v1r2)

 - Changes to tests:
   . Add QMTest brunel-mc09-withtruth-invfield, same as brunel-mc09-withtruth but
     with inverted magnetic field, to check identical output
   . Add preprocessors that can be given to the QMTest ValidateWithReference 
     function to exclude lines expected to change in the QMTest output
     (Brunel v35r1, GaudiConf v12r3)

 - New packaging
   . Cleanups in Rich configurables (RichRecQC v2r29, RichRecSys v3r19)
   . Add RichOfflineGPIDSeq as wrapper to existing GPID sequences 
   . Moved STClusterMonitor and STLiteClusterMonitor into ST namespace. 
     (STMonitors v1r2)

</PRE><H1><A NAME=v35r0>2009-05-13 Brunel v35r0</A></H1><PRE>
This version uses projects Gaudi v21r0, LHCb v27r0, Lbcom v7r0, Rec v7r0
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a development version for changes subsequent to the 2009 MC production. 
This version introduces support for slc5 with gcc43 compiler.
Output requires DaVinci v22r1 or greater

 - New packaging
   . Adapt Brunel() Configurable for correct inclusion of units.opts following
     removal of include from CaloMoniDst options

 - Functionality changes
 - Persistency changes
   . Change input and output FSR locations to be under /FileRecords instead of
     /RunRecords, following reimplementation of FileRecordSvc in Gaudi v21
     (LumiAlgs v2r0, LumiEvent v2r0, Brunel() configurable)

 - New tuning
   . Add CaloGetterInit to reco sequence to have fast access to CaloDigits
     (CaloReco v4r19, CaloTools v5r8)
   . Speed up data access and processing in Calo2Calo/CaloHypo2Calo
     (CaloTools v5r8)
   . Several changes for performance improvements in PatVelo, see release.notes
     (PatVelo v3r13)
   . Modify the VeloRHit and VeloPhiHit constructors to define the width as
     sqrt(12) * pitch, not taking into account the cluster size (TfKernel v2r11)
   . Change default for OmitSeedFitOutliers switch to false (TrackMatching v2r22)
   . New tuning of STOfflinePosition tool:
     o Improved tune of error estimates using long tracks.
     o New charge sharing functions. Cubic plus linear term for 2-strip clusters,
       cubic term for 3-strip clusters, linear term for 4-strip clusters, no
       correction applied for the others. The error estimates are also changed.
     (STTools v3r9) (See <a href="http://indico.cern.ch/materialDisplay.py?contribId=1&materialId=slides&confId=48009">presentation</a> at T-Rec on 2009-05-11)
   . Changes to speed up geometry initialization (DetDescCnv v4r9, XmlTools v6r3)

 - Bug fixes
   . Fix untested StatusCodes (CaloPIDs v4r16, RichRecTrackTools v1r10)
   . Fixed bug with ancestors in TrackStateInitTool (TrackTools v3r17)
   . Fix for PatForward (prevent from overwritting selected hits flags)
     (PatAlgorithms v3r19)
   . Check for at least 2 x and 2 stereo hits in diff. planes NOT removed
     by the fit for all seed tracks entering the matching (TrackMatching v2r22)
  .  Fix configuration bug where photon predictor settings where not properly 
     set when running under non-default settings (RichRecSys v3r18)

 - Monitoring changes
   . Add histograms for CaloPID analysis and energy flow calibration
     (CaloMoniDst v3r6)
   . Added more histos and fixed histogram labels in OTTrackMonitor
     (TrackMonitors v1r9)
   . Add residuals per layer histos to ITTrackMonitor (TrackMonitors v1r9)
   . Changed constrain method in TrackFitMatchMonitor (TrackMonitors v1r9)
   . Added hit patterns to TrackMonitor (TrackMonitors v1r9)
   . Add new IFB monitoring (RichRecQC v2r28)
   . Make PID performance plots for Long tracks as well as All tracks
     (RichRecQC v2r28)
   . A few new CK theta resolution plots (RichRecQC v2r28)
   . Small improvements to the PID plots (RichRecTools v4r8)
   . Various changes to Velo reconstruction monitors (VeloRecMonitors v1r6)
   . Various changes to ST monitors (STMonitors v1r1)

</PRE><H1><A NAME=v34r7>2009-05-26 Brunel v34r7</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r6
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New features
   . New option Brunel().DstType = 'XDST', adds MCHits to MC DST
     (Brunel v34r7, GaudiConf v12r3)

 - Bug fixes
   . Make sure that no hits are rejected in the internal fit in the fit
     initialization tool (PatAlgorithms v3r21). Fixes very infrequent crash in
     FEST09 reconstruction

</PRE><H1><A NAME=v34r6>2009-05-11 Brunel v34r6</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r6
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - Bug fixes
  . In PatForward prevent from overwriting selected hits flags
    (PatAlgorithms v3r19). Fixes infrequent crash in MC09 test production
  . In PatForward, use scale factor from magnetic field service in PatAddTTCoord,
    code was assuming md100 (PatAlgorithms v3r20).
  . In TrackMatchveloSeed, change default for OmitSeedFitOutliers switch to false
    (TrackMatching v2r21p2). Fixes frequent crashes in MC09 test production

</PRE><H1><A NAME=v34r5>2009-04-22 Brunel v34r5</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r5
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production.
Output requires DaVinci v22r1 or greater

 - Bug fixes
   . Make PatSeedFit safe against unreasonable track input. Fixes frequent
     TransportSvc exceptions due to FPE

</PRE><H1><A NAME=v34r4>2009-04-20 Brunel v34r4</A></H1><PRE>
Version built on v34b branch
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r4
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production.
Output requires DaVinci v22r1 or greater

 - Bug fixes
   . Fix to track fit initialisation, to take into account OT tilt. Fix also
     untested StatusCode (PatAlgorithms v3r17)
   . Fix valgrind.job for new lbLogin environment

 - Functionality change:
   . In Brunel(), only set IODataManager().AgeLimit = 0 if the option has not
     been previously set. Allows more user control over this setting.

</PRE><H1><A NAME=v34r3>2009-04-14 Brunel v34r3</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r3, Lbcom v6r27, Rec v6r3
 and SQLDDDB v5r3, ParamFiles v8r1, FieldMap v5r2, AppConfig v2r*

This is a production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New packaging
   . Add dependency to AppConfig v2r*, to pick up options for production
   . Add explicit use CASTOR from LCG_Interfaces for QMTests
   . Use ParamFiles v8r1 (for MC09 Calo PIDs pdf)
   . Remove obsolete Rec/Brunel/DQ directory

 - Functionality changes
   . New Brunel().DigiType option: when set to "Minimal", do not read MC Truth
     from .digi input, and do not save it on output, except for pileup info
     propagated from Boole "Minimal" output (Configuration.py, GaudiConf v12r2)
   . Remove Brunel().UseOracle option, use DetCond().UseOracle instead
   . Add bool option RecInit().PrintEventTime, if True prints the event time
     together with the run and event number (LHCbKernel v11r2, RecAlgs v1r8)

 - Persistency changes
   . Add two new data members to GenHeader, the total inelastic cross section
     and frequency of crossing of filled-filled bunches (GenEvent v5r5)
   . When reading "Minimal" .digi, pSim/MCVertices contains only primary vertices

 - New tuning
   . DstConf() configurable now prints Dst content at startup (GaudiConf v12r2)
   . New default tags for 2008 real data: head-20090330 for DDDB,
     head-20090402 for LHCBCOND (DDDB v1r16, SQLDDDB v5r3)
   . AddNeigbours in EcalEnergyForTrack and HcalEnergyForTrack changed to FALSE
     (CaloPIDs v4r15)
   . New CaloPID PDFs tuning. DC06 tuning still accessible when DC06 DataType
     selected (CaloReco v4r18, ParamFiles v8r1)
   . Use detailed dedx StateDetailedBetheBlochEnergyCorrectionTool in the track
     fit. Elsewhere default remains simple tool 
     (TrackFitter v2r32, TrackExtrapolators v2r21)
   . New algorithm TrackStateInitAlg and tool TrackStateInitTool called for 
     each track container to re-initialize the track starting from LHCbIDs. 
     Allows to get	the same fit results without dependence on previous fitting
     history (TrackSys v4r22, TrackTools v3r16, TrackInterfaces v4r2)
   . Changed default tune of TrackVelodEdxCharge to expect 47.1 ADC per cluster
     (TrackTools v3r16)
   . Changed the FOIfactor to 1.2 to recover some efficiency (2009 settings) 
     (MuonID v6r2)

 - Bug fixes
   . In Brunel() configurable, use RunRecordStream for writing FSR, not 
     OutputFSRStream (was writing one FSR per event!)
   . Fix bad default setting for CaloHypo2Calo.cpp (Seed=false -> true), plus
     minor bug fix (CaloTools v5r7)
   . Fix untested StatusCodes (RichDAQ v3r23p1, TrackMCTools v2r22,
     TrackUtils v1r25, VeloRecMonitors v1r5)
   . Fix FPE in CaloMergedPi0Alg (missing initialization) (CaloReco v4r18)
   . Fix for FPE in PatDownstream and PatFwdFitLine (PatAlgorithms v3r16)
   . Changed default constructor of PatVeloPhiList to initialise all members,
     fixes another FPE in scl4_ia32_gcc34_dbg (PatVelo v3r12)
   . Remove hardcoded magnetic field polarity 
     (PatVeloTT v3r6, PatAlgorithms v3r16)

 - Monitoring changes
   . Set CaloDQ.opts histo selection as default: selection of relevant
     monitoring histo for Data Quality stuff (CaloMoniDst v3r5)
   . CaloFullMonitoring.opts produces the whole histo set, to be explicitly
     added with importOptions (CaloMoniDst v3r5)
   . Added OTTrackMonitor, added six plots for vertex x,y,z positions for
     left/right half respectively (TrackMonitors v1r8)
   . Miscellaneous minor improvements to the detailed MC monitors
     (RichRecMonitors v2r22)
   . Suppress empty plot in MC free running from Rich::Rec::MC::PixelQC
     (RichRecQC v2r27)
   . Suppress warning about isolation tool not implemented for Aerogel
     (RichRecTrackTools v1r9)
   . Reduced (unnecessary high) binning of a few histos in VeloTrackMonitor
     (VeloRecMonitors v1r5)
   . Introduce new plots/profile histograms (VeloRecMonitors v1r5)
     o Measurement of +ve and -ve charges
     o Biased/unbiased residuals versus momentum profiles for +ve & -ve charges

 - Changes to tests and example options
   . Add MC09-Files.py: example files of MC09 data
   . Add Brunel-MC09-WithTruth.py: MC09 simulation checking and saving MC Truth
   . Add Brunel-MC09-NoTruth.py: MC09 simulation without checking or saving MC Truth
   . Remove Copy.opts, use instead $STDOPTS/PoolCopy.opts
   . Remove 2008 MC example files: 2008-Files.py, Brunel-2008-MC.py, 
     Brunel-2008-MC-VeloOpen.py, Brunel-2008-MC-BOff-VeloOpen.py
   . Replace brunel-2008-mc test with brunel-mc09-withtruth, brunel-mc09-notruth
   . No longer disable FPE check for MergedPi0Rec, now fixed
   . Add event time printout to brunel-mc09-withtruth test

</PRE><H1><A NAME=v34r2>2009-02-25 Brunel v34r2</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r2, Lbcom v6r26, Rec v6r2
 and SQLDDDB v5r2, ParamFiles v8r0, FieldMap v5r2

This is a pre-production version for the 2009 MC production. 
Output requires DaVinci v22r1 or greater

 - New packaging:
   . Added QMTests for:
     o DC06, 2008 real data and simulation, cosmics data processing
     o Expert histos and RecL0Only options
     o FPE checking
     o MDF writing
   . Improve python documentation of Brunel() configurable options
   . Tweak the doxygen appearance
   . Use new L0Conf configurable to set up L0 filtering (L0DU v8r13)

 - Persistency changes
   . Create FSR output stream and enable FSR writing by default
   . V0s now written as PackedTwoProngVertex
     (GaudiConf v12r1, PackedEvent v3r5, EventPacker v1r3)
   . Remove version from packed Track, CaloHypo, Protoparticle and Vertex: 
     This exists in all DataObjects (PackedEvent v3r5)
   . Add possibility to write RDST in MDF format
     (GaudiConf v12r1, DAQEvent v7r18, EventPacker v1r3, MDF v3r17)

 - New functionality
   . Activate LumiFSR creation when reading MDF files (LumiEvent v1r0)
   . Use LHCb::ParticlePropertySvc instead of Gaudi version

 - New tuning
   . Improvements to speed up initialisation of geometry
     (DetDescSvc v2r3, STDet v4r7)
   . Improvements to OTDAQ error handling, decrease verbosity (OTDAQ v7r5)
   . Protect against eccessive warnings in TrajPoca.cpp (LHCbAlgs v2r24)
   . Create TMVA::Reader with "Silent" flag, to reduce initialization verbosity
     (NNTools v1r4)
   . Cluster size method for STMeasurement now returns value given by
     STPositionTool [was value from cluster] (TrackFitEvent v3r20)
   . Change Rich pixel cleaning options (disable by default) (RichRecSys v3r16)
   . Change the MuonID extrapolation Z position to one that is saved to the DST 
     (MuonID v6r1)
   . Removed cut on maximum number of T hits in TsaSeed (TsaAlgorithms v3r9)
   . Removed OTTimeCreator from sequence (TrackSys v4r21)
   . Switch to special OT decoder for cosmics (TrackSys v4r21)
   . Changes to run the track fit with Lite clusters
     (TrackTools v3r15, TrackFitter v2r31, TrackProjectors v2r22, 
      TrackFitEvent v3r20, VeloDAQ v4r5, STAlgorithms v3r4, TrackInterfaces v4r1,
      VeloTools v3r3, TrackEvent v4r18, LHCbKernel v11r1)
   . Use clusterselector tool in STClusterKiller
     (STAlgorithms v3r4, STKernel v1r11, STTools v3r8)
   . Updates to the generic tracking (TsaAlgorithms v3r9)
   . Add job option for minimum number of remaining hits in outlier removal
     (TrackFitter v2r31)
   . Set up fit for merged OT events when running cosmics (TrackFitter v2r31)

 - Monitoring changes
 	 . Add EventCountHisto in init sequence (LHCbAlgs v2r24) 
   . Remove OT expert monitoring: OTTimes no longer made in Brunel, so pointless
     to run OTTimeMonitor 
   . Set histo name and directory for MemoryTool
   . In LHCbApp configurable, add Gaudi auditors to list of possible Monitors:
     KnownAuditors = ["NameAuditor","MemoryAuditor","ChronoAuditor"]
     If given as a Monitor, the auditor is enabled (GaudiConf v12r1)
   . Improvements in Velo Monitoring (VeloRecMonitors v1r4)
   . Improvements in OT Monitoring (OTMonitor v2r9)
   . Small changes to Rich PID plots tool to rationalise with those produced by
     the DaVinciMonitors plot tools (RichRecTools v4r7)
   . Addition of Rich alignement monitors (RichRecQC v2r26)
   . Add histos of muon hit multiplicity as a function of X,Y and region/station
     (MuonPIDChecker v3r1)
   . Adaptations to monitor lite cluster types (TrackMonitors v1r7)
   . Changes to ghost track classification
     (TrackMCTools v2r21, MCEvent v2r12, MCInterfaces v1r7)

 - Bug fixes
   . In Brunel() configurable:
     o Fix default histogram file name when one is not given in options
     o Add "pRec" to nodes to be killed when reprocessing from DST etc.
     o Protect against missing #units when Calo not in monitoring sequence
     o Fix bug in propagation of default properties to used configurables
       (LHCbKernel v11r1)
   . Fixed bug in configuration of FitVelo (TrackFitter v2r31)
   . Fixed a minor memory leak in GeometryInfoPlus (DetDescSvc v2r3)
   . Fix untested StatusCodes (OTDAQ v7r5, TrackMatching v2r21p1,
                               MuonPIDChecker v3r1, VeloRecMonitors v1r4)
   . Fix FPE occurring in CaloClusterizationTool on ia32 only (CaloReco v4r17p1)
   . Improve protection against FPE in NeuralNetTmva (NNTools v1r4)
   . Make PatVeloSpaceTrack more robust against FPE on ia32 (PatVelo v3r11)
   . Fix uninitialised variables in constructor of PatFwdTrackCandidate. Fixes
     slc4_ia32_gcc34_dbg FPE in Brunel (PatAlgorithms v3r15)
   . Protect against non-existance of containers (TrackMonitors v1r7)

</PRE><H1><A NAME=v34r1p1>2009-01-21 Brunel v34r1p1</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r1, Lbcom v6r25, Rec v6r1
 and SQLDDDB v5r1, ParamFiles v8r0, FieldMap v5r2

This is a pre-production version for the 2009 MC production. 
Output requires DaVinci v22r0p1 or greater

- Bug fixes (backward incompatible persistency change)
  . Change the coding of cov_44 in track state, to be dp/p with a scale factor.
    Affects momentum error of tracks on PackedDST (EventPacker v1r2)

- Environment fixes
  . Exclude TMVA initialisation messages and "PARAM/ParamFiles" paths from QMTest
    comparison

</PRE><H1><A NAME=v34r1>2009-01-14 Brunel v34r1</A></H1><PRE>
This version uses projects Gaudi v20r4, LHCb v26r1, Lbcom v6r25, Rec v6r1
 and SQLDDDB v5r1, ParamFiles v8r0, FieldMap v5r2

This is a pre-production version for the 2009 MC production. 
Output requires DaVinci v22r0 or greater

- New features
  . Explicit setting of database tag now compulsory in options (GaudiConf v12r0).
    Options files for Brunel input data examples updated accordingly
  . Framework support for File Summary Records (Gaudi v20r4)
  . All code now compiles with gcc 4.3 and on OSX
  . Removed Brunel().ExpertTracking option, use TrackSys().ExpertTracking instead
  . Do not stop if unknown sub-detector added to Moni or Check sequences, just 
    issue a warning
  . Set Context to all phases, default is "Offline"
  . Added the possibility to use local copies of the SQLite databases (through
    CondDBSQLiteCopyAccSvc) (DetCond v12r5)
  . Add TrackV0Finder to RecoVertexSeq (RecSys v6r1)

- New packaging
  . DST/RDST content now defined in DstConf configurable (GaudiConf v12r0)
  . Removal of old .opts files, replaced by .py options or configurables
    (MuonID v6r0, MuonPIDChecker v3r0, RichRecQC v2r25, RichRecMonitors v2r21,
     Associators v3r7, GlobalReco v6r18, Brunel)
  . PatChecking sequence now set up in TrackSys() when WithMC=True. 
  . Changed example input file for 2008 to one produced with Boole v17r2,
    DB tags head-200910112, sim-20090112
  . Add a file DoxyBrunel.cfg, included by DoxyFile.cfg, to allow standalone
    documentation of current project only. Make DoxyFile.cfg usable wherever
    BrunelSys resides
  . Update doxygen main page with current top level options files

- New tuning
  . Improvements in real data handling (STDAQ v3r14)
  . Improvements and fixes to Calo reconstruction (CaloReco v4r17)
  . Change outlier rejection such that minimum number of hits is left in each
    system (TrackFitter v2r30)
  . Improved efficiency of PatPV2D for multi PV events (PatPV v3r8)
  . Changes in refractive index tools, including fix to problem of correct
    aerogel tile parameters not being taken into account in 2008 simulations
    (RichRecTrackTools v1r8, RichRecStereoTools v1r5, RichTools v2r24,
     RichKernel v7r19, RichDet v1r4, RichRecBase v3r19)

- Persistency changes
  . Enable packed DST/RDST by default (not for DC06)
    (GaudiConf v12r0, LHCbKernel v11r0, PackedEvent v3r4, EventPacker v1r1)
  . Add Rec/Vertex/V0 to RDST and DST (GaudiConf v12r0)

- Monitoring changes
  . Cleanup handling of monitoring and checking in configurable
  . Add ProtoParticle expert monitoring (not run in default Expert check)
  . Various fixes and additions in STCheckers (STCheckers v2r9)
  . Add TrackV0Monitor to monitoring sequence (TrackMonitors v1r6)
  . Activate PV checker algorithm in PatChecking.py (TrackSys v4r20)
  . Miscellaneous monitoring updates (RichRecMonitors v2r21)
  . Variuos improvements to RichRecQC configurable (RichRecQC v2r25)

- Bug fixes
  . Make the expert checking respect the settings of the Check & Moni sequences
  . Fix FPE in DeCalorimeter.cpp (CaloDet v10r1)
  . Fixed bug in DeVeloRType::rPitch() that caused non-sensical results in 3
    sectors (VeloDet v13r5)
  . Avoid FPE in MCParticleSelector (SimComponents v2r15, MCEvent v2r11)
  . Fix unitialized variable (MuonDAQ v4r5p1)
  . Fix obsolete option in Brunel-2008-*-VeloOpen.py
  . Protect Calo(L0)DataProvider against abusive warning in case of 
    0-suppressed data (CaloDAQ v4r9)
  . CaloCosmicsTrackTool :: fix bug in Hcal timing (CaloTools v5r6)
  . Fixes to allow usage of OT linkers in post-DC06 simulation
    (TrackCheckers v4r5, TrackMCTools v2r20)
  . Add protection in for hits with zero error on residual (TrackMonitors v1r6)
  . Bug fix in TrackInterpolator (to do with outliers) (TrackTools v3r14)
  . Fixed unchecked statuscodes (TrackUtils v1r23)
  . Fix PatChecking.py to handle correctly TrackSys().veloOpen case
    (TrackSys v4r20)
  . Check for zero pitch in residual normalisation (VeloRecMonitors v1r3)

</PRE><H1><A NAME=v34r0>2008-11-26 Brunel v34r0</A></H1><PRE>
This version uses projects Gaudi v20r3, LHCb v26r0, Lbcom v6r24
 and SQLDDDB v5r0, ParamFiles v8r0, FieldMap v5r2

Functionally this version is similar to Brunel v33r3p1, but uses a new version of
Gaudi and major new version of LHCb, with many backward incompatible changes in
the configuration and in option names 

- New packaging
  . Many backward incompatible changes to Configurables:
    + Adapt to configuration changes in Gaudi v20r3, GaudiConf v10r13, 
                                        DDDB v1r13, DetCond v12r4
    + Most option names are changed. In particular:
      > All option names are Capitalized
      > New DataType option, removes need to set CondDBTag and DDDBtag if using
        default tags
    + applyConf() renamed __apply_configuration__ and called automatically
    + When a property with the same meaning is set in both Brunel and in an
      underlying configurable, Brunel property takes precedence. If neither is 
      set, Brunel default takes precedence
  . Changes to options files to adapt to changes in configurable, in particular:
    + Adapt to option name changes
    + Remove Brunel().applyConf() everywhere
    + Default names for output files now set inside configurable
  . Various updates to tracking configurables (TrackSys v4r19, PatAlgorithms v3r13,
    TrackMatching v2r20, TsaAlgorithms v3r7, TrackFitter v2r29)
  . Updates to Rich configurables, and removal of all Rich .opts files
    (RichMarkovRingFinder v2r3, RichMCAssociators v2r6, RichRecQC v2r24,
     RichRecSys v3r14)
  . In valgrind.job, use latest gaudirun.py options to extract .opts file
  . Remove Brunel.exe
  . Move to new ST algorithm/tool base classes
  . Particle properties table now taken from CondDB (DDDB v1r13)
  . Update DoxyFile.cfg for new xxx_HOME environment variables
  . Update SuppressWarnings.opts

- New features
  . New option UseSimCond that allows to use WithMC = False on digi files,
    while still using SimCond
  . Added support for cosmics (Brunel-Cosmic.py and 2008-Cosmic-Data.py,
    TrackProjectors v2r20, TrackTools v3r13, RichRecSys v3r14) 

- New tuning
  . Fix inefficient region around y=0 in OT F-modules in odd layers (OTDet v8r2,
    see http://www.nikhef.nl/pub/experiments/bfys/lhcb/outerTracker/NamingConventions/Modules/index.html)
  . Flag outliers, rather than remove them (TrackFitter v2r29)
  . Change strategy for FitVelo: don't use curvature (TrackFitter v2r29)
  . Create node for state at beamline before fitting track (TrackFitter v2r29)
  . In MeasurementProviderT, use centre of sector to get nominal z (TrackUtils v1r22)
  . Add option to PatSeeding to skip events above a certain maximum occupancy
    (currently maximum is set to 20 percent) (PatAlgorithms v3r13)
  . Added very hot sensor triplet trap to PatVeloGeneralTracking to reduce total
    number of combinations of clusters considered in a triplet (PatVelo v3r10)
  . Improvements for reconstruction of close primary vertices in multi PV events
    See http://indico.cern.ch/conferenceDisplay.py?confId=33059 (PatPV v3r7)

- Persistency changes
  . PatSeeding track history is now set to PatSeeding instead of PatForward
    (PatAlgorithms v3r13)
  . Set a flag in ProcStatus when PatSeeding skips events due to high occupancy
    (PatAlgorithms v3r13)
    
- Monitoring changes
  . Added ST monitoring
  . Added option to TrackResChecker to split histos by track type 
    (TrackCheckers v4r4)
  . Added momentum resolution to output of TrackChecker (TrackCheckers v4r4)
  . Fix histo IDs in TrackMonitor (TrackMonitors v1r5)
  . Fix histoTopDir in TrackVertexMonitor (TrackMonitors v1r5)
  . Do not print histogram statistics by default (GaudiAlg v11r12)
  . Make TrackEventCloneKiller less verbose at initialisation (TrackUtils v1r22)
  . Reduce min beta to 0 in All track CK theta monitor (RichRecQC v2r24)
  . Add new monitor to compare numbering information in the decoded data to that
    in the database, to find inconsistencies (not for DC06) (RichRecQC v2r24)

- Bug fixes and protections
  . Modified the QMTests to avoid failures when the database changes.
  . Fix untested StatusCodes (MuonDAQ v4r5)
  . Fix to remove "Warning in <TStreamerInfo::BuildOld>" message in case when Dll
    has been properly loaded. Now this message appears only if there is a real
    problem (i.e. reading HepMC 1 data without HepMCBack loaded) (HepMCBack vr1)
  . Fix FPEs also on ia32 (SimComponents v2r14)
  . Fix memory leak in SpdMonitor (CaloMoniDst v3r3)
  . Fix uninitialized variable in CaloID2DLL (CaloPID v4r14)
  . Protection for tracks with insufficient active measurements (TrackFitter v2r29)
  . Bug fix in TrackUsedLHCbID [duplicates handled correctly] (TrackTools v3r13)
  . Protect when MC particle does not have a mother (MuonPIDChecker v2r5)
  . Fix in RawBankToSTLiteCluster decoding [handle duplicates correctly] (STDAQ v3r13)
  . Protect against Velo Clusters with duplicate key in bank version 3 decoding
    (VeloDAQ v4r4)
  . Fix method that computes number of outliers (TrackEvent v4r16)
  . Protect Track::probchi2 against ndof=0 (TrackEvent v4r16)
  . Add readoutbankerror to flag corrupted events to avoid execute() failure
    (MuonDAQ v4r5)

</PRE><H1><A NAME=v33r3p1>2008-10-15 Brunel v33r3p1</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r2, Lbcom v6r23
 and SQLDDDB v5r0, ParamFiles v7r3, FieldMap v5r1

This version is a patch release for the production of 2008 MC alignment samples

- New features
  . Add Brunel-2008-MC-VeloOpen.py and Brunel-2008-MC-BOff-VeloOpen.py
  . Rename Brunel-2008-Stripping.py to Brunel-Stripping.py 
  . Rename Brunel-2008-Rdst.py to Brunel-Rdst.py

- New tuning
  . In Brunel-2008.py, set magnetic field off by default
  . In PatSeedingTool, add option to skip events above a certain maximum
    occupancy (currently maximum is set to 20 percent) and set a flag in
    ProcStatus when skipping events (PatAlgorithms v3r12)

- Bug fixes
  . Adapt valgrind.job for use on interactive LSF.
  . Adapt valgrind.job and Brunel_Ganga.job for use without version directory
  . In Brunel() configurable, for veloOpen case, switch off PatChecking for
    VeloRZ and Downstream track types, since these are not produced in this case
  . Protect divide by zero when magnetic field is off
    (MuonPIDChecker v2r4p1, PatAlgorithms v3r12)


</PRE><H1><A NAME=v33r3>2008-10-13 Brunel v33r3</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r2, Lbcom v6r23
 and SQLDDDB v5r0, ParamFiles v7r3, FieldMap v5r1

This version is a development version to prepare for reconstruction of real data
- Should be used to reconstruct 2008 geometries
- For 2008 simulation, needs data digitised with Boole v16r3 or later
- Can reconstruct DC06 data, except if digitised with Boole v15r1 or v15r2,
  but material seen is different from DC06

- Geometry changes (SQLDDDB v5r0, with DC06-20081002 or head-20081002 tags)
  . Corrections to IT 2008 geometry parameters (IT boxes moved by 3mm in z)
    requires data produced with tag head-20081002 or later
  . Fix to Prs reference plane position
  . Add new Calo conditions : (L0)calibration, channel quality (CaloDet v10r0)
  . Added Outer Tracker T0 and RT relation conditions (OTDet v8r1)

- New features
  . Add a qmtest that tests the initialisation of Brunel, used by Dirac to test
    the installation. Invoked with: "cmt TestPackage sam"  (BrunelSys v33r3)
  . Add options/2008-TED-Data.py, options for 2008 real data processing
  . New ExpertTracking option "MuonAlignTracks" to reconstruct and fit tracks in
    the Muons and add the states to the DST (disabled by default)
    (TrackSys v4r18, MuonTrackAlign v1r7, GaudiConf v10r13)
  . Add option to ignore e-loss corrections (TrackFitter v2r28)
  . Possibility to process multiple spills in same TAE event 
    (STAlgorithms v3r1, STDAQ v3r12, GaudiConf v10r13, RichKernel v7r17)
  . Debug libraries now built without Boost memory allocators, to allow search
    for TES memory leaks
    (TrackFitEvent v3r18, GaudiObjDesc v10r13, LHCbKernel v9r2))

- New tuning
  . Update 2008-Files.py to use digi file produced with Boole v16r3
  . Major reorganisation of Calorimeter reconstruction
    (CaloReco v4r16, CaloDet v10r0, CaloUtils v8r2, CaloInterfaces v7r8)
  . Minor updates to Rich reconstruction
    (RichMarkovRingFinder v2r2, RichRecAlgorithms v2r14, RichRecTools v4r6)
  . Updated PatVeloFitLHCbIDs to allow a first measurement state and a variable
    multiple scattering term based on the input track's momentum (PatVelo v3r9)
  . Add driftTime function to OTMeasurement (TrackFitEvent v3r18)
  . Major cleanup of TrackProjectors
    (TrackProjectors v2r19, TrackFitter v2r28, TrackInterfaces v3r17)
  . Improved performance of matrix inversion routines (LHCbMath v3r3)

- Monitoring changes
  . Replace BrunelMoni.opts wih BrunelMoni.py, add Track Moni sequence
  . New PatChecking sequence, uses TrackAssociators, TrackResCheckers,
    TrackEffCheckers instead of PatTrack2MCParticle and PatChecker
  . Add Muon histograms to Moni sequence (MuonPIDChecker v2r4)
  . Review histogram production & prepare for real data (CaloMoniDst v3r2)
  . Minor changes to Rich histograms (RichMarkovRingFinder v2r2, RichRecQC v2r23)
  . RichPID histogram statistics no longer printed by default (RichRecTools v4r6)
  . Added configurable for Track monitoring sequence (TrackMonitors v1r4)
  . Added residuals (TrackMonitors v1r4)
  . First version of the track-based monitoring algorithm VeloTrackMonitor
    (VeloRecMonitors v1r1)
  . Added number of clusters per sensor to cluster monitor, off by default.
    (VeloRecMonitors v1r1)
  . Added sampling monitor plots separated for A and C side.
    (VeloRecMonitors v1r1)
  . Update SuppresWarnings.opts

- New packaging
  . Use ParamFiles v7r3, do not set DDDB major version (taken from LHCbSys)
  . Reorganise Configuration.py, remove Brunel.opts and Brunel().mainOptions
  . Clean up DDDB intialisation in Configurable, needs GaudiConf v10r13
  . Fix default options in Brunel_Ganga.py for consistency with new defaults
  . Change TrackClones.opts to python (TrackSys v4r18)
  . Replace Fitting.py with ConfiguredFitters (TrackSys v4r18, TrackFitter v2r28)

- Bug fixes and protections
  . More improvements and protections for real data decoding
    (STDAQ v3r12, DigiEvent v2r9)
  . Fix warning when filling histograms with nan (TrackCheckers v4r3)
  . Fix output for event weighted ghost rate (TrackCheckers v4r3)
  . Fix untested StatusCode
    (STDAQ v3r12, TsaAlgorithms v3r6, VeloRecMonitors v1r1, Magnet v5r1p1)
  . Fix memory leak in TrackStateVertex.cpp (TrackFitEvent v3r18)
  . Protect against using non-existent conditions 
    (DetDesc v18r9, CaloDet v10r0, OTDet v8r1, RichDet v11r2)
  . Fixed a bug in CondDBCommon::generateXMLCatalog, failing for folders with
    names shorter than 4 chars. Requires SQLDDDB v5r0 (DetCond v12r3)
  . Rich component names no longer contain blank spaces (LHCbKernel v9r2)
  . Fix bug in updateTool where m_fieldTool was only updated on the first
    instance for each field configuration change (Magnet v5r1p1)
  . More FPE protections (TrackEvent v4r15, TfKernel v2r3)
  . Fix uninitialized data members in Measurement constructor (TrackEvent v4r15)

</PRE><H1><A NAME=v33r2>2008-09-09 Brunel v33r2</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r1, Lbcom v6r22, Rec v5r11
 and DDDB v1r* (SQLDDDB v4r8 or greater), ParamFiles v7r2, FieldMap v5r*

This version is a development version to prepare for reconstruction of real 
data. It contains many fixes to data decoding and an overhaul of monitoring
- Should be used to reconstruct 2008 geometries
- For 2008 simulation, needs data digitised with Boole v16r2 or later
- Can reconstruct DC06 data, except if digitised with Boole v15r1 or v15r2,
  but material seen is different from DC06

- Configuration changes
  **************** IMPORTANT **************
  . Default setting in Configurable (picked up when using Brunel-Default.py and
    Brunel-2008.py) is now for real data, MDF input, default 2008 geometry
  *****************************************
  . New and update configuration files: 
    o Brunel-2008-MC.py   (MC with default 2008 geometry)
    o Brunel-2008-Rdst.py (RDST production from 2008 MDF real data)
    o Brunel-2008-Stripping.py (DST production from 2008 real data ETC)
    o Brunel-DC06.py      (Standard DC06 reconstruction)
    o Brunel-2008.py      (Real data, MDF, 2008 geometry)
    o Brunel-DC06L0Rdst.py, Brunel-DC06Rdst.py,  Brunel-DC06Stripping.py
  . Added an example MDF file (TED data taken 20080906) to 2008-Files.py
  . Major migration away from .opts, now using configurables in many packages
    (Brunel v33r2, RecSys v5r11, TrackSys v4r17, LHCbKernel v9r1, 
     RichRecQC v2r22, RichRecSys v3r13)
  . In  Brunel Configurable:
    . Added option printFreq to allow control over the event printing frequency
    . Added options to allow the various sequences to be modified. Allows, for 
      instance, sub-detectors to be disabled for specialist studies.
  + Check sequence is now completely defined in Configuration.py. The files
    BrunelMC.opts, BrunelCheck.opts are obsolete and have been removed

- Geometry changes
  . Fix staggering of straws in a OT module. The offsets are retrieved from DDDB.
    For 2008 geometry this is not backward compatible with digis produced with
    versions of Boole prior to v16r2
    (OTDet v8r0, SQLDDDB v4r9 with tags DC06-20080903, head-20080904 or later)
  . Add Velo Tell1-Sector mapping for 2008 data decoding
    (SQLDDDB v4r9 with tag head-20080904 or later)
  . Fixes to material and overlaps in Rich, Prs, Spd, Hcal (SQLDDDB v4r9)

- New features
  . Add an option to MagneticFieldSvc to use Set instead of Measured current from
    CondDB (default false, needed when running online) (Magnet v5r1)
  . Add functionalities to ST readout maps
    (SQLDDDB v4r9, STDAQ v3r11, STKernel v1r8, LHCbKernel v9r1)

- Monitoring changes
  . Rich monitoring uses new RichRecQCConf configurable. Uses the Check sequence
    when MC is enabled and the Moni sequence when it is not. Make sure some plots
    are filled in MC-free mode (Brunel v33r2, RichRecQC v2r22)
  . Add Velo and Calo monitoring (BrunelMoni.opts)
  . Updates to MuonPIDChecker, add possibility to run as a monitor
    (MuonPIDChecker v2r3) 

- Bug fixes
  . Many fixes and enhancements for real data decoding
    (L0MuonKernel v8r2, ProcessorKernel v5r2, L0Event v17r1p1, RecEvent v2r15,
     VeloEvent v16r6, STTell1Event v1r5, MuonDAQ v4r4, OTDAQ v7r2, STKernel v1r8,
     L0Calo v9r17, L0Muon v8r2, RichDAQ v3r20, STDAQ v3r11, VeloDAQ v4r3)
  . Fix uninitialised pointers in MagneticFieldSvc (Magnet v5r1)
  . Fix a FPE in MuonChamberGrid::listOfPhysChannels() (Magnet v5r1)
  . Fix in TT dead strip list (SQLDDDB v4r9)
  . Fixed bug in HeraBExtrapolator::rk5numde which would make it fail for q/p=0
    (TrackExtrapolators v2r20)
  . make FastMomentumTool and PtTransporter safe for 0 b field
    (TrackTools v3r11)
  . StateSimpleBetheBlochEnergyCorrectionTool.cpp, dEdx correction never applied,
    added missing tX[4] = 1.0/newP; (TrackTools v3r11)
  . Fix bug to extrapolator options in Fitting.py (TrackSys v4r17)
  . Fix bugs for nonDrifttimes and BfieldOff in Fitting.py and RecoTracking.py
    (TrackSys v4r17)
  . Small bug fix to track sort order between RZ and Space tracking;
    slight improvement in efficiency and ghost rate (PatVelo v3r8)
  . Don't abort processing when input Tracks are missing.
    (RichRecTrackTools v1r6)

</PRE><H1><A NAME=v33r1>2008-07-31 Brunel v33r1</A></H1><PRE>
This version uses projects Gaudi v20r2, LHCb v25r0, Lbcom v6r21, Rec v5r10
 and DDDB v1r* (SQLDDDB v4r7 or greater), ParamFiles v7r2, FieldMap v5r*

This is a development version.
- Should be used to reconstruct 2008 geometries
- Can be used for DC06 geometries, but material seen is different from DC06
- Cannot reconstruct data produced with Boole v15r1 or v15r2 (use v32r8 instead)
- Cannot reconstruct 2008 simulation digitized with Boole v16r0 (use v33r0)

- Persistency changes
  . Output data needs DaVinci v19r15 to v24r* in following cases:
    o If accessing simulated OT raw banks produced with Boole v16r1 or later
      (bank version SIM=63) (OTDAQ v7r1)
    o If accessing TT raw banks in 2008 data or simulation, due to fixes to 2008
      TT decoding. Thes fixes also prevent reconstruction of 2008 simulation
      digitized with Boole v16r0 or earlier (STDAQ v3r10, STKernel v1r7)
    o If accessing HepMCEvent record, which is always in HepMC 2 format on Brunel
      output. When reading .digi files, Brunel assumes HepMC 1 format for DC06
      data (and converts to HepMC 2), HepMC 2 otherwise; for DC06 data in HepMC 2
      format or other data in HepMC 1 format, change defaults by respectively 
      removing or adding the Dll "HepMCBack" from ApplicationMgr().Dlls (LCG_55a)
  . Removed /Event/Rec/Rich/RichOfflineSummaryTracks from default DST
    (GaudiConf v10r12, RichRecSys v3r12)

- New features
  . Added access to ONLINE partition of CondDB
    (DDDB v1r10, DetCond v12r2, SQLDDDB v4r7)
  . Added Brunel().useOracleCondDB flag (default False, uses SQLDDDB)
    (GaudiConf v10r12, DDDB v1r10)
  . At initialisation, use current time as best guess for initial values of
    conditions (DetDescSvc v2r1)
  . Velo motion system position (for Velo open/closed geometry) now taken from
    CondDB (VeloDet v13r3, SQLDDDB v4r7)
  . Magnetic field scale factor, polarity, field maps now taken from CondDB
    (Magnet v5r0, SQLDDDB v4r7)
  . New "RunChange" incident issued by OdinTimeDecoder when run number obtained
    from ODIN is different from the previous one (DAQEvent v7r13)
  . New algorithm TrackUseCaloMomentumAlg, clones Track objects and updates their
    momentum using CALO information (used in field off RICH reconstruction)
    (RichRecAlgorithms v2r12)
  . Updated valgrind.job to work with python options

- New tuning
  . Updated IT and TT dead channel maps for 2008 (STDet v4r4, SQLDDDB v4r7)
  . New distinction between Rich L1 hardware and logical ID numbers
    (RichDAQ v3r19, RichDet v11r0, RichKernel v7r14)
  . Adapted pattern algorithm tuning to measured field map, selecting correct
    tuning according to field map in use in MagneticFieldSvc
    (PatAlgorithms v3r9, TrackTools v3r10, Magnet v5r0, LHCbKernel v9r0)
  . Use new matrix inversion based on cholesky decomposition (TrackTools v3r10)

- Monitoring changes
  . Disable the Rich reconstruction summary data objects monitor (no longer
    produced by default) (RichRecQC v2r20)

- Bug fixes
  . Fix to gaudirun.py to allow producing correct old style options from
    python options (GaudiConf v10r12)
  . Fix to PatSeedingTool, was crashing when using isolation cuts
    (PatAlgorithms v3r9)
  . Protect MaterialLocator base to against 'null' extrapolation
    (TrackExtrapolators v2r19)
  . More fixes and protections for real data decoding (L0Calo v9r19, L0Muon v8r1,
    STDAQ v3r10, L0Event v17r1, STTELL1Event v1r4, STKernel v1r7)
  . In CaloZSupAlg, protect against large negative noise in 2D 0-sup method
    (CaloDAQ v4r7)
 
</PRE><H1><A NAME=v33r0>2008-07-21 Brunel v33r0</A></H1><PRE>
This version uses projects Gaudi v20r1, LHCb v24r1, Lbcom v6r20, Rec v5r9
 and DDDB v1r* (SQLDDDB v4r6 or greater), ParamFiles v7r2, FieldMap v5r*

As from this version, top level *.opts options have been removed, please use
gaudirun.py with the python configurable options. Usage of Brunel.exe is no
longer supported, it is kept for Ganga usage only

This is a development version.
- Can be used to reconstruct 2008 geometries, but only produced with Boole v16r0
- Can be used for DC06 geometries, but material seen is different from DC06
- Cannot reconstruct data produced with Boole v15r1 or v15r2 (use v32r8 instead)

- New features
  . Tracking now steered by python options
    (TrackSys v4r15, PatAlgorithms v3r8, PatVeloTT v3r2, TrackMatching v2r18,
     TsaAlgorithms v3r4)
  . Add expertTracking switches to Brunel configurables. 
    Supported values are: ["usePatSeeding","noDrifttimes","simplifiedGeometry"]
    (python/Brunel/Configuration.py, options/Brunel-Default.py, TrackSys v4r15)
  . Add "Vertex" to Reco.DetectorList, called after "Tr", for primary vertex
    reconstruction (RecSys v5r9)
  . Added possibility to use of dead strips in TT and IT 
    (TrackTools v3r9, TsaAlgorithms v3r4, STDet v4r3)
  . Added tests for VELO sensors readout and bad strips
    (TrackTools v3r9, VeloDet v13r2)
  . Added more cuts to TrackSelector (TrackTools v3r9)
  . OT decoding modified to support real data. Breaks support for simulated
    data digitized with Boole v15r1 and v15r2 (OTDAQ v7r0)
  . Many fixes and protections for decoding real data
    (L0Interfaces v1r3, L0Event v17r0, L0Calo v9r15, L0DU v8r7, L0Muon v8r0,
     L0MuonKernel v8r0,MuonDAQ v4r3, OTDAQ v7r0, RichDAQ v3r8, STDAQ v3r9,
     STKernel v1r6, STTell1Event v1r3)
  . Magnetic field scaling factor now taken from SIMCOND or ONLINE, can be
    over-ridden by job options (e.g. for DC06 field map) (Magnet v4r0)
  . Added Velo alignment condition, which is able to get X and Y offsets from
    another condition (VeloDet v13r2, SQLDDDB v4r6)
  . New calorimeter description with split halves
    (SQLDDDB v4r6, CaloDet v9r0, CaloDetXmlCnv v3r2)
  . Update Brunel_ganga.py for usage with Ganga 5
 
- Removed features
  . Remove all top level *.opts files, use configurable instead
  . Brunel.exe no longer supported, except for legacy usage via Ganga
    (N.B. valgrind.job not yet migrated, do not use)

- New tuning
  . Update 2008 simulation test file with one produced with Boole v16r0
    (2008-Files.opts)
  . Add more checks on input arguments of python/Brunel/Configuration.py
  . Use L0FilterFromRawSeq sequence from L0DU package in case of L0 filtering.
    Previously was recalculating emulated decision (Brunel.opts, L0DU
  . Use cholesky decomposition for track covariance matrix inversion
    (TrackFitter v2r26)
  . Improvements to PatDownstream and PatSeeding (PatAlgorithms v3r8)
  . Minor fix to the computation of the molar weight for computation of dE/dx
    constants for mixtures (DetDesc v18r7)

- New packaging
  . Move handling of options for fieldOff and veloOpen to tracking scripts
    (python/Brunel/Configuration.py, TrackSys v4r15)
  . Take reconstruction sequences from Reco.py, no longer from Reco.opts 
    (Brunel.opts, RecSys v5r9)

- Bug fixes
  . Fix uninitialised variables (PatChecker v3r3p1)
  . Fixes to IT geometry (SQLDDDB v4r6, STDet v4r3)
  . Fix FPE monitoring on Windows (LHCbKernel v8r6)
  . Protect a FPE in MuonDet (MuonDet v8r2)
  . Fix tiny memory leak (DetCond v12r1)

</PRE><H1><A NAME=v32r8>2008-07-08 Brunel v32r8</A></H1><PRE>
This version uses projects Gaudi v20r1, LHCb v24r0, Lbcom v6r19, Rec v5r8
 and DDDB v1r* (SQLDDDB v4r5 or greater), ParamFiles v7r1, FieldMap v5r*

This is a development version.
- Can be used to reconstruct 2008 geometries. 
- Can be used for DC06 geometries, but material seen is different from DC06

- New features
  . Add Brunel-2008.py and 2008-Files.py, example job for 2008 simulated data
  . In Brunel Configurable, add support for SIMCOND. Now used by default except
    for DC06 geometries (Brunel v32r8, GaudiConf v10r10, DDDB v1r8)
  . Improvements to Floating Point Exception auditing
    (LHCbKernel v8r5, LHCbAlgs v2r19)
  . Prepare for IOV based snapshots of ONLINE CondDB (DetCond v12r0)
  . New primary vertex functionality - See <a href="http://indico.cern.ch/materialDisplay.py?contribId=46&sessionId=20&materialId=slides&confId=33862">presentation</a> at tracking and alignment workshop, 2008-06-11 (PatPV v3r4)

- New tuning
  . Change 2008 default database tag to head-20080702 (DDDB v1r8, SQLDDDB v4r5)
  . Many improvements, bug fixes and protections for real data decoding
    (RichKernel v7r13, MuonDet v8r1, MuonDAQ v4r2, CaloDAQ v4r6, SiDAQ v2r1,
     RichRecBase v3r15, STKernel v1r5, Tell1Kernel v1r4, L0Calo v9r4,
     RichDAQ v3r17, STDAQ v3r8, RichREcMonitors v2r19)
  . Added minMomentumForELossCorr and maxMomentumForScattering variables in
    TrackMasterFitter (TrackFitter v2r25)
  . Fail fit if smoother fails to calculate reasonable error on residual
    (TrackFitter v2r25)
  . LongTrackReferenceCreator: Changed default extrapolator to
    TrackMasterExtrapolator (TrackTools v3r8)

- Monitoring changes
  . Add summary printout of ST bank decoding statistics/errors (STDAQ v3r8)
  . For VELO tracks, provide a breakdown of PR performance per algorithm
    (PatChecker v3r3)

- Packaging changes
  . Brunel.opts no longer includes LHCbApplication.opts, to allow usage of
    .py version in configurable. Added instead to DC06 *.opts files

- Bug fixes
  . Remove explicit evaluation of environment variables in Python options, to
    allow use on the Grid (GaudiConf v10r10, DDDB v1r8)
  . Fixes and protections for floating point exceptions
    (DetDesc v4r7, MuonDet v8r1, OTDAQ v6r0p1, TrackCheckers v4r1,
     TrackFitter v2r25, TrackTools v3r8, PatAlgorithms v3r7, PatVelo v3r7)
  . Add missing initialization of deltaEnergy in FitNode (TrackFitEvent v3r16)
  . Don't remove outlier from track with 1 dof (TrackFitter v2r25)


</PRE><H1><A NAME=v32r7>2008-06-04 Brunel v32r7</A></H1><PRE>
This version uses projects Gaudi v19r9, LHCb v23r7, Lbcom v6r17, Rec v5r7
 and DDDB v1r* (SQLDDDB v4r4 or greater), ParamFiles v7r1, FieldMap v5r*

This is a development version.
- Can be used to reconstruct 2008 geometries. 
- Can be used for DC06 geometries, but material seen in ST detectors is different
from DC06

- New features
  . Add ability to decode 2008 OT data format (OTDAQ v6r0)
  . New attribute "mainOptions" in Brunel() configurable, to define top level
    options file to include (default is $BRUNELOPTS/Brunel.opts)
  . Add "FPE" as possible Brunel().monitor, to switch on floating point exception
    checking (GaudiConf v10r9, LHCbAlgs v2r18)

- New tuning
  . Use default extrapolator also for seed, velo, velo-tt fits (TrackSys v4r14)
  . Extrapolate also downstream tracks to beamline (for Ks) (TrackSys v4r14)
  . Changed how PatVeloGeneralTracking uses R clusters only found on RZ tracks,
    this has a 1% better efficiency for "Velo only" tracks (i.e. out of the
    acceptance) and ~0.1% improvement for long tracks, but about a 0.1% higher
    ghost rate. (PatVelo v3r6)

- Bug fixes
  . Remove all float-double conversion warnings in tracking code, should improve
    cross-platform reproducibility. Does not affect timing performance
    (PatAlgorithms v3r6, TfTools v1r6, TrackFitEvent v3r15, TrackTools v3r7,
     TfKernel v2r5, TsaKernel v3r3) 
  . Fixed bug preventing reconstruction with tilted Velo detectors
    (VeloTools v3r2)
  . Fix wrong counter initialization in NeutralProtoPAlg (GlobalReco v6r16)
  . Fix floating point exceptions
    (RichRecPhotonTools v1r4, RichRecStereoTools v1r2, RichRecTrackTools v1r5)
  . Fix untested StatusCodes
    (RichGlobalPID v3r9, RichRecTracktools v1r5)

</PRE><H1><A NAME=v32r6>2008-05-19 Brunel v32r6</A></H1><PRE>
This version uses projects Gaudi v19r9, LHCb v23r6, Lbcom v6r17, Rec v5r6
 and DDDB v1r* (SQLDDDB v4r3 or greater), ParamFiles v7r1, FieldMap v5r*

This is a development version.
- Can be used to reconstruct 2008 geometries. 
- Can be used for DC06 geometries, but material seen in ST detectors is different
from DC06

- New features
  . Possibility to use 2008 geometries. Default geometry for 2008 is
    head-20080516, defined in LHCb-2008.py (GaudiConf v10r8, DDDB v1r6)
  . Possibility to use measured magnetic field map, used by default with 2008
    default geometry (FieldMap v5r0, Magnet v3r0)
  . Added "monitors" property to Brunel Configurable. When set to ["SC"] performs
    StatusCode check (GaudiConf v10r8)

- New tuning
  . Major changes to ST geometry structure. Changes material distribution seen in
    DC06 geometry. See talks at <a href="http://indico.cern.ch/conferenceDisplay.py?confId=30157">ST meeting on 2008-03-13</a>).
    (STDet v4r0, STCheckers v2r5, TrackFitEvent v3r14, TrackTools v3r6,
     TsaAlgorithms v3r3)
  . Default DC06 tag changed to DC06-20080516 to encompass ST changes
    (DDDB v1r6, SQLDDDB v4r3)
  . Improvements and protections in ST RawBank decoding
    (DigiEvent v2r6, RecEvent v2r12, STDAQ v3r6)
  . Minor changes to Rich reconstruction
    (RichRecBase v3r13, RichRecStereoTools v1r1)
  . Possibility to reconstruct Rich PID starting from DST tracks
    (RichRecTrackTools v1r4, RichRecSys v3r10)
  . Improvement to clone killer speed and efficiency. See talk at <a href="http://indico.cern.ch/conferenceDisplay.py?confId=33031">T-Rec meeting on 2008=05-05</a>
    (TrackInterfaces v3r14, TrackTools v3r6, TrackUtils v1r20)
  . Minor timing improvements in PatForward (PatAlgorithms v3r5)
  . New (backwards compatible) implementation of PatMatch as a tool, quality of
    match now in "maxMatchChi2" job option (PatAlgorithms v3r5)

- Monitoring changes
  . Reorganisation and additions to Rich monitoring and checking
   (RichMCMonitors v1r6, RichRecMCTools v2r18, RichRecMonitors v2r17,
    RichRecTools v4r4, RichRecQC v2r18)

- Bug fixes
  . Fixes to spaces in job options, to allow use with python
    (CaloDAQ v4r4p1, CaloMoniDst v3r0p2, TrackCheckers v3r4p2)
  . Fix in MuonMeasurement (TrackFitEvent v3r14)
  . Fix untested StatusCode
    (RichTools v2r20, CaloUtils v8r0, CaloPIDs v4r10, NNTools v1r2p1)

</PRE><H1><A NAME=v32r5>2008-04-25 Brunel v32r5</A></H1><PRE>
This version uses projects Gaudi v19r9, LHCb v23r5, Lbcom v6r16, Rec v5r5
 and DDDB v1r* (SQLDDDB v4r2 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version 

- New features
  . Added python configurable for Brunel (python/Brunel/Configuration.py)
    Related files in options directory:
    o Brunel-Default.py       : describes available options and defaults
    o Brunel-DC06Rdst.py      : configuration for DC06 rdst production
    o Brunel-L0DC06Rdst.py    : same as DC06Rdst, L0 selected events
    o Brunel-DC06Stripping.py : configuration for DC06 stripped DST production
    o DC06-Files.py           : example files for I/O with above configurations
    o Brunel-CCRCStripping.py : same as DC06Stripping but without MC truth
  . RecInit/Brunel algorithm renamed RecInit/BrunelInit, to avoid name clash with
    configurable
  . Updated file catalog usage. Now a new catalog MyCatalog.xml is created for
    output files, existing job/NewCatalog.xml is read only, describes example
    input files 
  . Reworking of Rich packages to allow for tool based reconstruction
    (See RecSys v5r5 release notes)

- New tuning
  . Modified default idle connection time-out in CondDBAccessSvc from 600s to
    120s (DetCond v11r10)
  . Changed coordinate cache from float to double. This fixes some float/double
    conversion issues in the VELO tracking. Memory is increased by 500 kB.
    (VeloDet v13r0, TfKernel v2r4)

- Bug fixes
  . Fixed unchecked StatusCodes (GlobalReco v6r15p1)
  . Fixed bug in FastMomentumEstimate.cpp: sigmaQOverP used to be negative
    for qOverP negative (TrackTools v3r5)
  . Fixed bug in State::posMomCovariance (TrackEvent v4r12)
  . Fixed memory leak in XmlFileCatalog (GaudiUtils v1r6)
  . Fix in DefaultVeloHitManager: the hit preparation always tried to access
    the first cluster in the cluster container to obtain a sensor number,
    causing a crash on empty cluster containers (TfKernel v2r4)

- Removed features
  . Removed obsolete file v200601.py (replaced by Brunel-Default.py)
  . Removed "Etc" from Init.DetectorList, had identical functionality to "Reproc"

- Monitoring changes
  . Updated SuppressWarnings.opts to suppress histogram statistics printout in
    production
  . Add back functionality to exclude guard rings in efficiency calculation;
    default value of STEffChecker.IncludeGuardRings is false (STCheckers v2r4p1)
  . Give meaningful names to MemoryTool histograms and don't print histogram
    statistics by default (LHCbAlgs v12r6)
  . Gaudi Histo base classes now print histogram statistics by default at
    finalize (GaudiUtils v1r6, GaudiAlg v10r5)

</PRE><H1><A NAME=v32r4>2008-03-12 Brunel v32r4</A></H1><PRE>
This version uses projects Gaudi v19r8, LHCb v23r4, Lbcom v6r15, Rec v5r4
 and DDDB v1r* (SQLDDDB v4r0 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- New tuning
  . Retuned PatVeloGeneralTracking to pick up very long halo tracks better. 
    Has tiny effect on normal tracking (PatVelo v3r4)
  . Add support for individual HPD Q.E. values and mirror segment reflectivities.
    Determines on track by track and hypo by hypo basis the correct weighted
    average to use (RichRecTools v4r2)
  . In SuppressWarnings.opts, timestamp is printed in UTC, keep EventLoopMgr msgs

- New options
  . Add RealData-ETC.opts for processing from ETC referring to mdf file

- Bug fixes
  . Fix to avoid asking for phi of cluster at an r smaller than the inner radius
    (PatVelo v3r4)
  . Add protections to MagneticFieldSvc to make it robust against crazy input
    coordinates (Magnet v3r7) 

</PRE><H1><A NAME=v32r3p1>2008-02-11 Brunel v32r3p1</A></H1><PRE>
This version uses projects Gaudi v19r7, LHCb v23r3, Lbcom v6r14, Rec v5r3
 and DDDB v1r* (SQLDDDB v4r0 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- New features
  . When opening MDF files, use ROOT as default for: rfio, castor, dcache, dcap,
    gsidcap and gfal (MDF v3r3)

- Bug fixes
  . Add fix for bug (crashes initialisation on Windows) due to a reference to
    temporary being passed (RichTools v2r17p1)
  . Proper handling of URL options (MDF_RFIO v1r1)

</PRE><H1><A NAME=v32r3>2008-02-04 Brunel v32r3</A></H1><PRE>
This version uses projects Gaudi v19r7, LHCb v23r3, Lbcom v6r14, Rec v5r3
 and DDDB v1r* (SQLDDDB v4r0 or greater), ParamFiles v7r1, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- Persistency changes
  . Propagate /Event/Link/Raw/Hcal/Digits to DST if present on input .digi file
    (present from Boole v14r9) (GaudiConf v10r6)

- New tuning
  . New treatment of geometry overlaps. By default overlap errors are "recovered"
    by the TransportSvc. A summary of recovered errors is printed at the end.
    See the <a href="http://indico.cern.ch/materialDisplay.py?contribId=5&materialId=slides&confId=10184">presentation at T-Rec meeting, 17.12.2007</a>
    (DetDesc v18r3, DetDescSvc v1r16)
  . In valgrind.job, use the new ROOT suppressions file available from LCG_54
  . In RecoTracking.opts, add NeuralNetTmva ghost probability algorithm to end
    of tracking sequence. Needs ParamFiles v7r1 or greater
    (TrackSys v4r13, NNTools v1r2) 
  . Modified the T, IT and OT geometry so that IT and OT use independent
    parameters for their position inside T (SQLDDDB v4r0)
  . Improvements to ray tracing photon reconstruction 
    (RichRecPhotonTools v1r1, RichRecSys v3r8)
  . Changes in TrackKalmanFilter to improve fit stability (TrackFitter v2r23)
  . Call for intersections less often (TrackFitter v2r23) 
  . Si measurement-providers now use the track state to estimate the cluster
    position error (TrackTools v3r3)

- New features
  . Possibility to switch off drift times in OT pattern recognition
    (TfKernel v2r2, TfTools v1r3)
  . Modified the space tracking so it uses the new hit preparation on demand 
    features in TfKernel (PatVelo v3r3, TfKernel v2r2)
  . Now uses Gaudi XML catalog, no longer the POOL one, using
    FileCatalog.Catalogs option instead of PoolDbCacheSvc.Catalog
    (GaudiPoolDB v3r0)
  . Change PoolDbCacheSvc.AgeLimit to IODataManager.AgeLimit, for Gaudi v19r7
  . In ExpertCheck.opts add options for CondDb logging (commented out)

- Bug fixes
  . BankKiller (used by Calorimeter) no longer prints an error every time a MDF
    bank is missing, just counts (DAQEvent v7r8)
  . MDFSelector now accepts same input file specifications as POOL (MDF v3r0)
  . Fix unprotected array index in CaloMergedPi0.cpp, cause of infinite loop in
    Brunel v32r2 amd64_dbg build (CaloReco v4r10)
  . Protect against NaN in NeutralProtoPAlg::finalize() (GlobalReco v6r15)
  . Fix AddNeibours warning in HcalE and EcalE initialisation (CaloPIDs v4r9)
  . Correct small bug in TrackSelector eta cut (TrackTools v3r3)
  . In DC06-ETC.opts, fix Linkers if reprocessing from DST input
  . Improve handling of Global PID TES data objects. Fixes crash observed when
    running Brunel using FieldOff-VeloOpen.opts (RichGlobalPID v3r7)

- Monitoring changes
  . Extend pixel monitoring to include new MC background types (HPD reflections
    and silicon back-scattering) (RichRecQC v2r16)
  . If histogram ID is not explicitly given, it is now assigned in a
    deterministic way (GaudiAlg v10r3)

</PRE><H1><A NAME=v32r2>2007-12-12 Brunel v32r2</A></H1><PRE>
This version uses projects Gaudi v19r6, LHCb v23r2, Lbcom v6r13, Rec v5r2
 and DDDB v1r* (SQLDDDB v3r1 or greater), ParamFiles v7r0, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- New tuning
  . VeloClusterPosition update to match TELL1 board position format. New tuning
    for the error parametrization for the pitch projection
    (VeloTools v3r0, LHCbKernel v8r8, TrackInterfaces v3r11)
  . Tidied up RZ track fitting code to only calculate slope & pos after 3 coords
    PatVelo v3r2)
  . Set chi2 of RZ tracks properly (PatVelo v3r2)
  . Changes to track fit:
    o Move reference vector to Nodes and use them in the fit
    o Create reference from TrackTraj
    o Use OT calibration in fit
    o Calculate tof correction
    o Fixed interpolator such that it does the right thing also for extrapolation
    o Removed extrapolators from MeasurementProviders
    Overall effect is big reduction in fit failures (in particular for VeloTT),
    compensated by small increase in ghost rate 
    (TrackEvent v4r9, OTDet v7r7, TrackInterfaces v3r11, TrackFitEvent v3r11,
     TrackProjectors v2r18, TrackCheckers v3r3, TrackTools v3r2,
     TsaAlgorithms v3r2, PatVeloTT v3r1, TrackFitter v2r22, TrackMatching v2r17,
     TrackSeeding v1r3, TrackSys v3r2)
  . Track measurements no longer removed by TrackToDST, since they are in any 
    case not persistent (TrackUtils v1r17)
  . Write out states in T at 3 z positions (PatAlgorithms v3r2)
  . Change default value of z position of output track state to mid T
    (TsaAlgorithms v3r2)
  . Reorganisation and improvements to Rich reconstruction tools
    (RichKernel v7r9, RichDet v10r8, RichRecBase v3r9, RichDAQ v3r13,
     RichTools v2r16, RichGlobalPID v2r14, RichRecTools v4r0,
     RichRecTrackTools v1r0, RichRecPhotonTools v1r0)
  . New implementation of primary vertex fit (PatPV v3r1)
   
- New functionality
  . Modify state filling in case fast momentum parameterization is used
    (TsaAlgorithms v3r2)
  . Include new options for MDF IO (RawData.opts, GaudiConf v10r5)
  . In RealData.opts, add options for new MultiFileCatalog when reading MDF file
  . If ODIN is missing, event is skipped but processing continues (RecAlgs v1r5)
  . New files options/RealDataRdst.opts and job/GaudiCatalog.txt to set up rDST
    production starting from an MDF file - to be used in CCRC08  
  . RealData.opts renamed RealDataDst.opts in analogy to RealDataRdst.opts
  . New file options/SuppressWarnings.opts to be used in production for a minimal
    log file

- Monitoring changes
  . Many changes and improvements to Rich monitoring
    (RichRecMCTools v2r14, RichRecMonitors v2r13, RichRecQC v2r15,
     RichRecPhotonTools v1r0, RichRecSys v3r7)

- Bug fixes
  . Fix unchecked StatusCode (MuonDet v7r1, MuonDAQ v3r3)
  . Protections for missing data (RichMCMonitors v1r5, RichTools v2r16)
  . Fix screwed up region numbering for IT and OT (PatAlgorithms v3r2)
  . Bug fixed in TrackTraj constructor and caching (TrackFitEvent v3r11)
  . Fix bug in TrackHerabExtrapolator (TrackExtrapolators v2r16)
  . Fixed divide by zero in log file output when PatVeloGeneralTracking ran on
    no events (PatVelo v3r2)
  . Fix formatting problems with reading/writing stripping ETC, affecting
    November 2007 productions (RecUtils v1r4, DC06-ETC.opts)
  . Update track selection options for rDST, following changes to PatPV. These
    options are moved to rDSTContent.opts from DC06.opts to make them general 

</PRE><H1><A NAME=v32r1>2007-11-15 Brunel v32r1</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v23r1, Lbcom v6r12, Rec v5r1
 and DDDB v1r* (SQLDDDB v3r0 or greater), ParamFiles v7r0, FieldMap v4r7

This is a development version with tracking pattern recognition based on the Tf
framework.

- Persistency changes:
  . Tracks created by PatDownstream algorithm have new PatDownstream history
    flag set (TrackEvent v4r8, PatAlgorithms v3r1)

- New functionality
  . Muon geometry now has concept of half stations to allow for misalignment
    conditions (MuonDet v7r0, SQLDDDB v3r0)
  . Ability to understand new L0DU bank format and Trigger Configuration Key
    mechanism (L0DU v8r0, L0Calo v9r10, L0Muon v7r5, L0Event v16r6)
  . Add PatDownstream, an adaptation to Tf of PatKShort
    (TrackEvent v4r8, TrackInterfaces v3r10, TrackMCTools v2r14, TrackSys v4r11,
     PatAlgorithms v3r1, TrackUtils v1r16, BrunelCheck.opts)
  . Add RealData.opts to process "real data" (v200601 geometry) in mdf format
  . Outlier rejection cuts now tunable through job options (TsaAlgorithms v3r1)
  . Likelihood contributions can be weighted differently (or switched off)
    with job options (TsaAlgorithms v3r1)
  . Add Empty.opts dummy options file to bootstrap Dirac with non-standard
    configurations

- New tuning
  . Replaced StateTraj with StateZTraj in projectors (to speed things up)
    (LHCbKernel v7r8, TrackFitEvent v3r10, TrackProjectors v2r17)
  . TsaSeedTrackCnv algorithm now uses FastMomentumEstimate tool
    (TsaKernel v3r1, TrackInterfaces v3r10, TrackTools v3r1, TsaAlgorithms v3r1,
     TrackSys v4r11)
  . Faster error checking (TrackFitter v2r21)
  . Tiny differences in performance due to changes in TsaAlgorithms to pick up
    resolution constants from CondDB, to allow running with drift times 
    off/misalignments (TsaAlgorithms v3r1)

- Bug fixes
  . Fix error in default Brunel_Ganga.py file for latest CMT structure.
  . Fixed in TrajPoca specification of tolerance for validity of quadratic
    approximation (LHCbAlgs v2r12)
  . Fix to PatMatch (PatAlgorithms v3r1)
  . Fixes in TrackLongExtraSelector (TrackExtrapolators v2r15)
  . Release tool handle in MasterExtrapolator::finalize (TrackExtrapolators v2r15)
  . Fix unchecked StatusCode
    (TsaAlgorithms v3r1, TrackFitter v2r21, TrackExtrapolators v2r15))
  . Protect against divide by zero when few events processed (MuonPIDChecker v2r2)

</PRE><H1><A NAME=v32r0>2007-10-12 Brunel v32r0</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v23r0, Lbcom v6r11, Rec v5r0
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This is a development version with the first deployment of tracking pattern
recognition based on the Tf framework.

Functionality and performance should be similar to v31r10, except that the 
KsTrack container is not populated in this version (algorithm not yet migrated)

</PRE><H1><A NAME=v31r11>2007-10-26 Brunel v31r11</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v22r10, Lbcom v6r10, Rec v4r11
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This is the production version for the DC06 reprocessing

- Bug fixes
  . Fixed unchecked status code when projecting reference, leading to crash in
    TransportSvc (TrackFitter v2r20)

</PRE><H1><A NAME=v31r10>2007-10-11 Brunel v31r10</A></H1><PRE>
This version uses projects Gaudi v19r5, LHCb v22r10, Lbcom v6r10, Rec v4r10
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This was the first production test version for the DC06 reprocessing

- New features
  . Add new Calo monitoring (off by default)
    (CaloMoniDst v3r0, BrunelMoni.opts, BrunelCheck.opts)
  . Add options/v200601.py, to execute Brunel from Python shell

- Persistency changes
  . Add variables to track for NN ghost ID 
    (PatForward v2r16, TrackMatching v2r16, TrackEvent v4r7)
  . Change extraInfo flag to TsaLikelihood (TsaAlgorithms v2r7, TrackEvent v4r7)
  . Make sure first measurement state still added to track even if extrapolation
    to beam line fails (TrackFitter v2r19)

- New tuning
  . Change to more closely replicate old kinked track behaviour (PatVelo v2r19).
    See talk at <a href="http://indico.cern.ch/materialDisplay.py?contribId=4&amp;materialId=slides&amp;confId=10174">T-Rec on 2007-10-08</a>
  . Adjust some jobOptions for more stable fitting (PatVeloTT v2r15)
  . Change cut on match chi^2 (TrackMatching v2r16)
  . Remove the use of reference vector in the projection (TrackProjectors v2r16)
  . KalmanFilter: Reference state now only projected in forward filter
    (TrackFitter v2r19)
  . Change deweighting to 1 in likelihood, no longer needed (TrackTools v2r19)
  . Make sensible check on t-station range in LongTrackReferenceCreator
    (TrackTools v2r19)
  . Changes in TrackAddLikelihood to allow different values for different
    track types (TrackUtils v1r15)
  . Add 2 prefit iterations with OT projections without drifttimes, followed by
    2 fit iterations using drifttimes. Apply for Forward, KShort and Match only
    (TrackSys v4r10)
  . Add TrackLikelihood calculation to the running sequence (TrackSys v4r10)
  . Update ChargedProtoCombineDLLsAlg to produce better combined DLL values
    (GlobalReco v6r13)

- Bug fixes
  . Remove unneccessary release() of UMS from TT/ITReadoutTool (STDAQ v3r1)
  . In KalmanFilter: set reference vector from prediction in case not set before
    (TrackFitter v2r19)
  . Fix TrajPoca for non linear trajectories (LHCbAlgs v2r11)

</PRE><H1><A NAME=v31r9>2007-09-21 Brunel v31r9</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r9, Lbcom v6r9, Rec v4r9
 and DDDB v1r* (SQLDDDB v2r3 or greater), ParamFiles v7r0, FieldMap v4r7

This is a pre-production version for validation of the DC06 reprocessing

- New features
  . Added options for running the Tf version of tracking pattern recognition,
    off by default 
    (BrunelCheck.opts, Reco.opts, RecoTracking_Tf.opts, Fitting_Tf.opts)
  . Update example ganga job to remove warnings about missing features (now
    available) and to add examples of job merging.
  . Added options for reprocessing from DST (Brunel.opts, v200601.opts)
  . Uses new SQLDDDB tag DC06-repro0710 (DDDB v1r1, SQLDDDB v2r3 or greater)

- New tuning
  . Many improvements to tracking, including optimisations suggested by A-team
    code reviews
    (See details in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=1&amp;resId=0&amp;materialId=slides&amp;confId=10171">T-Rec on 2007-09-17</a><PRE>)
  . Many improvements to Rich PID.
    (See details in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=1&resId=1&materialId=slides&confId=10168">T-Rec on 2007-08-28</a><PRE>)
- Bug fixes
  . Many fixes to tracking, including most differences in 
    win32/slc4_ia32/slc4_amd64 behaviour
    (See details in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=1&amp;resId=0&amp;materialId=slides&amp;confId=10171">T-Rec on 2007-09-17</a><PRE>)
  . Fix untested StatusCodes in Calorimeter 
  . Fix bugs related to 'lazy connection' feature (CondDB v11r6)


</PRE><H1><A NAME=v31r8>2007-07-23 Brunel v31r8</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r8, Lbcom v6r8, Rec v4r8
 and DDDB v1r* (SQLDDDB v2r2 or greater), ParamFiles v6r1, FieldMap v4r7

- New features
  . New Velo detector element can process both DC06 data and data from real
    detector geometry (default is DC06, requires SQLDDDB v2r2) (VeloDet v11r4)
  . Brunel processing now all takes place in a single GaudiSequencer TopAlg
    (called BrunelSequencer). Allows any algorithm to stop further processing
    of a given event. 
  . New possibility to process only L0 selected events: switch on by uncommenting
    the option Init.DetectorList += { "L0" };

- New tuning
  . Speed improvements in Velo detector element (VeolDet v12r0)
  . Retune Tsa algorithms following bug fix (TsaAlgorithms v2r6)

- New packaging
  . Add in Brunel requirements a no_auto_imports dependency to all used component
    libraries, so they can be reached by cmt broadcast when checked out in 
    User_release_area

- Bug fixes
  . Fix uninitialised variable in PatVeloGeneralTracking (PatVelo v2r17)
  . Fix uninitialised variable in CardParam (CaloDet v8r3)
  . Fix bug in Tsa selection routine (TsaAlgorithms v2r6)
  . Fix TrackMatch options in NoFieldTracking.opts, option names were wrong
    (TrackSys v4r8)

</PRE><H1><A NAME=v31r7>2007-07-10 Brunel v31r7</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r7, Lbcom v6r7, Rec v4r7
 and databases DDDB v1r*, ParamFiles v6r1, FieldMap v4r7

It can process DC06 data, but output format is different from DC06, requires 
programs based on LHCb v22r5 or later

- New features
  . New algorithm (L0Filter) and options ($L0DUROOT/options/Brunel.opts), running
    in new L0 sequence, to reconstruct only events passing L0 (L0DU v6r5)
  . Fast fit with parameterized material now available, but not used by default.
    Needs SQLDDDB v2r1
  . Add SmartRef to Muon track in MuonPID (MuonID v5r2, RecEvent v2r5)
  . Added PatFilterUsedClusters and PatVeloGeneralTracking to default tracking
    and added handling of corresponding new track type (TrackEvent v4r5,
    RichRecBase v3r6, PatVelo v2r16, TrackUtils v1r13, TrackSys v4r7)
    (See details in talk at </PRE><a href="http://indico.cern.ch/materialDisplay.py?contribId=6&amp;materialId=slides&amp;confId=10160">T-Rec on 2007-07-02</a><PRE>)

- Persistency changes
  . Rec/Muon/Tracks added to DST (GaudiConf v10r4)

- New tuning for tracking (see Matt's talk at  </PRE><a href="http://indico.cern.ch/materialDisplay.py?contribId=4&amp;materialId=slides&amp;confId=10160">T-Rec on 2007-07-02</a><PRE>)
  . Use zero magnetic field by default when creating a StateTraj. This is faster
    and has negligible effect on the track fit (TrackProjectors v2r13)
  . Set Ks Fit iterations to three (TrackSys v4r7)
  . Remove use of pow (PatKShort v1r7)
  . Reserve space in vectors (PatKShort v1r7)
  . Retune track matching to account for better fit/new velo pattern 
    (TrackMatching v2r15)
  . Add trimning of ST Measurements (STTools v3r2)

- New tuning for Rich
  . Relax completely the max number of raw input tracks cut for Rich reco. Max 
    cut of 400 on the number of tracks used by the RICH remains (RichRecSys v3r5)
  . Explicitly set the min signal option to 1e-3 (RichRecSys v3r5)
  . Increase max number of iterations of quartz solving in photon creator to 3
     (RichRecSys v3r5)
  . Update the default minimum pixel dll signal cut from 1e-25 to 1e-3
    (RichGlobalPID v3r4)
  . Improvement to the way the photon reconstruction is done inside
    Rich::Rec::PhotonRecoUsingQuarticSoln (RichRecTools v3r12)

- Monitoring changes
  . Restructuring of TrackCheckers with new base class
    (TrackCheckers v3r0, TrackSys v4r7)
  . Changes in MC Particle selection, modifies ST efficiency calculation (by <1%)
    (SimComponents v2r7, ExpertCheck.opts)
  . Update default input files to replace obsolete ones that have been deleted
    (v200601.opts, DC06.opts, NewCatalog.xml)

- Bug fixes
  . Fix uninitialized variables (PatVeloTT v2r13, TsaAlgorithms v2r5)
  . Fix bug in propagation of StateVector (TrackExtrapolators v2r13)
  . Transport the covariance matrix correctly (TrackMCTools v2r12)
  . Make Q/p on all states of output tracks consistent (PatKShort v1r7)
  . Fix in OTCluster drift radius calculation (TsaKernel v2r5)
  . Adapt CopyStripETC and ReadStripETC to new DataStreamTool in Gaudi v19r4
    (RecUtils v1r2)

</PRE><H1><A NAME=v31r6>2007-06-15 Brunel v31r6</A></H1><PRE>
This version uses projects Gaudi v19r4, LHCb v22r6, Lbcom v6r6, Rec v4r6
 and databases DDDB v1r*, ParamFiles v6r1, FieldMap v4r7

It can process DC06 data, but output format is different from DC06, requires 
programs based on LHCb v22r5 or later

- Packaging changes
  . Clean up use statements in Brunel requirements (Rec/Brunel v31r6):
    + Remove explicit versions since these are meaningless with InstallAreas
      (leave explicit versions for databases)
    + Use only packages needed to compile or to setup up run time environment

- New tuning
  . In VeloExpectation, use closestState instead of firstState (TrackTools v2r15)
  . Faster TrackMatch version with less ghosts (TrackMatching v2r14, see details
    in talk at </PRE><a href="http://indico.cern.ch/getFile.py/access?contribId=7&amp;sessionId=0&amp;resId=0&amp;materialId=slides&amp;confId=12233">Heidelberg Tracking Workshop on 2007-02-22</a><PRE>)
  . Update options for zero field tracking (TrackSys v4r6)
  . Updates to ChargedProtoPAlg (GlobalReco v6r10)
  . New DC06 tuning for Calo PIDs (CaloReco v4r8, CaloPIDs v4r7, ParamFiles v6r1)
  . New model of the Velo error estimate implemented, now returned error
    depends both on sensor pitch and projected angle of a track (VeloTools v2r0,
    see details in talk at </PRE><a href="http://indico.cern.ch/materialDisplay.py?contribId=6&amp;materialId=slides&amp;confId=10157">T-Rec on 2007-06-11</a><PRE>)
   
- Monitoring changes
  . Improved format of counters printout (GaudiKernel v22r3)
  . Add time spectrum histogram to OTTimeChecker (OTMonitor v6r6)

- Bug fixes
  . Check untested status codes (MuonDet v6r3)
  . Fix units of kappa in TrackParameters.h, improves pulls of OT hits at low
    momentum (TrackEvent v4r4)

</PRE><H1><A NAME=v31r5>2007-05-21 Brunel v31r5</A></H1><PRE>
This version uses projects Gaudi v19r3, LHCb v22r5, Lbcom v6r5, Rec v4r5
 and databases DDDB v1r*, ParamFiles v5r0, FieldMap v4r7

It can process DC06 data, but output format is different from DC06, requires 
programs based on LHCb v22r5 or later

- Persistency changes
  . RecHeader has a new field containing CondDB tags used in processing. Can only
    be read by programs based on LHCb v22r5 or later
    (EventBase v2r3, LHCbKernel v7r4, RecAlgs v1r4) 

- Tuning changes
  . Add measurements to the MuonTrack 
    (MuonID v5r1, TrackFitEvent v3r4, TrackTools v2r14)
  . Modifications to PatVeloTT, to be retuned (PatVeloTT v2r11)
  . Add VeloTT to no field tracking (PatVeloTT v2r11, TrackSys v4r5)
  . Minor modifications to track matching (TrackMatch v2r13)

- Bug fixes
  . Minor fixes to Rich CK ring ray tracing (RichRecTools v3r11)
  . Bug fix to 3D track fit with cluster sort direction reversed (PatVelo v2r14)

- Monitoring changes
  . Use counter service for monitoring fit success rate (TrackFitter v2r15)
  . Association through LHCbIDs rather than Measurements (TrackAssociators v2r4)
  . Minor changes to Rich CK ring monitoring
    (RichRecMCTools v2r11, RichRecMonitors v2r10)
  . Use TimingAuditor for timing, suppress printout from SequencerTimerTool
    (BrunelMoni.opts)

- Documentation changes
  . The doxygen web generated for Brunel now includes in a single index all
    classes from GAUDI, LHCB, LBCOM, REC projects

</PRE><H1><A NAME=v31r4>2007-04-19 Brunel v31r4</A></H1><PRE>
This version uses projects Gaudi v19r3, LHCb v22r4, Lbcom v6r4, Rec v4r4
 and databases DDDB v1r*, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data.

- New features
  . Can also process new online compatible ST and Rich RawBank format produced by
    Boole v14r* (STDAQ v3r0, RichKernel v7r4, RichDAQ v3r10)
  . Makes Muon tracks with the LHCbIDs of Muon hits (MuonID v5r0)
  . Minor reorganisation of the Rich algorithm sequence to simplify timing
    studies (RichRecSys v3r3)
  . Possibility to reconstruct beam-gas tracks in Velo
    (PatVelo v2r13, TrackSys v4r4)

- New tuning
  . Improvements to PatVelo: 
    + Now produces two states per track, by doing also outward fit
    + Improved angular comparisons
    + New option (off by default) to merge clone tracks by comparisons on angles
      and z position
    + Properly reconstruct also geometries with significant missing sensors
    + Automatically determine from options range of sensors to scan </PRE><CODE>&nbsp;&nbsp;(PatVelo v2r13, see also talks by D.Hutchcroft at T-Rec meetings on <A HREF="http://indico.cern.ch/conferenceDisplay.py/confId=10146">2007-03-26</A> and <A HREF="http://indico.cern.ch/conferenceDisplay.py?confId=10150">2007-04-23</A>)</CODE><PRE>
  . TrackPrepareVelo sets q/p for all VELO states (TrackUtils v1r12)
  . PatVeloTT uses all Velo tracks states (PatVeloTT v2r10)
  . Value of the fractional strip position returned by VeloClusterPositionTool is
    now in the range (0., 1.) instead of (-0.5, 0.5), for consistency with real
    TELL1 data format (VeloTools v1r2)
  . Various speed optimisations
    (RichKernel v7r4, RichDet v10r4, RichDAQ v3r10, RichRecBase v3r3) 

- Bug fixes
  . Fix unchecked StatusCodes (VeloDet v11r2, PatVelo v2r13, VeloTools v1r2,
    PatVeloTT v2r10, PatPV v2r7, OTDAQ v5r2)
  . Fix bug in CaloMomentum definition of the transport matrix (indices swap)
    (CaloUtils v7r2)
  . Since Brunel v31r2, CaloTriggerBitFromRaw was returning only the data of the 
    last TELL1, reducing number of electron clusters by a factor 4 (CaloDAQ v3r2)
  . Since Brunel v30r10, CaloFillPrsSpdRawBuffer was dropping last Prs/Spd L0bit
    for 50% of events when converting to 'short' Calo banks (CaloDAQ v3r2)
  . Fix in TrackKalmanFilter: residuals from last measurement were not calculated
    Has small effect on VeloTT and Match efficiencies (TrackFitter v2r14)
  . Fix for crash seen in DC06 productions (RichLocalPID v3r3)

</PRE><H1><A NAME=v31r3>2007-03-26 Brunel v31r3</A></H1><PRE>
This version uses projects Gaudi v19r3, LHCb v22r3, Lbcom v6r3, Rec v4r3
 and databases DDDB v1r*, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data

- Packaging changes
  . Database now accessed via DDDB interface package, no longer SQLDDDB directly
  . Rename Rich background estimation algorithms (RichRecAlgorithms v2r6)

- New tuning
  . Use new HPD Rich Pixel class in reconstruction
  . Add field off tuning to PatForward (PatForward v2r13, TrackSys v4r3)
  . Use explicitly EndVelo state and set q/p if > 1 state (PatForward v2r13)
  . Clean up Kisel extrapolator (TrackExtrapolators v2r10)
  . Minor modifications to TrackPtKick, to calculate error as function of p
    (TrackTools v2r12)
  . Remove the use of random numbers in GeomEffPhotonTracing (RichRecTools v3r9)
  . fixed the number of Landau parameters for the muon (MuonID v4r6)
  . changed the binning of the pion DLL to be the same as the muon (MuonID v4r6)

- Bug fixes
  . Use boost::format instead of Gaudi format (gave wrong output when used more
    than once in same stream) (various Rich packages) 
  . Fix many unchecked StatusCodes
  . Many fixes to doxygen documentation
  . Disabled some compiler optimizations in libstdc++ on slc3, was causing
    crashes on SLC3 after disconnection from database (DetCond v1r11)

- Monitoring changes
  . Add Total Misid to monitoring table (MuonPIDChecker v2r0)
  . DLL Cut changed to -1 in the options (MuonPIDChecker v2r0)

</PRE><H1><A NAME=v31r2>2007-03-05 Brunel v31r2</A></H1><PRE>
This version uses projects Gaudi v19r2, LHCb v22r2, Lbcom v6r2, Rec v4r2
 and databases SQLDDDB v1r*, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data

- New features
  . Possibility to reconstruct Field off data with both Velo closed and Velo open
    (FieldOff.opts, FieldOff-VeloOpen.opts)
  . Now uses SQLDDDB database for geometry and conditions data
  . Add muon system acceptance flag to ProtoParticle
    (RecEvent v2r2, MuonID v4r5, GlobalReco v6r8)
  . Various fixes to deal with conditions data 
    (MuonDet v6r1, OTDet v7r2, STDet v3r2, VeloDet v11r1, PatVelo v2r12)

- New tuning
  . Do not add SMatrix to ROOT_linkopts. Ensures inlining of SMatrix function
    calls, resulting in large speed inprovement, particularly in track fit
    (LHCbKernel v7r2, LHCbMath v2r1)
  . Various speed improvements (PatForward v2r12, PatChecker v2r12)
  . Renormalise Rich DLL contributions to the el and mu combined DLL values
    in order to suppress huge values, which adversely affect the performance
    (GlobalReco v6r8)

- Bug fixes
  . Fix qOverP in KShort TT state: Was unsigned! (PatKShort v1r4)

- Monitoring changes
  . Additional options in PatChecker (PatChecker v2r12)

</PRE><H1><A NAME=v31r1>2007-02-07 Brunel v31r1</A></H1><PRE>
This version uses projects Gaudi v19r1, LHCb v22r1, Lbcom v6r1, Rec v4r1
 and databases XmlDDDB v40r0, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

Compatible with DC06 data

- New features
  . Possibility to decode new Rich1 data format to match latest L1 firmware.
    (RichDAQ v3r7, RichDet v10r1)

- New tuning
  . Reworking and retuning of PatKShort, improved efficiency by 4-5 % with 2%
    extra ghost rate (PatKShort v1r4, PatFitParams v2r4)
  . Update Charged and Neutral ProtoPAlg (new CaloTrajectoryL info + ecalE) 
    (GlobalReco v6r7)
  . Update pixel suppression options to use new clustering tool (RichRecSys v3r1)
  . Change default extrapolator in CaloElectron ('HeraB' instead of 'Master')
    (CaloUtils v7r1)

- Bug fixes
  . Fix DeOTModule::wireLength method to return correct wire length
    (OTDet v7r1, TsaAlgorithms v2r1, PatForward v2r11)
  . Fix findStraws. Check that right most straw is not negative (OTDet v7r1)
  . Add check for entry and exit points. Make sure they are inside (OTDet v7r1)
  . Fix some unchecked StatusCodes (OTDet v7r1)
  . Fix overlaps in RF foil (XmlDDDB v40r0)
  . Temporary fix in STMeasurement to make sure correct strip is used for the 
    trajectory calculation (TrFitEvent v3r1)
  . Fix in TrackCloneFinder tool (affects comparisons of hits in the seeding 
    stations) (TrackTools v2r11)
  . Fix bug in TrackCheckerNT which could cause crash under some circumstances
    (TrackCheckers v2r11)
  . Remove parsing of LCG DoxyGen tagfiles, not used in this project

- Monitoring changes
  . New monitoring options for PID tables with various pt cuts (RichRecQC v2r8)
  . Add MuonPID checking (BrunelCheck.opts, MuonPIDChecker v1r0)


</PRE><H1><A NAME=v31r0>2006-12-23 Brunel v31r0</A></H1><PRE>
This version uses projects Gaudi v19r1, LHCb v22r0, Lbcom v6r0, Rec v4r0
 and databases XmlDDDB v30r14, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

It introduces a new working environment, based on CMT projects.

Compatible with DC06 data

HltApp has been removed, moved to MOORE project

- New features
  . Support for tracking without magnetic field (TrackSys v4r0, TrackUtils v4r0)
    - NoFieldTracking.opts, contains options needed in addition to those
      defined in RecoTracking.opts. This file should be included in addition
      (and *after*) RecoTracking.opts to configure tracking for no magnetic field
    - Add new TrackPrepareForFit algorithm
  . In RecoTracking.opts, introduce a "Track" process phase with Pat, PreFit and
    Fit sequences for each track type (TrackSys v4r0)

- New tuning
  . Update ShowerMax condition for Ecal (XmlConditions v2r5)
  . Major new release. Faster, more flexible, more efficient, less ghosts, 
    less outliers, etc. (TsaAlgorithms v2r0, see release notes for details)
  . Minor speed ups to detector elements  (OTDet v7r0, RichDet v10r0)

- Bug fixes
  . Fix in TrackExtrapolator, for extrapolation to a plane: the distance
    point-plane is signed! (TrackExtrapolators v2r8)

- Monitoring changes
  . Change naming of ST checkers, monitors and job options according to naming
    convention (STCheckers v2r0)

- Maintenance changes
  . Fix some unchecked StatusCodes
  . Remove ApplicationMgr.DLLs options, not needed with new plugin manager
  . Adapt valgrind.job to work with new CMT environment
  . General consolidation of track projectors - see release notes for details
    (TrackProjectors v2r9, TrackFitter v2r12, TrackCheckers v2r11,
     LHCbKernel v7r0)

</PRE><H1><A NAME=v30r15>2007-02-28 Brunel v30r15</A></H1><PRE>
This version uses projects Gaudi v18r11, LHCb v21r12, Lbcom v5r9, Rec v3r14
 and databases XmlDDDB v30r14, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

This is a bug fix release for DC06 physics production, built on v30r14b branch. 
Identical to v30r14 except for:

- Bug fixes
  . Fix bug in PoolDbCnvSvc::connectDatabase, which caused a crash through an
    infinite recursion when a file to be opened using an LFN can be resolved 
    using the file catalog, but then does not exist (GaudiPoolDb v2r9p1)

</PRE><H1><A NAME=v30r14>2006-12-04 Brunel v30r14</A></H1><PRE>
This version uses projects Gaudi v18r11, LHCb v21r12, Lbcom v5r9, Rec v3r14
 and databases XmlDDDB v30r14, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

This is the release for the DC06 physics production

In Brunel v30r14:

- New features
  . Add a search facility to doxygen documentation
  . Implement beam hole in C4F10 (XmlDDDB v30r14, RichDet v9r9, RichRecSys v2r7)

- New tuning
  . Minimize number of open input files by setting PoolDbCacheSvc.AgeLimit option
    (Brunel.opts, ExpertCheck.opts, DC06-ETC.opts)
  . sse2 compilation flags removed, due to too many production sites having
    mixed clusters with PIII and Athlon (GaudiPolicy v6r1)
  . Speed improvement in TrackPrepareVelo (TrackUtils v1r9)
  . DC06 tuning for merged pi0 (CaloReco v4r6)
  . Update electron calibration (CaloReco v4r6)
  . Adjust chi2 cut in PVFitterTool (PatPV v2r4)
  . VeloRMeasurement and VeloPhiMeasurement now use offline cluster centroid
    calculation in trajectory. Fixes bias in Velo residuals (TrackFitEvent v2r7)
  . Filter T-station ghost at the end of PatForward, killing 1.7% ghosts
	  without much effect (1 per mil) on efficiency. (PatForward v2r10)

- Persistency changes
  . Charged ProtoParticles have same key as parent Track (GlobalReco v6r6)
  . CaloPID not saved when it has default value (GlobalReco v6r6)

- Bug fixes
  . Fix memory leak when dropping banks from RawEvent (DAQEvent v6r8)
  . Fix memory leak in PatVeloTT (PatVeloTT v2r8)
  . Fix propagation of error return of biSmooth() step in TrackKalmanFilter
    (TrackFitter v2r11)
  . Fixes in intialisation of phi strips and in isInActiveMethod for phi sensors
    (VeloDet v10r11)
  . Fix possible uninitialised variable in a printout message (TrackFitter v2r11)
  . Handle (very rare!!) failure status from TrajPoca::measure() method
    (LHCbAlgs v2r5, TrackIdealPR v2r8, TrackCheckers v2r5, TrackMatching v2r10, 
     TrackTools v2r10, TrackProjectors v2r8, TsaAlgorithms v1r6)

- Monitoring changes
  . Compute the event averaged ghost rate, add monitoring for strange daughters
    in Velo tracks (PatChecker v2r11)
  . Improvements to Rich monitors (RichRecQC v2r7)
 
- Repackaging
  . Split of calculation of combined DLL values in ChargedProtoPAlg into new
    dedicated algorithm ChargedProtoCombineDLLsAlg (GlobalReco v6r5)

In HltApp v1r3:
  . HltAlleys.opts: add missing option for PatVeloTT online

</PRE><H1><A NAME=v30r13>2006-11-08 Brunel v30r13</A></H1><PRE>
This version uses projects Gaudi v18r10, LHCb v21r11, Lbcom v5r8, Rec v3r13
 and databases XmlDDDB v30r13, XmlConditions v2r4, ParamFiles v5r0, FieldMap v4r7

This is the release for the DC06 physics validation pre-production

In Brunel v30r13:

- New features
  . Add Brunel.PrintFreq option (LHCbKernel v6r14)
    + Values > 0 indicate the rate at which event number should be printed
    + Values < 0 suppress event messages entirely
    + Default is 1, to print each event
  . Add job/Brunel_Ganga.py (example to run Brunel from Ganga)
  . Possibility to calculate unbiased residual in bidirectional smoother step, 
    default false (TrackFitter v2r10, TrackFitEvent v2r6)
 
- Persistency changes
  . Add MC truth links for tracking clusters to MCDST (GaudiConf v9r11)
    Adds 30kB/event to DST (measured on B signal)
  . Add FirstMeasurement state to T tracks (TrackUtils v1r8)
 
- New tuning
  . Various timing improvements (LHCbMath v1r3, OTDAQ v4r4, PatTools v2r9,
    CaloUtils v6r6, STDAQ v2r7, TrackUtils v1r8, PatVeloTT v2r7, PatForward v2r9,
    RichRecTools v3r6
  . Implement refraction correction in HPD, improves CK resolution a little
    (RichDet v9r8, XmlDDDB v30r13, RichRecTools v3r6)
  . Use interstrip fraction in calculation of residual for phi sensor
    (VeloDet v10r10)
  . DC06 PID tuning for Prs,Ecal,Hcal for e and mu (not Brem)
    (CaloPIDs v4r5, CaloReco v4r5, ParamFiles v5r0)
  . DC06 Calo energy corrections (CaloReco v4r5) 
  . Fixed small decrease in efficiency for match tracks: the prediction and
    smoother step in the bidirectional fit are not applied for the first node
    (TrackFitter v2r10)
  . The B-field is now determined from the position of the reference vector
    (TrackProjectors v2r7)
  . PatVeloTT called after Forward and Match to remove Velo tracks already used
    and corresponding TT hits (PatVeloTT v2r7, TrackSys v3r6)
  . More tunings to the DC06 options (RichRecSys v2r6)
  . Improvements to RICH1 beampipe hole hack in the detailed track segment maker
    (RichRecTools v3r6)
  . Tweaking of the treshold information (RichRecTools v3r6)

- Bug fixes
  . Remove second call to format() in single MsgStream (RichDet v9r8) 
  . Add the real bug fix for localPhiToGlobal for R sensors (VeloDet v10r10)
  . Fix in TrackPrepareVelo (TrackUtils v1r8)
 
In HltApp v1r2:
 - Adapt options for HltMuonAlley v1r1
 - HltAlleys adaptation to the VeloTT online, 1st attempt of HltCaloAlley

</PRE><H1><A NAME=v30r12>2006-10-30 Brunel v30r12</A></H1><PRE>
This version uses projects Gaudi v18r9, LHCb v21r10, Lbcom v5r7, Rec v3r12

</PRE><H1><A NAME=v30r11>2006-10-24 Brunel v30r11</A></H1><PRE>
This version uses projects Gaudi v18r8, LHCb v21r9, Lbcom v5r6, Rec v3r11
 and databases XmlDDDB v30r12, XmlConditions v2r4, ParamFiles v4r4, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

For the first time, project BrunelSys contains also a main program and job
options for running the Hlt reconstruction (package Hlt/HltApp)

In Brunel v30r11:

- New features
  . Prepare for future use of InstallArea (GaudiPolicy v6r0)
  . Add possibility to reset drift radius in OTCluster (TsaKernel v1r4)

- Persistency changes
  . Add expected number of signal photons to RICH segment summary information
    (RecEvent v1r9, RichRecAlgorithms v2r3)

- New Tuning
  . Various timing improvements (OTDet v6r7, STDet v2r7, TsaKernel v1r4,
    TsaAlgorithms v1r5, PatTools v2r8, TrackMatching v2r9, RichRecTools v3r5)
  . Improve usage of Warning() to reduce printout (TrackExtrapolators v2r7)
  . Retuning of track matching as presented on 2006-10-16 (TrackMatching v2r9)
  . New tuning of PatVelo as presented on 2006-10-09 (PatVelo v2r9)
  . New tuning of PatVeloTT as presented on 2006-10-16  (PatVeloTT v2r5)
  . Further tuning of Velo-TT, using Kalman fit in pattern (PatVeloTT v2r6)
  . Add duplicate removal in TsaCollector (TsaAlgorithms v1r5)
  . Add hits in the other boxes to allow for IT overlaps (TsaAlgorithms v1r5)
  . Various minor updates to Rich
  . New tuning of MuonID as presented on 2006-10-23 (MuonID v4r4)
 
- Bug fixes
  . Fix the bug of missing hits in IT sector 7 (TsaAlgorithms v1r5)
  . Correct state at first measurement on backward tracks (TrackFitter v2r9)
  . Fix bug affecting the final chi2 of the track and the outlier removal
    (TrackFitter v2r9)
  . Fix in PatVeloRTracking : Adding the cluster on the other side was
    not working, due to a wrong direction flag (PatVelo v2r9)
  . Fixes to PV (chi2=0, improve of error handling, setTechnique) (PatPV v2r3)

- Monitoring changes
  . Changes to default settings for expert track checking (TrackSys v3r5)
  . Various updates to PatChecker, TrackCheckers, RichRecQC


</PRE><H1><A NAME=v30r10>2006-10-02 Brunel v30r10</A></H1><PRE>
This version uses projects Gaudi v18r7, LHCb v21r8, Lbcom v5r5, Rec v3r10
 and databases XmlDDDB v30r10, XmlConditions v2r2, ParamFiles v4r4, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

- New tuning
  . Binaries built with sse instructions enabled, gains ~10% in execution time
  . Use a more recent .digi input file for default job
  . Various speed improvements (TsaAlgorithms v1r4,PatTools v2r7,PatVeloTT v2r4)
  . Improvements to KShort finding (PatKShort v1r2)
  . Improvements to PatFoward efficiency and ghost rate (PatForward v2r8)
  . Improvements to track fit. Fast bi-directional fit now as good as slow one
    (TrackFitter v2r8)
  . New tuning of seeding as reported at T-Rec on 2006-09-25 (TsaAlgorithms v1r4)
  . Seeding rejects hot events. Hot OT modules cuts relaxed (TsaAlgorithms v1r4)
  . Calorimeter digitization always starts from "short" Calo banks
    (CaloDAQ v2r5, Brunel.opts)
  . Changes to Velo fit: use linear extrapolator, do not apply dEdx correction,
    do not extrapolate to Rich1 (TrackSys v3r4)

- Persistency changes
  . Add Link/Trig/L0/FullCalo to MCDstContent.opts (GaudiConf v9r9)
  . Add Rec/Calo/Electrons, DAQ/ODIN to rDST (and DST) (GaudiConf v9r9)
  . Include CaloDigit (Spd/Prs) info in NeutralProtoP and ChargedProtoP
    (GlobalReco v6r4, RecEvent v1r8)
  . Remove event time from RecHeader - now in DAQ/ODIN (RecEvent v1r8)
  . "Packed" Calo banks (as produced by Boole/Tell1s) are removed from RawEvent
    and replaced by "short" banks (CaloDAQ v2r5, Brunel.opts)

- New features
  . Add FieldOff.opts to run without magnetic field (e.g pilot run conditions)
  . Add functionality to make Tsa::Clusters from TT hits (TsaAlgorithms v1r4)
  . EventClockSvc now handles event time from ODIN 
    (LHCbKernel v6r12, DetDescSvc v1r6, DAQEvent v6r7, Brunel.opts)

- Bug fixes
  . Fix overlap of cables and collar of one beam pipe support (XmlDDDB v30r10)
  . Fix a bug in removal of the first(s) stereo hits (PatKShort v1r2)
  . Fix for invalid linear state extrapolation (CaloPIDs v4r4)
  . Fix a typo in a linker check (TrackAssociators v2r2)
  . Fix probable bug in TrackPrepareVelo, wrong indices in vec (TrackUtils v1r7)
  . Fix in the purity calculations in the TrackChecker (TrackCheckers v2r7)

- Monitoring changes
  . Changes to efficiency calculation for KShort tracks (PatCheckers v2r7)
  . Ignore electrons in PatChecker counting (PatCheckers v2r7)
  . ST efficiency monitors and Track checkers now both use Linker based MC truth,
    allowing them to work without interfering with each other in DataOnDemandSvc
    (Associators v3r4, STCheckers v1r3)
  . Switch off excessive messages from track fit when using ExpertCheck.opts

</PRE><H1><A NAME=v30r9>2006-09-05 Brunel v30r9</A></H1><PRE>
This version uses projects Gaudi v18r7, LHCb v21r7, Lbcom v5r4, Rec v3r9
  and databases XmlDDDB v30r9, XmlConditions v2r1, ParamFiles v4r4, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

N.B. Brunel v30r8 was never released, it was tagged as a development release.

Summary of changes since v30r7 release (for details of performance improvements
see presentations at August 2006 T-Rec meetings)

- New features
  . If input file ids cannot be located in the file catalog, then assume that the
    guid is known to GFAL (GaudiPoolDB v2r6)
  . Add KShort tracking (PatKShort v1r1)
  . Include IT Seeding (TsaAlgorithms v1r3)
  . New tools for state corrections, extracted from TrackMasterExtrapolator
    (TrackExtrapolators v2r6, TrackTools v2r9, TrackInterfaces v2r8)

- New tuning and fixes
  . Many improvements and fixes to tracking
    (PatTools v2r5+v2r6, PatVeloTT v2r3, PatForward v2r7, TrackTools v2r8+v2r8,
     TrackUtils v1r5+v1r6, TsaAlgorithms v1r2+v1r3, TrackMatching v2r7+v2r8,
     OTDet v6r6, STDet v2r6, TsaKernel v1r1+v1r2)
  . Many improvements in timing of several algorithms
    (TsaAlgorithms v1r2, TrackUtils v1r5+v1r6, TrackExtrapolators v2r6,
     Magnet v3r3, OTDet v6r6)
  . Many improvements to Rich (all Rich packages)
  . Fixes to Expert monitoring options (*.opts, Associators v3r3)
  . Fixes and improvements to track monitoring
    (PatChecker v2r5+v2r6, TrackCheckers v2r6)
  . Several minor fixes in Gaudi, not affecting default behaviour (Gaudi v18r7)

- Packaging changes
  . valgrind.job uses more recent valgrind installation from Chris Jones
  . Tracking sequence now taken for RecoTracking.opts in TrackSys
    (TrackSys v3r3, RecSys v3r9)

</PRE><H1><A NAME=v30r7>2006-08-03 Brunel v30r7</A></H1><PRE>
This version uses projects Gaudi v18r6, LHCb v21r4, Lbcom v5r3p1, Rec v3r7
  and databases XmlDDDB v30r8, XmlConditions v2r0, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater

This is a development release to allow tuning for the DC06 physics production

- New features
  . Add Tsa (aka Seed, in OT only) and Match track finding and fitting.
    (TsaAlgorithms v1r1, TrackMatching v2r6, Reco.opts)

- New tuning
  . New defaults for track fit: do bi-directional fit, set reference information,
    remove maximum 2 outliers (TrackFitter v2r7). Keep three fit iterations for
    long tracks (Reco.opts)
  . Set the OT L/R ambiguity according to the track fit, update at each iteration
    (TrackProjectors v2r6)
  . Tracks seen by PID and saved to (r)DST (Rec/Track/Best) are now the result of
    the clone killing algorithm on a mix of Forward, Match, Tsa and VeloTT tracks
  . Add Ttrack to ProtoParticle selection (TrackTools v2r7)
  . Restructured Velo 3D pattern recognition to allow single RZ tracks to be 
    found as 3D tracks (PatVelo v2r7)
  . Remove artificially large errors in forward fit (Reco.opts)

- Bug fixes
  . Fix a memory leak due to changed IJobOptionsSvc behaviour
    (RichKernel v6r5, LHCbAlgs v2r3)
  . Protect against missing states (TrackTools v2r7)
  . Track->clone() now copies the ExtraInfo to the cloned track (TrackEvent v3r1)
  . Use consistent definition of atT state location
    (TrackEvent v3r1, TrackFitter v2r7, TrackMatching v2r6, PatForward v2r6)
  . Fix uninitialized variables (PatVeloTT v2r2, CaloPIDs v4r3) 

</PRE><H1><A NAME=v30r6>2006-07-27 Brunel v30r6</A></H1><PRE>
This version uses projects Gaudi v18r6, LHCb v21r3, Lbcom v5r3, Rec v3r6
  and databases XmlDDDB v30r8, XmlConditions v1r8, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 
Output requires DaVinci v17r0 or greater, due to new RecVertex class.

This is the release for the DC06 computing challenge stripped DST production.

 - New features:
   . Added DC06-ETC.opts, for producing a DST with corresponding ETC, starting
     from an ETC produced by a DC06 DaVinci stripping job
   . GlobalReco now adds "velo charge" to ProtoParticle 
     (GlobalReco v6r2, TrackTools v2r6, TrackInterfaces v2r6)
   . Application exit status now propagates application manager status. Should
     allow to better catch initialization failures in Dirac (GaudiConf v9r8)
   . Possibility to switch off the magnetic field or use a scaling factor on
     the field map (see options described in Det/Magnet v3r2 release notes)
   . Add Brunel.PreloadGeometry option (default false)
     (LHCbKernel v6r9, DetDescSvc v1r5)

- Persistency changes:
   . Primary vertex is now a RecVertex, no longer a TrackVertex (backwards
     incompatible change) (RecEvent v1r6, PatTools v2r4, PatPV v2r2)
   . Track has additional ExtraInfo map (TrackEvent v3r0) 
   . Changes to TrackToDST to allow filtering of states dependent on track type.
     (TrackUtils v1r4, rDstContent.opts, DstContent.opts)
   . "Secret" copy of Velo tracks no longer saved on rDST (rDSTContent.opts)

- New tuning:
   . Speed improvements in trajectories 
     (LHCbKernel v6r9, STDet v2r5, TrackFitEvent v2r5)
   . Speed improvements in Velo RawBank decoding (VeloDAQ v3r4)
   . Speed improvements to PatVelo (PatVelo v2r6)
   . Speed improvements to PatPV (PatPV v2r2)
   . Use SMatrix::Inverse() rather than SMatrix::SInverse() algorithm
     (CaloUtils v6r3p2, PatPV v2r2)
   . Pick up low threshold hits. Increases long track efficiency by 2% with no
     effect on ghost rate (PatVeloTT v2r1, PatForward v2r5)
   . Change cut on min p to 1 GeV (PatForward v2r5)
   . Tune pt kick parameters for DC'06 (TrackTools v2r6)
   . Set reference trajectory in FitForward (Reco.opts) 
   . Switch on outlier removal in FitForward for maximum 2 outliers (Reco.opts)

- Monitoring changes:
   . Normalise OT occupancy histograms per event (OTMonitor v2r3)
   . Improvements in the printout of counters at finalization (GaudiAlg v9r7)

- Bug fixes:
   . No more annoying messages from Cint at start of job (Root 5.12.00)
   . Fixes due to stricter handling of properties by new job options service. In
     particular, algorithm & sequence names are now case sensitive 
     (RecSys v3r6, CaloReco v4r2, CaloPIDs v4r2)
   . Protect against missing track states in trackToDST (TrackUtils v1r4)
   . Remove unphysical terms from the parameterization in pt kick tool
     (TrackTools v2r6)
   . Track fit set as failed when not possible to determine all the requested
     states on a track (TrackFitter v2r6)
   . Correct handling debug/warning/error message levels (TrackFitter v2r6)
   . Always add state at first measurement (TrackFitter v2r6)
   . Do not copy Velo tracks into Tracks/Best if fit failed (TrackUtils v1r4)

</PRE><H1><A NAME=v30r5>2006-06-30 Brunel v30r5</A></H1><PRE>
This version uses projects Gaudi v18r5, LHCb v21r2, Lbcom v5r2, Rec v3r5
  and databases XmlDDDB v30r8, XmlConditions v1r8, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This is the release for the DC06 computing challenge production.

</PRE><H1><A NAME=v30r4>2006-06-21 Brunel v30r4</A></H1><PRE>
This version uses projects Gaudi v18r5, LHCb v21r1, Lbcom v5r1, Rec v3r4
  and databases XmlDDDB v30r8, XmlConditions v1r7, ParamFiles v4r3, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This is a pre-release for commissioning the DC06 production.

 - New Brunel options files:
   . rDSTContent.opts defines rDST, no MC truth
   . DC06.opts runs rDST production. No MC truth checking
   . v200601.opts runs DST production as before, including MC checking

</PRE><H1><A NAME=v30r3>2006-05-18 Brunel v30r3</A></H1><PRE>
This version uses projects Gaudi v18r4, LHCb v21r0, Lbcom v5r0, Rec v3r3
  and databases XmlDDDB v30r7, XmlConditions v1r6, ParamFiles v4r2, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This an incomplete release for commissioning of the software for DC06.

</PRE><H1><A NAME=v30r2>2006-05-03 Brunel v30r2</A></H1><PRE>
This version uses projects Gaudi v18r3, LHCb v20r4, Lbcom v4r4, Rec v3r2
  and databases XmlDDDB v30r5, XmlConditions v1r6, ParamFiles v4r2, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This an incomplete release for commissioning of the software for DC06.

</PRE><H1><A NAME=v30r1>2006-04-11 Brunel v30r1</A></H1><PRE>
This version uses projects Gaudi v18r3, LHCb v20r3, Lbcom v4r3, Rec v3r1
  and databases XmlDDDB v30r4, XmlConditions v1r6, ParamFiles v4r2, FieldMap v4r7
Requires input from Boole v11r2 or greater. 

This an incomplete release for commissioning of the software for DC06.

</PRE><H1><A NAME=v30r0>2006-03-28 Brunel v30r0</A></H1><PRE>
This version uses projects Gaudi v18r2, LHCb v20r1, Lbcom v4r1, Rec v3r0
  and databases XmlDDDB v30r2, XmlConditions v1r5, ParamFiles v4r1, FieldMap v4r6
Requires input from Boole v11r1 or greater. 

This an incomplete release for commissioning of the software for DC06.

It breaks all backward compatibility and introduces many new features, including
a major redesign of event model classes following the review in Autumn 2006,
changes for the 1MHz readout, changes to the geometry to introduce detector
tilts and capability for misalignement, changes to replace CLHEP with MathCore,
as well as deployment of the new tracking software based on the new track model

All packages have been touched. Please look at release notes of the individual
packages for details.

</PRE><H1><A NAME=v28r2>2005-12-09 Brunel v28r2</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r3, Lbcom v3r2, Rec v2r2, XmlDDDB v27r1
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

- New features
  . Minor updates and fixes to new Track model classes
    (TrackEvent v1r6, TrConverters v1r5, TrackTools v1r3,TrackExtrapolators v1r3)

- New tuning
  . Updated materials for TT (XmlDDDB v27r1)

- Bug fix
  . Calo reconstruction only uses Cnv tracks for now
    (CaloUtils v5r1, CaloMoniDst v2r1)

- New packaging
  . All the pattern recognition and track fit packages using the new Tracks are
    accessible from this version, which can therefore be used to develop a new
    track reconstruction sequence using the new Tracks

</PRE><H1><A NAME=v28r1>2005-11-23 Brunel v28r1</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r2, Lbcom v3r1, Rec v2r1, XmlDDDB v27r0
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

Introduces support for Conditions data, taken from DBASE/Det/XmlConditions/v1r3

- New features
  . Rich readout mapping taken from Conditions (RichKernel v5r6, RichDet v8r5, 
           RichDAQ v2r3, XmlDDDB v27r0, XmlConditions v1r3)
  . Rich reconstruction now uses Tracks from new track model (RichRecSys v1r19)
  . Rich monitoring now uses MC truth associations to new Track
    (TrackAssociators v1r4, RichMCTools v2r7, RichRecQC v1r12)
  . Calo reconstruction now uses Tracks from new track model (CaloReco v3r0,
    CaloPIDs v3r0, CaloUtils v5r0, CaloInterfaces v5r0, CaloMoniDst v2r0)

- New tuning
  . OT readout window now 75ns (XmlDDDB v27r0)

- Geometry changes
  . Prepare support for v200511 geometry (spherical secondary Rich mirrors,
    new aerogel description) (RichDet v8r5, RichTools v1r8, RichRecSys v1r19, 
                              XmlDDDB v27r0, XmlConditions v1r3)
  . Prepare support for Field046 magnetic field map (FieldMap v4r6)
    (For both the above, options not yet released, need Gauss data for testing)

- Persistency changes
  . Copy new Rich MC relations MC/Rich/DigitSummaries from .digi input file
    (Only for data produced with Boole v10r1 or later) (RichEvent v8r5)
  . CaloPID objects are now Relations to Track, not TrStoredTrack

</PRE><H1><A NAME=v28r0>2005-11-15 Brunel v28r0</A></H1><PRE>
This version uses Gaudi v17r2, LHCb v19r1, Lbcom v3r0, Rec v2r0, XmlDDDB v26r2
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New features:
   . Add MUON sequence to Moni phase, executes MuonRecChecker (MuonMoniDst v1r0)

 - New tuning
   . ST clustering by Beetle instead of by port (STDAQ v1r6, ITAlgorithms v15r1)
   . Use ISTClusterPosition tool in ITClusterCreator
    (STTools v1r2, ITAlgorithms v15r1)

 - Persistency changes:
   . Uses SEAL Reflex persistency. Backwards compatible for input data

 - Bug fixes:
   . Fix to TrackSelector for TrStoredTracks that caused a boost array to go out
     of range for "Unknown" or "UnUsable" tracks (RichRecBase v1r16p2)

</PRE><H1><A NAME=v27r5>2005-09-22 Brunel v27r5</A></H1><PRE>
This version uses Gaudi v16r5, LHCb v18r9, Rec v1r5, Lbcom v2r5
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New features:
   . valgrind.job now uses faster addrcheck tool instead of memcheck
   . FitTrack/Best tracks are converted to new model Tracks in Rec/Track/Best
     (Reco.opts, TrConverters v1r3)

 - New tuning
   . Radiation and interaction length of elements is now calculated in DetDesc,
     no longer picked up from hardcoded numbers in XmlDDDB
     (DetDesc v15r4, DetDescCnv v2r9, XmlDDDB v26r2)

 - Persistency changes:
   . Rec/Track/Best added to DST. This is a temporary measure for testing, will
     eventually replace old track model tracks in pDst

 - Bug fixes:
   . Fix uninitialised variable in MuonRawBuffer2Digit (MuonDAQ v1r2p3)

</PRE><H1><A NAME=v27r4>2005-07-18 Brunel v27r4</A></H1><PRE>
This version uses Gaudi v16r5, LHCb v18r8, Rec v1r4, Lbcom v2r4
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New feature:
   . Any /Raw or /Rec node that may have been registered on the input file is
     killed by executing EventNodeKiller as the first TopAlg. This enables to
     transparently process both .raw and .digi files that may or may not have
     /Raw and /Rec already existing. (Brunel.opts, LHCbAlgs v1r8)
   . Add support for OT RawBank v2 (OTDAQ v3r3, TrgForward v5r2)

 - New tuning:
   . Removed ResolutionCor from DeOTDetector, following 2005 test beam
     (OTDet v5r6)
   . Improvements to Velo description in 200507 geometry (XmlDDDB v26r1)
   . Change OT readout gate from 50ns to 75ns (OTDAQ v3r3)

 - Bug fixes:
   . RichLocalPID tools were accessing TES before the start of the event loop,
     in the beginEvent incident handler (RichLocalPID v1r12)
   . Fixes to cope with v200507 geometry. Velo tracking efficiency for v200507
     geometry is now similar to v200412 geometry (TrgVelo v7r4, TrgTools v7r5)
   . Fix memory leak in XmlMuonRegionCnv (MuonDet v4r8)

- Obsolete feature
  . It is no longer necessary to have specific job options for copying a Brunel
    output file, one can use instead the new InputCopyStream, as configured in
    $EVENTSYSROOT/options/PoolCopy.opts, with any Gaudi application.
    Copy.opts now simply includes PoolCopy.opts. (GaudiSvc v14r0, EventSys v20r8)

</PRE><H1><A NAME=v27r3p1>2005-07-07 Brunel v27r3p1</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r7, Rec v1r3, Lbcom v2r3
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - Bug fix:
   . Fix MCDstContent.opts, to not overwrite already defined Dst content, and
     to correctly save the packed MC truth containers. This bug was affecting
     Brunel v27r2 and v27r3, making DSTs produced by those versions unusable

</PRE><H1><A NAME=v27r3>2005-06-28 Brunel v27r3</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r7, Rec v1r3, Lbcom v2r3
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

 - New features:
   . Property "Brunel.HistoProduce" replaces "Brunel.doHistos" (LHCbAlgs v1r7)
   . Split memory histogram into two, both with "Brunel.HistoSize" bins
     + hID=2: one entry per event for first HistoSize events
     + hID=3: one entry every HistoSize events, starting at event 1
     (LHCbAlgs v1r7)
   . Repackaging of Rich to allow running both Hlt and Reco in same job
     (See LHCbSys, LbcomSys, RecSys, PhysSys release notes)
   . Add possibility to access v200507 geometry (v200506 plus Velo with alternate
     R-sensors rotated, and with possibility to add external misalignment files)
     (v200507.opts, XmlDDDB v26r0, DetDesc v15r2, DetDescCnv v2r7, VeloDet v9r7)
     N.B. reconstruction not yet working correctly with new Velo geometry!!!

 - New tuning:
   . Speed improvements to Rich reconstruction
     (See LHCbSys, LbcomSys, RecSys release notes)
   . Update to photon reconstruction scheme                (RichRecSys v1r17)
   . Update geometrical efficiency calculation parameters  (RichRecSys v1r17)
   . Add options to run pixel create with forced-dead HPDs (RichRecSys v1r17)

 - Bug fixes:
   . Fix memory leaks at finalisation (XmlTools v5r3p1, DetDesc v15r2)

</PRE><H1><A NAME=v27r2>2005-06-13 Brunel v27r2</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r6, Rec v1r2, Lbcom v2r2
Requires input data from Boole v9r2 or greater. Incompatible with DC04 versions

- Functionality changes
  . Add support for v200506 geometry (tilted Calo+Muon) (XmlDDDB v25r1)
  . Add property "nTracksMax" to Velo R tracking, needed when used online (RTTC).
    Default seen by Brunel is 10000 (TrgVelo v3r7p1)
  . Add support for alignment conditions (DetDesc v15r1, DetDescCnv v2r6)

- Persistency changes
  . Packed containers now read from /Event/pSim and written to /Event/pDst
    (DstContent.opts, PackedEvent v1r0)

- Packaging changes
  . Reorganize options to simplify usage with real data
  . All generic options now taken from $LHCBROOT/options/LHCbApplication.opts
    (LHCb v18r6)
  . Rename BrunelReco phase, now called Reco. Reco phase options moved to 
    $RECSYSROOT/options/Reco.opts to allow sharing with Moore in RTTC
    (Brunel.opts, RecSys v1r2, RichRecSys v1r16p3, CaloReco v2r9, CaloPIDs v2r6)
  . Remove MC truth checking from Moni phase, add Check (with MC truth) phase
    (BrunelMoni.opts, BrunelCheck.opts, RichRecoQC v1r10p1, CaloMoniDst v1r2) 
  . Move all expert checking to ExpertCheck.opts, not enabled by default
  . Change instance name of Velo tracking algorithms, to avoid configuring online
    algorithms with offline tuning (TrgVelo v3r7p1)

- New tuning
  . Speed improvement in VeloChannelID constructor (LHCbKernel v5r11)

- Bug fixes
  . Add hack to bypass circular detector element dependency discovered with new 
    GeometryInfo implementation (MuonDet v4r7)
  . Always calculate effective number of nucleons N() from A() of materials
    (DetDesc v15r1, DetDescCnv v2r6)
  . Fix the densities of Na, K, Sb, Cs (XmlDDDB v25r1)

</PRE><H1><A NAME=v27r1>2005-05-31 Brunel v27r1</A></H1><PRE>
This version uses Gaudi v16r4, LHCb v18r5, Rec v1r1, Lbcom v2r1
Requires input data from Boole v8r3 to v9r1. Incompatible with DC04 versions

- Functionality changes:
  . Added Output phase, with Pack sequence, to pack Tr/StatesP, Tr/StatesL,
    Tr/Best before writing to .dst (Brunel.opts, DstContent.opts)

- Persistency changes:
  . Remove saving of empty directories /Raw, /Rec/Relations, as they can be
    recreated explicitly by DataOnDemandSvc (DstContent.opts)
  . Replace Rec/Tr/Best, Rec/Tr/StatesP, Rec/Tr/StatesL by packed equivalent in
    in /Event/Rdst. Also done for MC/Collisions, MC/Particles, MC/Vertices, by 
    copying packed version from .digi or creating on demand when writing the Dst.
    Use $RDSTROOT/options/UnpackDst.opts to decode (Rdst v1r1, DstContent.opts)

- Bug fixes:
  . Changes to job options to recreate empty directory nodes on demand
    (DAQSys v1r4, Brunel.opts)

</PRE><H1><A NAME=v27r0>2005-05-10 Brunel v27r0</A></H1><PRE>
This version uses Gaudi v16r3, LHCb v18r4, Rec v1r0, Lbcom v2r0
Requires input data from Boole v8r3 to v9r1. Incompatible with DC04 versions

Based on v26r3, and new RecSys project.

- Modified packaging
  . Complete restructuring of CaloAssociators (CaloAssociators v5r0)
  . Update for CaloTrackAlg and CaloTrackHistoAlg base classes and remove 
    associator tools 
    (CaloUtils v4r9, CaloReco v2r8, CaloPIDs v2r5, CaloMoniDst v1r1)
  . Remove dependency on ITAlgorithms, get ISTSignalToNoiseTool from STTools
    (STTools v1r1, LongTrack v1r15, TrKShort v1r6, VeloTT v1r13)

- Persistency changes
  . Save Link/Raw/Calo/Digits instead of Rec/Relations/EcalClusters2MCParticles
  . Remove Rec/Relations/Tr2MCP

</PRE><H1><A NAME=v26r3>2005-04-19 Brunel v26r3</A></H1><PRE>
Requires input data from Boole v8r2 to v9r1. Incompatible with DC04 versions

- Packages modified: ITAlgorithms v14r4p1, TrgTools v7r3

- Modified packaging
  . Move to XmlDDDB v24r1
  . Program name and version now set via preprocessor directives in GaudiMain
    and printed by ApplicationMgr. APPVERSION env. variable no longer needed
    (GaudiSvc v13r3, GaudiConf v9r1, GaudiAlgs v1r5)

- Bug fixes:
  . Fix memory leaks in RichTrSegMakerFromTrStoredTracks when track segments
    are rejected (RichTools v1r6)
  . Fix small memory leak in TrgContainer (TrgTools v7r3)
  . Remove TBronch warning, fix castor file access on Windows (ROOT 4.03.04a)

</PRE><H1><A NAME=v26r2>2005-04-11 Brunel v26r2</A></H1><PRE>
This version uses Gaudi v16r2, LHCb v18r2 (also CLHEP 1.9, ROOT 4.0)
Requires input data from Boole v8r2 to v9r1. Incompatible with DC04 versions

- Packages modified: TrgTools v7r2, VeloTT v1r12, TrgVelo v7r3, MuonID v3r7p2,
                     MuonRec v2r4p1, RichRecSys v1r16p1, RichLocalPID v1r10p1,
                     RichGlobalPID v1r9p1, RichRingRefit v1r9p1
                     Revert to TrgBrunel v1r1

- New tuning:
  . New tuning for offline Velo tracks (TrgVelo v7r3, Brunel.opts)

- Geometry changes (XmlDDDB v24r0)
  . Update Rich2 centre tube description and add centre tube supports
  . Change Velo sensor thickness to 300um
  . Fix overlaps in Velo RF foil
  . Remove options for v200402 geometry
  . Give detector element to Velo half stations (with VeloDet v9r4)

- Persistency changes
  . Add header word to ST RawBuffer banks (STDAQ v1r5)

- Bug fixes:
  . Fix memory leak in XmlDDDB parser tool (XmlTools v3r4)
  . Add charge to VTT tracks (VeloTT v1r12)
  . Fixes in TrgTools, not relevant for Brunel
  . Restore lost flags in TrgVelo, undo corresponding fix in TrgBrunel
  . Backward incompatible (for data) fix to TTLayer.cpp (STDet v1r3)


</PRE><H1><A NAME=v26r1>2005-03-08 Brunel v26r1</A></H1><PRE>
This version uses Gaudi v16r2, LHCb v18r1 (also CLHEP 1.9, ROOT 4.0)
Requires input data from Boole v8r1. Cannot process DC04 Boole output.
Output data incompatible with DC04 versions

- Packages modified: RichRecSys v1r16, RichLocalPID v1r10, RichGlobalPID v1r9

- Persistency changes:
  . Backwards incompatible changes to RawBuffer (bank header now has 2 words)
    and to L1Buffer bank types for L0Calo, L0DU, L0Muon (DAQEvent v5r0)
  . DAQ bank in RawBuffer replaces "Header" bank        (DAQEvent v5r0)
  . Backwards incompatible changes to RichSmartID       (LHCbKernel v5r8)

- Modified functionality:
  . Improve handling of events with no pixels (RichGlobalPID v1r9)

- Bug fixes:
  . Small fix to isInside method (VeloDet v9r3)
  . Fix options for new associators (CaloReco v2r7p1)

</PRE><H1><A NAME=v26r0>2005-02-14 Brunel v26r0</A></H1><PRE>
This version uses Gaudi v16r0, LHCb v18r0 (also CLHEP 1.9, ROOT 4.0)
Requires input data from Boole v8r0 - Cannot process DC04 Boole output.
Output data incompatible with DC04 versions

- Packages removed: AsctToLinker (now in LHCbSys)
                    OTMonitor, TrExtrapolator, CaloReco, CaloPIDs, RichRecCommon,
                    RichRecTools, RichRecMCTools, RichRecQC (now in LbcomSys)
- Packages modified: LongTrack v1r14, ITCheckers v2r4p1, RichRecSys v1r15,
                     TrgTools v7r1, TrgBrunel v1r2, TrCheck v2r8, TrgVelo v7r1,
                     TrFitEvent v4r9

- New tuning:
  . Use a "new" error matrix calculation in TrgVelo, based on the old one from
    VeloTrack (TrgVelo v7r1, Brunel.opts) 

- Bug fixes:
  . Changes to avoid duplicate entries in linker tables (AsctToLinker v1r4)
  . Correctly flag Ks tracks in TrAnalyse summary table (TrCheck v2r8)
  . Correctly recognise VeloBack tracks coming from new TrgVelo (TrgBrunel v1r2)
  . Fix phi measurement in VeloPhiClusterOnTrack (TrFitEvent v4r9) 
  . Use correct Velo sensor numbers (XmlDDDB v23r2)

- Packaging changes:
  . Backward incompatible modifications for CLHEP 1.9 (LongTrack)
  . Backward incompatible modifications for GaudiObjDesc v7r* (TrgTools)

</PRE><H1><A NAME=v25r3>2005-01-25 Brunel v25r3</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r3.
Requires data produced by Boole v7r2 or later. It *cannot* process DC04 data

- Packages modified: RichRecSys v1r14, RichRecTools v2r13, ITCheckers v2r4,
            TrgVelo v7r0p1, TrgTools v7r0p1, TrCheck v2r7p1, TrKShort v1r5

- New functionality:
  . Support for new RawBuffer bank formats of Calo and Rich. Correct decoding is
    chosen automatically from bank version number (CaloDAQ v1r0, RichDAQ v2r0)

- New tuning:
  . Do not apply slope-dependent multiple scattering error in TrgVelo space
    tracking. Fixes Match track efficiency (TrgVelo)

- Packaging changes:
  . Backwards compatible modifications for CLHEP 1.9 (TrCheck, TrKShort)
  . Remove MCHitMonitor, now in MCTools (ITCheckers)

</PRE><H1><A NAME=v25r2p1>2005-01-13 Brunel v25r2p1</A></H1><PRE>
Documentation moved to BrunelSys package (from Rec/Brunel):
 . These release notes
 . doxygen configuration files

</PRE><H1><A NAME=v25r2>2004-12-10 Brunel v25r2</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r2.
Requires data produced by Boole v7r2 or later. It *cannot* process DC04 data

- Packages removed:  VeloTrack (obsolete)
- Packages added:    TrgTools, TrgVelo, TrgBrunel (replaces VeloTrack)
- Packaged modified: TrFitEvent v4r8, TrCheck v2r7, RichRecSys v1r13p1,
                      RichRecBase v1r14p1, RichLocalPID v1r9p1, 
                      OTSimulation v1r1, CaloReco v2r7

- New functionality:
  . Support for v200412 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout,
                                  new Velo numbering)
    Not yet tested, needs new Gauss data (v200412.opts, XmlDDDB v23r1)

- Modified functionality
  . Uses new Velo detector element and geometry. Sensor numbering incompatible
    with DC04 version. (LHCbKernel v5r5, VeloEvent v13r2, VeloDet v9r1,
    VeloDAQ v2r1, TrFitEvent v4r8)
  . "Offline" Velo tracking replaced by "Online" version
    (TrgTools v7r0, TrgVelo v7r0, TrgBrunel v1r1)
  . Improved handling of events with no pixels fired
    (RichRecBase v1r14p1, RichLocalPID v1r9p1)

- Removed functionality
  . Support for v200411 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout)

- Persistency changes
  . New velo sensor numbering in RawBuffer, requires VeloDet v9r1, VeloDAQ v2r1
    to decode

- Packaging changes
  . Move to new GaudiAlgorithm base classes (OTDAQ v3r2, OTMonitor v1r1)

</PRE><H1><A NAME=v25r1>2004-11-22 Brunel v25r1</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r1.
Requires data produced by Boole v7r0 or v7r1. It *cannot* process DC04 data

- Packages removed:  CaloMonitor (obsolete)
- Packages added:    CaloMiniDst (replaces CaloMonitor)
- Packages modified: RichGlobalPID v1r8, RichLocalPID v1r9, RichPIDMerge v1r5,
     RichRecBase v1r14, RichRecCommon v1r10, RichRecMCTools v1r7,
     RichRecQC v1r10, RichRecSys v1r13, RichRecTools v2r12, RichRingRefit v1r9,
     TrExtrapolator v2r14, ITAlgorithms v14r4, TrFitAssociators v1r3

- New functionality:
  . Support for v200411 geometry (Rich1 EDR, Rotated Rich2, TT KLM layout)
    Not yet tested, needs new Gauss data (v200411.opts, XmlDDDB v23r0)
  . Support for Data Quality checking. Data Quality reference files built from
    DC04 log files are provided in $LHCBRELEASES/DBASE/DQ/BrunelDQ/v1r0. XML
    descriptions of log file fields to be verified are in $BRUNELROOT/DQ.
    To verify a log file, execute the command:
      python2.2 $LHCBHOME/scripts/checklog.py $BRUNELROOT/DQ/Brunel_options.xml
        <event-type> <log-file>

- Modified functionality
  . Improvement to initialisation of random numbers. Now three seeds are used
    (run and event numbers, plus hash of string containing name, event number,
    run number). Can optionally skip some random numbers before every event,
    by setting job option Brunel.SkipFactor (default is zero). Can revert to
    previous behaviour by setting job option Brunel.SingleSeed = true;
    (LHCbAlgs v1r2)
  . Use rootd (instead of rfio) to access castor files
    (GaudiConf v8r1, v200402.opts)
  . Remove explicit creation of MagneticFieldSvc and ParticlePropertySvc, now
    created on demand (Brunel.opts, RichRecTools v1r12)
  . Bug fix to finalisation order of services, allows to enable DataOnDemandSvc
    decoding for all RawBuffer decoding algorithms (GaudiSvc v12r6, Brunel.opts)
  . More accurate tuning of dE/dx correction (TrExtrapolator v2r14)
  . Use new RichPID object format, add various new features not yet used by
    default (RichRecSys v1r13)
  . Improved decoding of Pixels from RawBuffer (RichRecTools v2r12)
  . Use DataOnDemandSvc to instantiate associator algorithms 
    (Relations v2r0, AssociatorsSys v2r1, TrFitAssociators v1r3)

- Removed functionality:
  . Removed support for 200402-TT-alt and Field043 geometries

- DST changes
  . /Rec/Rich/PIDs contains new backwards incompatble version of RichPID
    (RichEvent v8r0)

- Bug fixes
  . Small fix in thick scatterer (TrExtrapolator v2r14)

- Packaging changes
  . Calo monitoring moved to new CaloMoniDst package

</PRE><H1><A NAME=v25r0>2004-11-01 Brunel v25r0</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v17r0.
Requires data produced by Boole v7r0 or later. It *cannot* process DC04 data

- Packages removed:  OTDAQ (moved to LHCbSys)
                     OTAlgorithms (obsolete)
- Packages added:    OTMonitor v1r0
- Packages modified: AsctToLinker v1r3, TrFitEvent v4r7, TrFitAssociators v1r2,
                      TrCheck v2r6, TrTools v2r6, Seeding v2r10, LongTrack v1r13,
                      TrCleanEx v2r11, TrExtrapolator v2r13p1, TrKShort v1r4p1

- New or modified functionality
  . New OT Event model: OTTime replaces OTDigit and OTCluster, plus backward 
    incompatble changes to OTChannelID. Not compatible with DC04 data.
    (LHCbKernel v5r3, OTEvent v14r0, OTDAQ v3r0, OTAssociators v3r0
     Required simple adaptation of large number of tracking packages)
  . Introduce OT beam tilt capability. Tilt angle currently set to 0.
    (OTDet v5r3, MCTools v1r8, XmlDDDB v22r4)

- DST changes
  . Link/Raw/OT/Times replaces Link/Raw/OT/Digits
  . Link/Rec/OT/Clusters and Rec/OT removed

</PRE><H1><A NAME=v24r3>2004-10-27 Brunel v24r3</A></H1><PRE>
This version uses Gaudi v15r3, LHCb v16r3 and is built on v24r2b branch.
It can process DC04 data

- Packages modified: CaloReco v2r6

- New or modified functionality
  . RawBuffer is decoded using DataOnDemandSvc (RawBuffer.opts)
    Not all banks are decoded in this way yet, due to a problem in Gaudi when
    finalising data on demand algorithms that use tools
  . EventHeader is rebuilt from RawBuffer when not on input file
  . New features for Calo Reco (CaloReco v2r6)

- DST changes
  . Event/Header removed (can be rebuilt from RawBuffer)

</PRE><H1><A NAME=v24r2>2004-09-22 Brunel v24r2</A></H1><PRE>
This version uses Gaudi v15r2, needs CMT v1r16. It can process DC04 data

- Packages removed:  VeloDAQ, STDAQ, MuonDAQ (moved to LHCbSys)
- Packages modified: CaloPIDs v2r4, CaloReco v2r5, CaloMonitor v2r2p1, 
                     VeloTT v1r1

- New or modified functionality
  . New test input data file taken from DC04 (v200402.opts)
  . Enabled new Gaudi DataOnDemand service to allow automatic invocation of 
    RawBuffer decoding algorithms. In this version it is used to decode the
    Calorimeter banks (Brunel.opts, CaloEvent v13r5)
  . Preparation for HLT developments (CaloPIDs v2r4, CaloReco v2r5)

- New tuning
  . Speed improvements in decoding of Calo RawBuffer banks (CaloEvent v13r5)
  . Speed improvements in CellularAutomaton (CaloReco v2r5)

- Code cleanups
  . Z positions of TT stations taken from detector element rather than job
    options (VeloTT v1r11)

- Bug fixes
  . Workaround for core dump on exit() (GaudiPoolDb v1r9)
  . Various fixes for memory leaks (GaudiSvc v12r3, GaudiPoolDb v1r9)

</PRE><H1><A NAME=v24r1>2004-07-26 Brunel v24r1</A></H1><PRE>
This version uses Gaudi v15r1, needs CMT v1r16. It can process DC04 data

- New or modified functionality
  . Prefix numeric histogram IDs by "h" to facilitate manipulation in Root.
    Controlled by the option RootHistSvc.ForceAlphaIds (RootHistCnv v9r3)

- Bug fixes
  . Fix EventSelector.FirstEvent, in v24r0 was skipping twice the requested 
    events (GaudiSvc v12r2)
  . Fix density of Rich2 mirror support (was 1*g/cm3, should be 0.24*g/cm3)
    (XmlDDDB v22r3)

</PRE><H1><A NAME=v24r0>2004-07-23 Brunel v24r0</A></H1><PRE>
This version uses Gaudi v15r0, needs CMT v1r16. It can process DC04 data

- Packages removed:  LHCbTools, RichDAQ (moved to LHCbSys)
                      RichDetTools (renamed RichTools, moved to LHCbSys)
                      BrunelAlgs (moved to LHCbAlgs and DAQEvent)
- Packages modified: RichRecSys v1r12, RichRecBase v1r13, RichRecMCTools v1r6,
                      RichLocalPID v1r8, RichGlobalPID v1r7, RichPIDMerge v1r4,
                      RichRecCommon v1r9, RichRecTools v2r11, RichRecQC v1r9,
                      RichRingRefit v1r8, TrTools v2r5p1, TrFitEvent v4r6,
                      TrFitter v4r0, TrCheck v2r5, TrCleanEx v2r0, VeloTT v1r10,
                      TrExtrapolator v2r13, Seeding v3r9, OTAlgorithms v13r4p1,
                      ITAlgorithms v14r3, ITCheckers v2r3, STDAQ v1r3,
                      CaloReco v2r4, AsctToLinker v1r2, VeloTrack v5r2,
                      TrMatching v2r10p1, LongTrack v1r12

- New or modified functionality
  . GaudiAuditors no longer used for algorithm timing, uses GaudiSequencer
    internal timing instead
  . Remove obsolete TimingAlg
  . Remove obsolete GaudiRootDb capability
  . Added test1.opts to reproduce a known crash

- DST changes
  . Remove obsolete "/Event/Trig/AlgUsedTimes#1"

- New tuning
  . Initialize MuonGeometry tool completely at initialisation, not during first
    ~10 events (MuonTools v3r7)
  . New Calo calibration for DC04 settings (XmlDDDB >= v22r2) (CaloReco v2r4)
  . New parameterization of the dE/dx loss correction (TrExtrapolator v2r13)
  . Speed improvements in MagneticFieldSvc (Magnet v2r7)
  . Various minor updates to Rich code

- New packaging and code cleanups
  . Use new GaudiSequencer base class for ProcessPhase (LHCbAlgs v1r0)
  . Use new GaudiAlg and GaudiTools base classes
    (STDet v1r2, ITAssociators v2r9, STDAQ v1r3, ITAlgorithms v14r3,
     ITCheckers v2r3, TrExtrapolator v2r13, TrFitter v4r0, RichRecSys v1r12,
     RichRecQC v1r9)
  . Move ITrFitter interface to TrFitEvent package, thus removing dependencies
    on TrFitter package 
    (TrFitEvent v4r6, TrFitter v4r0, TrCheck v2r5, TrCleanEx v2r10, VeloTT v1r10)
  . Removed dependency on GaudiAud, GaudiDb, GaudiTools packages
  . Removed dependency on CERNLIB (Seeding v2r9, HepMC v4r121p0)
  . Remove BrunelAlgs package. BrunelInitialisation algorithm replaced by
    common LbAppInit and CreateRawEvent (LHCbAlgs v1r0, DAQEvent v4r4) 
  . Take external packages from LCG_Interfaces area

- Bug fixes
  . Fix an unprotected pointer in Rich detailed monitoring (RichRecCommon v1r9)
  . Add a missing job option for detailed Calo monitoring (BrunelMoni.opts)
  . Fix bug in evaluation of overlap of two rectangular areas (CaloUtils v4r7)
  . Add fixes suggested by C.Jones for using Brunel.job in debug mode
  . Fix in MS scattering correction (TrExtrapolator v2r12)
  . Fix problem with 3-cell cluster at edge of calorimeter, where only one cell
    has positive energy - was causing rare core dump in CaloMergedPi0Alg
    (CaloReco v2r4)

</PRE><H1><A NAME=v23r7>2004-04-29 Brunel v23r7</A></H1><PRE>
Version used for DC04

Requires data produced by Boole v5r6 or later (for signal)
Requires data produced by Boole v5r7 or later (for B inclusive and minimum bias)

- Packages modified: CaloPIDs v2r3

- New tuning
  . 12% correction to HCAL calibration coefficient  (XmlDDDB v22r2)
  . 7.2% correction to ECAL calibration coefficient (XmlDDDB v22r2)

- Bug fixes
  . Make MC/Signal optional and Gen/HardProcesses mandatory on Dst definition

</PRE><H1><A NAME=v23r6>2004-04-23 Brunel v23r6</A></H1><PRE>
Requires data produced by Boole v5r6 or later

- Packages modified: CaloPIDs v2r2, CaloMonitor v2r2, RichUtils v3r9, 
                      RichRecQC v1r7, RichDetTools v4r1, RichRecSys v1r9,
                      RichRecBase v1r11, RichDAQ v1r4, RichRecMCTools v1r4,
                      RichRingRefit v1r7, RichLocalPID v1r7, RichGlobalPID v1r6,
                      RichRecCommon v1r6, RichRecTools v2r9, TrMatching v2r10,
                      TrExtrapolator v2r11, TrKShort v1r4, TrFitEvent v4r5

- Functionality changes
  . Disabled RichRecoQC, because it accesses Spillover hits, no longer available
    on Boole output (RichRecQC v1r7)

- New tuning
  . Update parameterisation for Photon ID (CaloPIDs v2r2)
  . New Rich track state handling and tuning
    (RichRecSys v1r9, RichUtils v3r9, RichDetTools v4r1) 
  . Change match Chi2 cut to 500. (from 200.) (Matching v2r10)
  . Remove multiple scattering fudge factor from extrapolation errors
    (TrExtrapolator v2r11)
  . Retune KShort tracking for higher efficiency (TrKShort v1r4)
  . Update parameterization of Velo errors, scale factor is now 0.8
    (TrFitEvent v4r5)

- Persistency changes
  . Added Gen/HepMCEvents, Gen/HardProcesses, MC/Signal
    (produced by Gauss v15r4, propagated by Boole v5r6)
  . Removed Velo,IT,OT clusters from DST. If needed they can be recreated from 
    RawBuffer by rerunning the clustering
  . Added intermediate directories of Digits paths, to avoid opening .digi
    file when registering Digits re-created from RawBuffer in DaVinci
  . use POOL_1_6_3

</PRE><H1><A NAME=v23r5>2004-04-15 Brunel v23r5</A></H1><PRE>

 Requires data produced by Boole v5r4 or later
 Tuned for XmlDDDB v22r1

- Packages modified: LHCbTools v1r1, MuonDAQ v1r1

- New features
  . Location of XmlDDDB file is printed at start of job (GaudiSvc v11r6)

- Changed features
  . PoolDbCacheSvc.InputCatalog and .OutputCatalog no longer supported:
    use PoolDbCacheSvc.Catalog instead, with support for search list;
    first catalog in list is read/write, others are read only. 
    (POOL v1r162p0, GaudiPoolDb v1r6)

- Persistency changes
  . Using POOL_1_6_2. Fixes problem with Rich PIDs
    (POOL v1r162p0, GaudiPoolDb v1r6)

- Bug fixes
  . All tools correctly released at end of job (GaudiSvc v11r6)
  . Fix a typo in TimingTool::finalize (LHCbTools v1r1)
  . Fix 1.5 cm shift of a TT ladders near the edge (XmlDDDB v22r1)

</PRE><H1><A NAME=v23r4>2004-04-01 Brunel v23r4</A></H1><PRE>

 Requires data produced by Boole v5r4 or later
 Tuned for XmlDDDB v22r0

- Packages removed:  VeloAlgorithms
- Packages modified: ITAlgorithms v14r2, ITCheckers v2r2, STDAQ v1r1,
                      BrunelAlgs v3r4p1, CaloReco v2r1p1, OTDAQ v2r0,
                      TrKShort v1r3, LongTrack v1r11, VeloTT v1r9

- New features
  . Field045 map is the default. To process data produced with the old field
    map, use v200402-Field043.opts instead of v200402.opts
  . Added example job options (Copy.opts) for copying one or more files. Can be
    used to merge several DSTs, or to produce reduced (or extended...) DSTs

- Persistency changes
  . New version of RawBuffer for OT: new bank structure, multiple hit
    capability, new straw numbering (OTDAQ v2r0)
  . HepMC can now be made persistent also for POOL data (GenEvent v3r1)
    Disabled from Dst content as it requires data produced with Gauss v15r4
    or greater, not yet released.

- New tuning
  . Update signal to noise cuts to be consistent with Boole (ITAlgorithms v14r2)
  . Tuning of tracking for Field045 (LongTrack v1r11, TrKShort v1r3, VeloTT v1r9)
  . Add a dp/p cut for 4th hit wrt to hits in other TT half (VeloTT v1r9)

- Bug fixes:
  . Avoid multiple includes of job options files (CaloReco v2r1p1)
  . Avoid linking with unnecessary libraries (requirements)
  . Fix monitoring problems related to history flags of tracks (TrKShort v1r3)
  . Fix range definition in TT, whole station is not tilted, only each wafer
    (LongTrack v1r11)

- Packaging changes:
  . Remove unnecessary dependency on VeloAlgorithms

</PRE><H1><A NAME=v23r3>2004-03-18 Brunel v23r3</A></H1><PRE>

 Requires data produced by Boole v5r3 or later
 Tuned for XmlDDDB v22r0

- Packages added:    TrFitEvent v4r4, TrFitAssociators v1r1, STDAQ v1r0,
                     VeloDAQ v1r0
- Packages modified: CaloMonitor v2r0, CaloReco v2r0, CaloPIDs v2r0, OTDAQ v1r1,
     ITAlgorithms v14r1, ITCheckers v2r1, TrCheck v2r4, TrCleanEx v2r9, 
     TrKShort v1r2, TrFitter v3r7p1, VeloTT v1r8, VeloAlgorithms v2r9p1, 
     AsctToLinker v1r1, MuonID v3r7p1, RichUtils v3r8, RichDAQ v1r3, 
     RichDetTools v4r0, RichMCTools v1r1, RichRecBase v1r10, RichRecQC v1r6, 
     RichRecMCTools v1r3, RichRingRefit v1r6, RichLocalPID v1r6, 
     RichGlobalPID v1r5, RichPIDMerge v1r3, RichRecCommon v1r5, 
     RichRecTools v2r8, RichRecSys v1r8, CaloMonitor v2r1, CaloReco v2r1, 
     CaloPIDs v2r1

 - New features:
   . New base classes available for algorithms and tools 
     (GaudiAlg v7r1, GaudiTools v8r0, CaloKernel v3r0)
   . Use new version of ParticlePropertySvc (GaudiSvc v11r4, ParamFiles v3r4)
   . New naming convention for tracks: Upstream renamed Follow,  KsTrack added,
     track type Long, Upstream, Downstream aded
     (TrEvent v13r1, TrFitEvent v4r4, TrFitAssociators v1r1, TrCheck v2r4,
      TrCleanEx v2r9, TrKShort v1r2, RichRecBase v1r9p1, MuonID v3r7p1, 
      CaloReco v2r0, CaloMonitor v2r0)
   . Decode ITDigits from RawBuffer (ITAlgorithms v14r1, STDAQ v1r0)
   . Decode VeloClusters from RawBuffer (VeloAlgorithms v2r9, VeloDAQ v1r0)
   . Associator tools now inherit from GaudiTool. New printout for tools that
     are not finalised (GaudiTools v8r1, LHCbKernel v4r4)

 - New tuning:
   . Recalibration of Ecal ActiveToTotal (XmlDDDB v22r0)
   . New Rich2 HPD layout (XmlDDDB v22r0)
   . New Calo PID calibration histograms (CaloPIDs v2r1, ParamFiles v3r4)
   . New corrections for photons and photons from merged pi0s (CaloReco v2r1)
   . Adapt VeloTT tracking to new TT geometry (VeloTT v1r8)

 - Persistency changes:
   . POOL persistency is now the default
   . Backwards incompatible change to internal encoding of VeloChannelID
     (LHCbKernel v4r3)
   . Use VeloChannelID as key of VeloCluster (backwards incompatible)
     (VeloEvent v13r0p1, AsctToLinker v1r1)
   . Removed OTDigits from DST following fix to relations problem
     (OTDAQ v1r1)
   . Fix relations to CaloDigits
     (GaudiDb v9r2, CaloReCreateMCLinks algorithm from CaloEvent v13r1)

 - Bug fixes:
   . Minor fix to IT clustering (ITAlgorithms v14r1)

 - New packaging:
   . Added explicit dependency on FieldMap v4r3. Change the requirements, or
     the FIELDMAPROOT environment variable, to choose another field map
   . Removed VeloRound, round() function now implemented in Kernel/LHCbMath.h
     (LHCbKernel v4r3, VeloKernel v1r4, VeloDet v8r8p1, VeloAlgorithms v2r9p1)
   . Adapted to new base classes for algorithms and tools. 
     Adds printout of tools not finalised
     (GaudiAlg v7r0, GaudiTools v8r1, LHCbKernel v4r4, CaloMonitor v2r0, 
      CaloReco v2r0, CaloPIDs v2r0, RichMCTools v1r1, RichRecMCTools v1r3, 
      RichRecQC v1r6, RichRecSys v1r8)
   . Valgrind error suppression file for Gaudi and external package errors moved
     to $STDOPTS/Gaudi.supp (GaudiConf v7r6, valgrind.job)


</PRE><H1><A NAME=v23r2>2004-02-10 Brunel v23r2</A></H1><PRE>

- Packages added: RichMCTools v1r0, OTDAQ v1r0, MuonDAQ v1r0, AsctToLinker v1r0
- Packages modified: ITAlgorithms v14r0, ITCheckers v2r0, LongTrack v1r10,
                      Seeding v2r8, TrCheck v2r3, TrCleanEx v2r8, TrKShort v1r1,
                      TrMatching v2r9, VeloTT v1r7, RichUtils v3r7, 
                      RichDetTools v3r6, RichRecBase v1r9, RichRecQC v1r5, 
                      RichRichRefit v1r5, RichLocalPID v1r5, RichGlobalPID v1r4,
                      RichRecCommon v1r4, RichRecTools v2r7, RichDAQ v1r2,
                      RichRecSys v1r7

- New functionality
  . Support for new TT layouts (4-3-3-4: v200402.opts, 4-2-1-1-2-4: TT-alt.opts)
    (XmlDDDB v21r0, STDet v1r0, ITAlgorithms v14r0, ITCheckers v2r0)
  . Support for new Rich features (switched off by default)
    (RichRecSys v1r7, RichDetTools v3r6, RichUtils v3r7)
  . OT digits are rebuilt from RawBuffer (OTDAQ v1r0)
  . Muon digits are rebuilt from RawBuffer (MuonDAQ v1r0)

- DST changes
  . Replace old style "relations" with new style "links" for MC truth of 
    ITClusters, OTClusters, VeloClusters, MuonCoords, L0Calo. Relations can be
    rebuilt from links when reading the DST. (AsctToLinker v1r0)
  . Add depositedCharge() to ITCluster (ITEvent v13r1, ITAlgorithms v14r0)
  . Add one significant bit to time field of MuonDigit
    (MuonEvent v3r1, MuonAlgs v5r1)
  . Remove all (old) L1 objects from Dst. To be replaced by new Trg
    (L1Decision not available, waiting for new code working in Trg framework)
  . Removed filtering of MCParticles/MCVertices (should be done in Gauss)
  . Added OTDigits. This is because POOL crashes when writing the OTCluster
    SmartRef to OTDigits, if the OTDigits are not also saved somewhere...

- New tuning
  . Updated TT detector geometry (beam pipe hole, guard ring size etc.)
    (XmlDDDB v21r0)
  . Adapt to changes in ST geometry 
    (ITAlgorithms v14r0, ITCheckers v2r0, LongTrack v1r10, Seeding v2r8,
     TrCheck v2r3, TrCleanEx v2r3, TrKShort v1r1, TrMatching v2r9, VeloTT v1r7)

- New packaging
  . Creation of relations and links tables for the DST moved to a new independent
    Relations phase

- Dropped functionality
  . Dropped support for pre-2004 geometries (removed v200311,opts, RiSicbGeom)
  . Dropped valgrind support for gcc 2.95.2 
    (Brunel.supp.gcc32 renamed Brunel.supp)


</PRE><H1><A NAME=v23r1>2004-01-28 Brunel v23r1</A></H1><PRE>

- Packages added:    TrKShort v1r0, LHCbTools v1r0
- Packages modified: ITAlgorithms v13r2, BrunelAlgs v3r4, Seeding v2r7
- Packages removed:  TrIntraPR, UpstreamPR (replaced by TrKShort)
                      RiSicbGeom, CaloInterfaces, CaloUtils, MCTools 
                      (now in LHCB project)

- New functionality
  . New KShort tracking replaces old "upstream" tracking. See TrKShort
    release notes for details (TrKShort v1r0). UpstreamPR and TrIntraPR removed
  . All DST classes can now be written to POOL (LHCbKernel v4r1)

- New tuning
  . New normalisation for timingAlg, for consistency with Boole. Updated list of
    algorithms to be timed (BrunelAlgs v3r4, LHCbTools v1r0)
  . Adapt Seeding algorithm to latest IT+OT geometry (Seeding v2r7)

</PRE><H1><A NAME=v23r0>2004-01-22 Brunel v23r0</A></H1><PRE>
- Built against GAUDI v14r0

- Packages modified: RiSicbGeom v3r8, ITAlgorithms v13r1, CaloInterfaces v3r1,
                      CaloUtils v4r6, CaloMonitor v1r6, VeloAlgorithms v2r9,
                      RichRecSys v1r6, RichDAQ v1r1, RichDetTools v3r5,
                      RichRecBase v1r8, BrunelAlgs v3r3, TrExtrapolator v2r10,
                      MuonRec v2r4, MuonID v3r7, TrCleanEx v2r7p2, 
                      TrMatching v2r8, TrIntraPR v2r8, UpstreamPR v2r9,
                      CaloReco v1r8

- New functionality
  . Possibility to read POOL digi file and/or save POOL dst file. Only for
    tests by experts. See examples in v200311.opts
  . Monitoring histograms now saved to ROOT file by default. Saving to Hbook file
    is still possible, see comments in BrunelMoni.opts

- New tuning
  . New Ecal and Hcal calibration for "ActiveToTotal" parameter (XmlDDDB v20r1)

- Dst changes
  . Add file DstContent.opts to define dst content (Moved from GaudiConf)
  . Remove L0/Calo and L0/FullCalo, can be rebuilt from RawBuffer
  . Backwards incompatible update of CaloCluster - new seed attribute
    (CaloEvent v13r0, CaloReco v1r8)
  . Add HepMCEvents (written if present on Sim+Digi files)
  . Add Link objects (MC truth of tracking digits used by Trg tracking)
  . Add MCTrackInfo for "in Acceptance" and "Reconstructible" flags (Trg defn.)


</PRE><H1><A NAME=v22r0>2003-12-12 Brunel v22r0</A></H1><PRE>
- Built against GAUDI v13r0

- Packages modified: RiSicbGeom v3r7, CaloInterfaces v3r0, CaloMonitor v1r5,
     RichUtils v3r6, ITAlgorithms v13r0p1, RichDetTools v3r4, CaloReco v1r7,
     CaloPIDs v1r2, TrExtrapolator v2r9, RichRecSys v1r5, RichRecBase v1r7,
     RichRecQC v1r4, RichRingRefit v1r4, RichRecTools v2r6, RichRecCommon v1r3,
     RichLocalPID v1r4, RichGlobalPID v1r3, RichDAQ v1r0p1, TrIntraPR v2r7p1

</PRE><H1><A NAME=v21r2>2003-12-04 Brunel v21r2</A></H1><PRE>
** This version requires data produced by Boole v3r2 or greater **

- Packages modified: ITAlgorithms v13r0, ITCheckers v1r4, Seeding v2r6,
     LongTrack v1r9, TrCheck v2r2, TrCleanEx v2r7p1, TrIntraPR v2r7,
     VeloTT v1r6p1, RichDetTools v3r3, RichRecSys v1r4, RichRecBase v1r6,
     RichRecTools v2r5, OTAlgorithms v13r4

- New features
   . Additional monitoring histograms (ITCheckers v1r4)

- New tuning
   . Changes to IT clustering cuts (ITAlgorithms v13r0)
   . Use circle method everywhere for ray tracing, gives further improvement in
     Rich time performance without loss of efficiency 
     (RichDetTools v3r3, RichRecSys v1r4)
   . Backwards incompatible change to OT geometry: introduction of OTQuarters,
     new numbering for OT stations, layers, modules 
     (XmlDDDB v20r0, OTDet v5r0, OTAlgorithms v13r4, TrAssociators v3r7,
      LongTrack v1r9, TrCheck v2r2, TrIntraPR v2r7, Seeding v2r6)

- Dst changes
   . Backwards incompatible change to bit definitions in OTChannelID
     (LHCbKernel v12r10)

- Bug fixes
   . Fix division by 0 for backward moving tracks (bug 1928) (TrCheck v2r2)

- New packaging
   . Changes to IT geometry tree structure 
     (XmlDDDB v19r1, ITDet v1r7, Seeding v2r6, LongTrack v1r8p1, TrCheck v2r2,
      TrCleanEx v2r7p1, TrIntraPR v2r7)
   . Changes to ITSignalToNoise tools ---> noise in e- or ADC 
     (ITAlgorithms v13r0, LongTrack v1r8p1, TrIntraPR v2r7, VeloTT v1r6p1)

- Removed features
   . Remove support for v256r0 geometry (not supported by OTDet v5r0)

</PRE><H1><A NAME=v21r1>2003-11-28 Brunel v21r1</A></H1><PRE>
** This version requires data produced by Boole v3r1 or greater **

- Packages added:    RichDAQ v1r0
- Packages modified: BrunelAlgs v3r2, CaloReco v1r6p1, TrCleanEx v2r7,
     RiSicbGeom v3r6, RichUtils v3r5, RichDetTools v3r2, RichRecBase v1r5,
     RichRecQC v1r3, RichRingRefit v1r3, RichLocalPID v1r3, RichGlobalPID v1r2,
     RichPIDMerge v1r2, RichRecCommon v1r2, RichRecMCTools v2r4, RichRecSys v1r3
 
- New features
   . Calorimeter digits rebuilt from RawBuffer (CaloEvent v12r1)
   . Rich digits rebuilt from RawBuffer (RichDAQ v1r0)
   . Default OT monitoring now switched on

- New tuning
   . Improved Rich detector packages and new track cuts in Rich reconstruction.
     Reduced the max track limit for the Global PID from 230 to 180 and 
     increased it for the local PID to 300. Effect is very small drop in PID 
     performance for large events, but much improved CPU time.
     (RiSicbGeom v3r6, RichUtils v3r5, RichDetTools v3r2, RichRecSys v1r3)

- DST changes
   . Added DAQ/RawBuffer (GaudiConf v7r3)

- Bug fixes
   . Fix to off diagonal elements of TrStateP p covariance matrix (TrEvent v12r2)

- Removed features
   . Remove support for v254r1 (optimization TDR) geometry


</PRE><H1><A NAME=v21r0p1>2003-11-10 Brunel v21r0p1</A></H1><PRE>

- Packages modified: BrunelAlgs v3r1p1, Brunel v21r0p1

- Bug fix
   . Use correct serialization to read in HltBuffer and L1Buffer (DAQEvent v2r1)

</PRE><H1><A NAME=v21r0>2003-11-05 Brunel v21r0</A></H1><PRE>
 Version built against LHCB v13r3. Requires oodigi produced by Boole v3r0 or
 later (due to backward incompatible change in Rich data and DAQEvent)

- Packages modified: RiSicbGeom v3r5, RichUtils v3r4, RichDetTools v3r1,
     RichRecBase v1r4, RichRecQC v1r2, RichLocalPID v1r2, RichRingRefit v1r2,
     RichPIDMerge v1r1, RichRecTools v2r3, RichRecSys v1r2, BrunelAlgs v3r1,
     OTAlgorithms v13r3, TrCheck v2r1, TrFitter v3r7, TrExtrapolator v2r8
 
- New tuning
   . Changes to Rich monitoring (RichRecQC v1r2)
   . Updates and new features in Rich ring refit (RichRingRefit v1r2)
   . Implement fast refit with outlier removal. Default is five iterations, 
     removing outliers at chi2 > 9. (TrFitter v3r7)
   . New tuning of dE/dx and MS (TrExtrapolator v2r8)

- New feature
   . Possibility to switch on detailed OT monitoring. 
     Default is "fullDetail" = false (OTAlgorithms v13r3)

- DST changes
   . Requires oodigi produced by Boole v3r0 or later, due to backwards
     incompatible changes to event model and oodigi content
     (RichKernel v4r0, RichEvent v6r0, DAQEvent v2r0, GaudiConf v7r2)
   . Reading program has to be linked with LHCB v13r3 or later due to backwards
     incompatible change to Rich Event model (RichKernel v4r0, RichEvent v6r0)
   . Add L1Buffer to DST (GaudiConf v7r2)

- Geometry changes
   - Renamed v200309-hpd.opts to v200311.opts
   - Removed v256-MaPMT.opts and v200309.opts (MaPMT geometries)

- Bug fixes
   . Fixes to material description of IT frames, was not consistent with cdf
     description (XmlDDDB v19r0)
   . Fix uninitialised variables (bug 1673) (TrCheck v3r7)

</PRE><H1><A NAME=v20r1>2003-10-17 Brunel v20r1</A></H1><PRE>

- Packages modified: VeloAlgorithms v2r8, ITCheckers v1r3p1, OTAlgorithms v13r2,
     RichUtils v3r3, RichDetTools v3r0, RiSicbGeom v3r4, RichRecBase v1r3,
     RichRecQC v1r1, RichGlobalPID v1r1, RichLocalPID v1r1, RichRingRefit v1r1,
     RichRecCommon v1r1, RichRecTools v2r2, RichRecSys v1r1, TrExtrapolator v2r7,
     LongTrack v1r8, TrFitter v3r6, TrTools v2r5, VeloTrack v5r1, VeloTT v1r6,
     TrIntraPR v2r6, TrUpstreamPR v2r8, TrMatching v2r7, trCheck v2r0, 
     BrunelAlgs v3r0
- Packages added:    RichRecMCTools
- Packages removed:  MuonAlgs

- New functionality
   . Add Rich support for MaPMT and for Gauss data. Requires XmlDDDB v18r2
     (RichDetTools v3r0, RichDet v6r0, RichKernel v3r3, RichRecSys v1r1)
   . Add histograms to monitor memory usage (BrunelAlgs v3r0)
   . Create HLTEvent from HLTBuffer at start of processing (BrunelAlgs v3r0)

- New tuning
   . Improved handling of Rich tabulated properties (RichUtils v3r3)
   . Improved ring refit algorithm (RichRingRefit v1r1)
   . Use reference trajectory instead of dummy point on track to propagate
     tracks between Velo and T stations
     (TrFitEvent v4r0, LongTrack v1r8, VeloTrack v5r1)
   . Increase TT signal to noise cut from 4. to 6. for VTT tracks (VeloTT v1r6)
   . Add TT hits to "Matched" tracks (TrMatching v2r7, Brunel.opts)

- New packaging
   . Remove dependency on NAGC, use equivalent gsl functions instead
     (VeloAlgorithms v2r8, ITCheckers v1r3p1, TrExtrapolator v2r7,
      TrIntraPR v2r6, UpstreamPR v2r8)
   . Remove dependency on MuonAlgs (contains only Muon digitization)
   . Remove dependency on LHCBDBASE environment variable. Parameters are taken
     from ParamFiles package. 
   . Specialised BrunelMain.cpp no longer needed, use GaudiMain instead
   . Introduce dependency on GaudiGSL and GSL
   . Rename top level options files for consistency with new XmlDDDB scheme
   . Update Brunel.job and valgrind.job for above changes

</PRE><H1><A NAME=v20r0p1>2003-07-18 Brunel v20r0p1</A></H1><PRE>

- Bug fix:
   . Add workaround in BrunelMoni.opts to create Tr2MCP relation table for DST
     when Rich Monitoring is skipped

</PRE><H1><A NAME=v20r0>2003-07-17 Brunel v20r0</A></H1><PRE>
 *** First version without digitisation. To be used on output of Boole v1r0 ***

- Packages modified: BrunelAlgs v2r2, CaloUtils v4r5, OTAlgorithms v13r1, 
     TrTools v2r4p2, RichRecSys v1r0p1, RichLocalPID v1r0p1, CaloPIDs v1r1
- Packages added: RiSicbGeom v3r3
- Packages removed: BrunelSicb, L0Calo, L0Muon, PuVeto, L0DU, L1VeloTrack,
     L1Decision, DigiAlg, CaloDigit, MuonBackground, RichDigiQC, recevt, recrich
 
- Removed functionality:
   . The digitisation and trigger phases have been removed (moved to Boole). 
     This includes addition of spillover and background, now done in Boole
   . The SICB initialization is removed. A reduced ZEBRA common block is still
     present for HBOOK.

- New functionality
   . use also Seed and Upstream tracks for Calo PID matching (CaloPID v1r1)

- New tuning
   . Modify IT, OT, Velo Associators to work with Digit2MCHit relations stored
     on oodigi tape. Identical behaviour as previously except for tiny 
     additional association inefficiency for IT (few 10^-4) and TT (10^-3)

- DST changes
   . Rich and Calo Digits have been removed (it is possible to navigate to them
     on the oodigi tape if required for special studies) (GaudiConf v7r0)

- Bug fixes
   . Correct a bug with rotation of TT stereo layers (ITDet v1r5)
   . Fix for HCalE estimator (CaloPID v1r1)

</PRE><H1><A NAME=v19r1>2003-07-08 Brunel v19r1</A></H1><PRE>
- Packages removed:  RichRecAlgs, RichMonitor, KsReco
- Packages added:    RichRecSys, RichRecCommon, RichRingRefit, RichLocalPID,
     RichGlobalPID, RichPIDMerge, RichDigiQC, RichRecQC
- Packages modified: RichUtils v3r2, RichRecBase v1r2, RichRecTools v2r1,
     RichDetTools v2r2, BrunelAlgs v2r1

- New tuning:
   . Update of Rich reconstruction software. Includes repackaging of algorithms.
     (RichUtils v3r2, RichRecBase v1r2, RichGlobalPID v1r0, RichLocalPID v1r0,
      RichRingRefit v1r0, RichPIDMerge v1r0, RichRecTools v2r1, RichRecSys v1r0)

- New packaging:
   . Split Rich monitoring into distinct Digi and Reco packages
     (RichRecQC v1r0, RichDigiQC v1r0)

- New functionality:
   . Add MCRichHit class to Event model, for detector information from Gauss
     (RichEvent v5r0, RiSicbCnv v6r0, Event v3r4, SicbCnv v17r7)
   . Add support for valgrind 1.9.6 with gcc32 
     (new file Brunel.supp.gcc32, invoked by valgrind.job)

- Removed functionality:
   . Remove V0 reconstruction ("upstream " KsReco package)
     replaced by new DaVinci algorithm 

- DST changes:
   . Update list of algorithms to be timed with new Rich Global PID iterations
     (BrunelAlgs v2r1)
   . Remove V0s (GaudiConf v6r10)

- Bug fixes
   . Release services etc. after use, to please valgrind
     (RiSicbCnv v6r0, RichRecBase v1r2)


</PRE><H1><A NAME=v19r0>2003-07-03 Brunel v19r0</A></H1><PRE>
  This version is built against Gaudi v12 and introduces support for gcc 3.2

- Packages removed:  MuonTools (now taken from LHCB_v12r0)
- Packages modified: KsReco v1r5, PuVeto v5r4, L0DU v6r4, L1VeloTrack v5r1,
   L1Decision v2r1, OTAlgorithms v13r0, TrCheck v1r4, LongTrack v1r7,
   TrExtrapolator v2r6, Seeding v2r5, TrIntraPR v2r5, TrTools v2r4p1,
   MuonID v3r6, MuonBackground v1r2, RichRecBase v1r1, RichUtils v3r1,
   RichDetTools v2r1, TrCleanEx v2r6p1, MCTools v1r1p1, CaloDigit v1r2p1,
   L0Calo v7r0p1, L0Muon v6r5p1, RichMonitor v3r0p1, RichRecAlgs v2r0p2, 
   RichRecTools v2r0p1, DigiAlg v1r0p1, L1VeloTrack v5r2, BrunelAlgs v2r0p1

- Removed features:
   . Removed support for dbase < v256r0. 
     Data produced with dbase v254r1 (PDC1 winter 2003 production) can be 
     reconstructed with dbase v256r0. 
     Data produced with dbase v255r* (Robustness tests for optimization and
     trigger TDRs) cannot be reconstructed with this version - use v18r1.
   . Removed Rich Fortran reconstruction

- New features:
   . Implementation of modules in OT description. Uses backwards incompatible
     modification to OTDet, requires XmlDDDB from v16r0, dbase from v256r0
     (OTAlgorithms v13r0, Seeding v2r4, LongTrack v1r7, TrIntraPR v2r5,
      L1VeloTrack v5r1)
   . New implementation of "flat spillover" in Muon chambers. Requires 
     installation of the file $LHCBHOME/sim/data/flat-spillo-2.hbook
     (MuonSicbCnv v7r1, MuonBackground v1r2)
   . Added L0 veto on Spd and PuVeto multiplicity (L0DU v6r5)
   . Redesign of L1 algorithm and packaging (L1Decision v2r1)
   . L1TTClusters used instead of offline clusters for L1 (L1Decision v2r1)
   . Detailed description of Spd and Prs, including converter! (XmlDDDB v16r1)
   . Rich OO reconstruction is now the default

- DST changes
   . Rec/Rich/PIDs now contains result of Rich OO reconstruction. 
     Rec/Rich/OOPIDs is no longer filled

- New tuning:
   . Use TDR L0 threshold settings (L0DU v6r5)
   . New Muon ID tuning (MuonID v3r6)
   . Final L1 calibration for TDR (L1Decision v2r1)
   . TimingAlg normalisation loop increased by x 1.3 in case of gcc 3.2, to 
     compensate effect of -o2 compiler flag (BrunelAlgs v2r0p1)

- Bug fixes:
   . Release application manager in BrunelMain.cpp, to please valgrind
   . Release services etc. after use, to please valgrind
     (ITAlgorithms v12r10, L1Decision v2r1, L1VeloTrack v5r1, OTAlgorithms v13r0,
      MCTools v1r1p1, KsReco v1r5, RichMonitor v3r0p1, RichRecAlgs v2r0p2,
      RichRecTools v2r0p1, TrCheck v1r4, TrIntraPR v2r5, TrTools v2r4p1)
   . Remove IGeometryInfoException from DoxyFile.cfg, to fix doxygen doc

</PRE><H1><A NAME=v18r1>2003-06-24 Brunel v18r1</A></H1><PRE>
- Packages removed:  BrunelKernel
- Packages added:    DigiAlg v1r0
- Packages modified: BrunelAlgs v2r0, CaloReco v1r6, ITCheckers v1r3,
   ITAlgorithms v12r9p1, LongTrack v1r6, MuonBackground v1r1, RichRecAlgs v2r0p1,
   MuonAlgs v4r1

   Package included in this version only: MuonTools v3r5 (to over-ride v3r4 in
                                          LHCB_v1r12)
- New features:
   . Support addition of LHC background. Switched on by default
     (Digi/DigiAlg v1r0, Muon/MuonAlgs v4r1, Muon/MuonTools v3r5)
   . New algorithm MCEvTypeFilter to allow different DST definitions depending
     on event type (BrunelAlgs v2r0)
   . Enable default IT monitoring (ITCheckers v1r3)

- DST changes:
   . L1OT(ST,TT)Clusters are present only on minimum bias events, as in the TDR
     production with Brunel v17r4. In Brunel v18r0 they were present on all
     events (GaudiConf v6r8, BrunelAlgs v2r0)

- Bug fixes:
   . Fix problem with handling of OT geometry in Y=0 overlap region. Improves
     tracking efficiency by 0.3% (LongTrack v1r6)
   . Fix run time problem on Windows (RichRecAlgs v2r0p1)
   . Fix bug 425: processing aborted if bad cluster in Ecal (CaloReco v1r6)
   . Fix bug 424: crashes due to rounding problem (MuonBackground v1r1)
   . Fix bug 135: Solids deleted twice at finalisation (DetDesc v1r9p1)
   . Fix some Rich1 overlaps reported by transport service (XmlDDDB v15r5)
   . Fix uninitialised bin in IT charge sharing function (ITAlgorithms v12r9p1)

- Packaging changes:
   . BrunelInitialisation and BrunelPhase algorithms moved to BrunelAlgs
     package, making BrunelKernel package obsolete (BrunelAlgs v2r0)

</PRE><H1><A NAME=v18r0p3>2003-06-06 Brunel v18r0p3</A></H1><PRE>
- New features:
   . Add support for dbase v255r3

</PRE><H1><A NAME=v18r0p2>2003-05-07 Brunel v18r0p2</A></H1><PRE>
- New features:
   . Add support for dbase v255r4 and "degraded Velo" robustness test
- Bug fixes:
   . Fix a character string length, causing crash on W2K (BrunelKernel v5r4p1)

</PRE><H1><A NAME=v18r0p1>2003-04-24 Brunel v18r0p1</A></H1><PRE>
- New features:
   . Add support for dbase v255r2

</PRE><H1><A NAME=v18r0>2003-04-17 Brunel v18r0</A></H1><PRE>
- Packages added:    CaloPIDs v1r0, MuonUtils v1r0, MuonBackground v1r0,
                     MCTools v1r1, RichRecBase v1r0
- Packages removed:  RichRecKernel, RichRecEvent, RichRecInterfaces
- Packages modified: BrunelAlgs v1r9, BrunelSicb v4r1, CaloDigit v1r2,
     CaloMonitor v1r4, CaloReco v1r4, ITAlgorithms v12r9, L0Calo v7r0,
     L0Muon v6r5, L1VeloTrack v5r0, MuonAlgs v4r0, OTAlgorithms v12r4,
     recrich v7r4, RichMonitor v3r0, RichRecTools v2r0, RichRecAlgs v2r0,
     RichUtils v3r0, VeloAlgorithms v2r7

- New features:
   . DST content is now defined in GaudiConf package, not in BrunelDst.opts
     As side-effect, OutputStream is now called DstWriter, not BrunelDstWriter
   . Improved default monitoring for automatic data quality checks
     (VeloAlgorithms v2r7, RichMonitor v3r0)
   . Support for dead strips in Velo (zero dead strips by default)
     (VeloAlgorithms v2r7, VeloTrack v5r0)
   . Muon low energy background is no longer read from SICBMC RAWH file. 
     Instead it is generated in the digitisation, using a parameterisation from
     the histograms in $LHCBHOME/Sim/mubg1.hbook
     (MuonAlgs v4r0, MuonUtils v1r0, MuonBackground v1r0, MuonSicbCnv v7r0) 
   . Support for dead cells in Calorimeters (zero dead cells by default)
     (CaloDigit v1r2)
   . Support for IT cluster smearing, to simulate misaligment (zero smearing by 
     default) (ITAlgorithms v12r9)
   . Support for random noise in OT (no noise by default) (OTAlgorithms v12r4)
   . Support for degraded efficiency and resolution (swiched off by default)
     (RichRecTools v2r0, RichRecAlgs v2r0, recrich v7r4, BrunelSicb v4r1)
   . Support for extra noise and smearing to mimic misalignment (off by default)
     (VeloAlgorithms v2r7)
   . Added a new options files for robustness tests. The different cases shown in
     http://cern.ch/lhcb-phys/task_force/TDR_studies_2002-2003/robustness/
     are implemented as follows:
   
     case 0: default settings for dbase v255r1, Brunelv255r1.opts
     case 1: default settings, use Brunelv254r1.opts as is
     case 2: add Test2Robustness.opts at end of Brunelv254r1.opts
     case 3: Not yet implemented
     case 4: independent of Brunel. Use Brunelv254r1.opts as is
     case 5: independent of Brunel. Use Brunelv254r1.opts as is
     case 6: Not yet implemented

	  . Added Brunelv255r0.opts, Brunelv255r1.opts to support new dbases 


- Removed features:
   . Removed support for data produced with dbase v253r99 (Xmas 02 production) 

- New tuning:
   . Random number is now initialised by hashing a string containing the 
     complete run and event numbers (BrunelKernel v5r4)
   . Faster Calo MC truth association (CaloEvent v11r5, CaloAssociators v1r3)
   . New more efficient version of OO-Rich. OO reconstruction now similar or 
     better efficiency than Fortran. (RichKernel v3r0, RichUtils v3r0,
     RiSicbGeom v3r1, RichDet v4r1, RichDetTools v2r0, RichEvent v4r3,
     RichRecBase v1r0, RichRecAlgs v2r0, RiSicbCnv v5r5, RichRecTools v2r0)
   . Changed full scale of Prs and SPD (XmlDDDB v15r3)
   . Changed default pe/Mev and Prs/Spd fractional correction (CaloDigit v1r2)
   . Update S corrections (CaloReco v1r4, CaloPIDs v1r0)
   . M3 seed cleaning no longer done in y direction, increases L0Muon efficiency
     (L0Muon v6r5)

- DST changes:
   . Add VeloTrackAlg timing to Timing.opts - fixes bug 191 (BrunelAlgs v1r9)
   . Do not filter MCParticles and MCVertices containers if relations 
     between MCParticles and MCVertices are corrupt (checked with new tool
     CheckMCEventTool) to protect against bug 208 (BrunelAlgs v1r9, MCTools v1r1)
   . Add Trig/L1/TTClusters, ITClusters, OTClusters (GaudiConf v6r6) (These
     were available in Winter 2003 production via additional job options in
     production workflow) 
   . ProcStat now contains information from the OO Rich reconstruction:
     - for global and local algorithms, the number of PIDs produced, or the
       (negative) error codes if the processing was aborted
     - for the merging algorithm, the number of local and global results that
       were used in the merged output container

- Bug fixes:
   . Brunel.job again analyses core dump file, also on RH7
   . Bug 203: check array boundary for OT (L1VeloTrack v5r0)
   . Bugs 191, 208: see DST changes above.
   . Bug 305: fix initialisation of Calo monitoring (CaloMonitor v1r4)
   . Bugs 138,139: valgrind errors disappeared with new version of Rich code
   . Bug 396: memory leak reported by valgrind (DetDesc v11r9)
   . Several fixes to geometry solids (DetDesc v11r9)
   . Fix position of magnet material (XmlDDDB v15r3)
   . Minor bug fixes in ITCrossTalk (ITAlgorithms v12r9)
   . Fix clustering for merged pi zeros (CaloReco v1r4, CaloPIDs v1r0)
   . Fix bug in a loop index (MuonTools v3r4)
   . Use latest Gaudi bug fixes (Gaudi v11r5)

</PRE><H1><A NAME=v17r4>2003-02-06 Brunel v17r4</A></H1><PRE>
 - Packages modified: CaloReco v1r3, L0DU v6r4, L1Decision v1r7

 - New tuning:
   . L1 minimum bias parameterization (L1Decision v1r7)
   . Updated version of single gamma tool (CaloReco v1r3)
   . New calibration constants for electrons and photons (CaloReco v1r3)
   . Update S and L corrections (CaloReco v1r3)

 - New features:
   . Repackaging of L1Decision to remove some dependencies (L1Decision v1r7)

 - DST changes:
   . Remove optional containers Rec/Calo/HcalIDe, HcalIDmu, PrsID, EcalID
   . Add mandatory container Rec/Calo/EcalE
   . Previously optional containers Rec/Calo/HcalE, PrsE now mandatory

 - Bug fixes:
   . BugID 136: fix a Rich1 volume overlap (XmlDDDB v15r2)
   . Print correct L0 performance values (L0DU v6r4)
   . Add missing factories for L1OTCluster and L1ITCluster (L1Event v11r6)

</PRE><H1><A NAME=v17r3>2003-01-31 Brunel v17r3</A></H1><PRE>
 - Packages modified: L0DU v6r3, L0Muon v6r4, L1VeloTrack v4r1

 - New tuning:
   . Changed logic for treating the L0 Muon PU overflow conditions: now  PU 
     always returns 2 randomly chosen candidates if there are more than 2 
     candidates found. No more the whole quarter of the processor is empty in 
     this case (L0Muon v6r4)
   . Default L0 Muon FoIs are set to reasonable values for the 125 KHz L0Muon
     bandwidth (L0Muon v6r4)
   . PuVeto decision taken on sum of second peak: 3 or more is vetoed (L0DU v6r3)
   . L0 thresholds adjusted (L0DU v6r3)

 - New features:
   . L0Muon ghosts cleaned in L0Muon rather than L0DU (L0Muon v6r4, L0DU v6r3)

 - Bug fixes:
   . Fix a boundary problem in DeVelo (VeloDet v8r4)
   . BugID 143: fix a rare duplicate key problem in VeloFEToL1 (L1VeloTrack v4r1)

</PRE><H1><A NAME=v17r2>2003-01-23 Brunel v17r2</A></H1><PRE>
 - Packages modified: VeloTT v1r5, VeloTrack v4r5,
     CaloReco v1r2p1, L1Decision v1r6, L1VeloTrack v4r0, MuonAlgs v3r3,
     RichDetTools v1r3, TrCleanEx v2r6, TrIntraPR v2r4, UpstreamPR v2r7

 - New tuning:
   . Raise IT clustering S/N cut to 3.2 sigma (from 3.0) (Brunel.opts)
   . Tuning for new TT strip pitch and magnetic field, plus minor improvements
     (L1Decision v1r6)
   . Tuning of VTT tracking for field043 (VeloTT v1r5)
   . Tuning of Upstream tracking for field043 (TrIntraPR v2r4, UpstreamPR v2r7)
   . Improved agreement between Xml and CDF geometry for OO-Rich
     (XmlDDDB v15r0, RichDet v4r0, RichDetTools v1r3, Brunel.opts)
   . Fix HCAL and ECAL calibrations as result of time information in digitisation
     (XmlDDDB v15r1)

 - New features:
   . Add support for dbase v254r1
    (XmlDDDB v15r0, Brunelv254r1.opts - to be used also for dbase v254r0 and 
     v253r1 test data)
   . New algorithms to produce ST and OT trigger clusters
     (L1VeloTrack v4r0, L1Event v11r5)
   . Possibility to cut on IT S/N in Upstream tracking (TrIntraPR v2r4)

 - DST changes:
   . TrStateL of Velo and Veloback tracks is now given at Z of first measured
     point (actually first used phi sensor) instead of Z=0 previously
     (VeloTrack v4r5, TrCleanEx v2r6)

 - Bug fixes:
   . Fix valgrind problems (CaloDet v6r4, CaloReco v1r2p1, MuonAlgs v3r3)
   . Introduce fix to inner tracker materials that was mistakenly left out in
     XmlDDDB v14r1 (XmlDDDB v15r0)

</PRE><H1><A NAME=v17r1>2003-01-17 Brunel v17r1</A></H1><PRE>
 - Packages modified:
   ITAlgorithms v12r8, L0Calo v6r6, L1Decision v1r5, TrCleanEx v2r5, 
   TrExtrapolator v2r5, TrMatching v2r6, TrTools v2r4, VeloAlgorithms v2r6

 - New tuning:
   . Tune Match tracking for field043 (TrTools v2r4, TrMatching v2r5)
   . Use slope on x instead of atan(x/9450) in parabolic correction of pt-kick
     tool (TrTools v2r4)

 - New features:
   . Drop support for dbases prior to v253r99, add support for v253r99, v254r0
     > Use dbase v253r99 for data produced with dbase v253r0 (Xmas production)
     > Use dbase v254r0 for field043 data (e.g. test data produced with v253r1)
     > Data produced with dbase < v253r0 no longer supported
   . New accessor for noise level in ITSignalToNoiseTool (ITAlgorithms v12r8)

 - DST changes:
   . add a TrStateP to velo and veloBack unique tracks (2nd state on the track)
     at the Z closest to the beamline, assuming Pt=400 MeV/c and dp/p=0.1
     (TrCleanEx v2r5, Brunel.opts - new algorithm TrPrepareVelo) 

 - Bug fixes:
   . Fix Pi0Local per validation card: The 2x2 energy was used, instead of the
     total card energy (L0Calo v6r6)
   . Protect against possibility of zero deposited energy in MCHit 
     (VeloAlgorithms v2r6)
   . Fix minor problems flagged by valgrind 
     (TrExtrapolator v2r5, MuonSicbCnv v6r8)
   . Fix uninitialised variable (L1Decision v1r5)

</PRE><H1><A NAME=v17r0>2003-01-09 Brunel v17r0</A></H1><PRE>
 - New tuning:
   . Change strip threshold to 7000e (PuVeto v5r3)
   . Add tuning for magnetic field043 (LongTrack v1r5) 

 - New features:
   . Add support for dbase v253r1
   . Log inputs of L0Calo selection crate, for L1 studies
     (CaloDet v6r3, L0Event v13r1, L0Calo v6r5, BrunelAlgs v1r8)

 - DST changes:
   . Add Rec/Relation/L0CaloFullCandidates, Raw/L0/FullCalo

 - Bug fixes:
   . Fix many minor problems flagged by valgrind (SicbCnv v17r5, MuonSicbCnv v6r7
     OTAssociators v2r4, OTAlgorithms v12r3, ITAlgorithms v12r7, TrTools v2r3,
     TrCleanEx v2r4, TrAssociators v3r4, TrCheck v1r3, MuonID v3r5,
     MuonAlgs v3r2, RichRecInterfaces v2r0, RichRecTools v1r4, RiSicbCnv v5r4,
     KsReco v1r4, TrIntraPR v2r3, UpstreamPR v2r6, RichRecAlgs v1r4,
     RichMonitor v2r4, VeloDet v8r3, LongTrack v1r5, MuonTools v3r3)


</PRE><H1><A NAME=v16r4>2002-12-11 Brunel v16r4</A></H1><PRE>
 Essentially identical to v15r4, but using Gaudi v11 and DetDesc v11
   >> Introduces CMT projects
   >> Introduces support for RedHat 7.3
   >> Fixes many memory leaks

 - New tuning:
   . New tuning of ST charge sharing and clustering to match test beam
     (ITAlgorithms v12r6)
   . Increase lateral size of Aerogel to better match CDF description
     (XmlDDDB v14r4)

 - New features:
   . Re-enable OO-Rich by default (Brunel.opts)
   . Add support for dbase v253

 - DST changes:
   . Add SelectKs2pipi, RichLocPID, RichGloPID to timed algorithms

 - Bug fixes:
   . Do not abort job if no track are found for K0 search (KsReco v1r3)
   . Fixes to Electron and Photon algs (CaloReco v1r2)

</PRE><H1><A NAME=v15r4>2002-12-04 Brunel v15r4</A></H1><PRE>
  >>> This is the last version built against Gaudi v10 <<<
  Next version (for Xmas pre-production) will use Gaudi v11 and CMT projects

 - New tuning:
   . Fine tuning of VTT tracking (VeloTT v1r4)
   . Add material to central OT modules (XmlDDDB v14r3, v252r0 geometry)
   . New velo clustering for L1. Includes common mode noise simulation and
     correction (L1VeloTrack v3r4)
   . Changes to Calorimeter corrections (CaloReco v1r1)
   . Many fixes to OO-Rich (Rich/* packages)
   . New parameterisation and tuning of ST charge sharing (ITAlgorithms v12r5) 
   . Cut on max number of Velo tracks increased to 300 (from 200) (Brunel.opts)

 - New features:
   . Add support for dbase v252r0 (Brunelv252r0.opts)
   . New tools for PID with HCAL (CaloReco v1r1) 
   . Add OO-Rich LocalPID algorithm (RichRecAlgs v1r2)
   . Add Ks reconstruction (KsReco v1r2, PhysEvent v7r2)

 - DST changes:
   . OO-Rich switched off for default production
   . Add V0s

 - Bug fixes:
   . Fix edge problem in Velo detector element (VeloDet v8r1)
   . Fix loop index range (found by valgrind) (PuVeto v5r1)
   . Fix some mismatched new[]/delete to please valgrind (L1Decision v1r3)

</PRE><H1><A NAME=v15r3>2002-11-28 Brunel v15r3</A></H1><PRE>
 - New tuning:
   . Tighten cut on signal/noise of TT clusters (>4) to reduce ghost rate
     (VeloTT v1r3)
   . Exclude backward Velo tracks as identified by VeloTrack, rather than by
     private selection method (VeloTT v1r3)

 - New features:
   . More units supported in job options (GaudiConf v6r5)

 - DST changes:
   . Add ProcStatus to all events (BrunelKernel v5r2, BrunelDst.opts)

 - Bug fixes:
   . Fix typo (wrong array size used, found by valgrind) (MuonDet v4r2)
   . Fix usage of uninitialised variable, found by valgrind 
     (L1Decision v1r2, L1VeloTrack v3r4)
   . Protect against missing L1 Vertex - causing very frequent core dumps
     (L1Decision v1r2)
   . Fix position of wakefield cone (XmlDDDB v14r2)

 - Code cleanup:
   . Remove obsolete component library (CaloSicbCnv v7r3)
   . Release all tools at finalize (L1Decision v1r2)

</PRE><H1><A NAME=v15r2>2002-11-26 Brunel v15r2</A></H1><PRE>
 N.B.: to take advantage of new Rich tuning, new dbase versions are needed:
 To (re)process data produced with dbase v248r4, use dbase v248r5 and Brunelv248r5.opts
 To (re)process data produced with dbase v250r0, use dbase v251r0 and Brunelv251r0.opts
 To (re)process data produced with dbase v250r1, use dbase v251r1 and Brunelv251r1.opts
 The new Rich tuning is not supported for dbase v249r*

 - New tuning:
   . Modified the PuVeto peakValue method to improve peak finding (PuVeto v5r0)
   . Enable cluster filtering: Seeding does not use T station clusters already
     used by Forward tracking (Brunel.opts)
   . Forward tracking: new tuning, two passes (less ghosts with similar 
     efficiency), flag used velo tracks (LongTrack v1r4)
   . Track matching: improve selection of seed and velo tracks, tune chi2 cut
     (TrMatching v2r4)
   . Faster track cleaning (TrCleanEx v2r3)
   . Improvements to L0 Pi0 trigger (L0Calo v6r3)
   . Use TT1 for VTT and Upstream track association to MC (TrAssociators v3r3)
   . New tuning for Rich, use VTT tracks (recrich v7r3, dbase v251r*/v248r5)
     (not available for test data produced with dbase v249r*)
   . Do not pass Velo only tracks to Fortran Rich reco (RiSicbCnv v5r1)
   . L1 Velo tracking adapted to 45 degree Velo sensors (L1VeloTrack v3r3)

 - New features:
   . Add support for dbase v250r0, v250r1 (XmlDDDB v14r1, Seeding v2r3)
   . Add support for dbase v248r5, v251r0, v251r1 (new tuning for recrich)
   . Add L1 Decision code (L1Decision v1r1)
   . Fix OORich to also run on Windows 
     (RichRecKernel v1r1, RichRecEvent v1r1, RichRecAlgs v1r1)
   . Switch off all L1 histograms by default (L1VeloTrack v3r3)
   . New L0+L1 summary table in Brunel log file (L1Decision v1r1)

 - DST changes:
   . Add /Event/Trig/L1/Decision
   . Non-unique Velo, Seed tracks are removed by clone-killer (TrCleanEx v2r3)
 
 - Code cleanup:
   . Minimize printout of job options (*.opts)
   . Repackaging of OO Rich software to fix building of component libraries
     (RichRecInterfaces v1r0, RichRecTools v1r1, RichRecAlgs v1r1, 
      RichMonitor v2r1, Brunel.opts)
   . Use latest versions of SICB packages (detdes v19r0, Futil v12r0)

</PRE><H1><A NAME=v15r1>2002-11-19 Brunel v15r1</A></H1><PRE>

 - New tuning:
   . Add OT straw inefficiency at y=0 (OTDet v3r2)
   . Reoptimisation of Velo tracking (VeloTrack v4r3)
   . New package for the whole chain of Calorimeter digitization, 
     signal processing and zero suppression (CaloDigit v1r0)
   . Use 4th TT hit when possible in VTT tracks (VeloTT v1r2)
   . Improvements in calorimeter S&L corrections (CaloRec v1r0)
   . New calorimeter energy calibration (VeloRec v1r0)
   . Don't digitize unnecessarily 'Next' hits (ITAlgorithms v12r4)
   . Changes in definitions for entries in efficiency table (TrCheck v1r2)
   . Further tuning of forward tracks (LongTrack v1r3)

 - Bug fixes:
   . Fix NaN problem in case no primary vertex found (L1VeloTrack v3r3)

 - New features:
   . Possibility to use units in job options files (GaudiConf v6r4)
   . Calorimeter algorithms and tools do not print the same message after a
     maximum number of times. Default is 10 (CaloKernel v2r1)
   . Take into account time information in Calo digitization (CaloDigit v1r0)
   . Add e+/e- ID with PRS (CaloReco v1r0)
   . Add TT occupancy histos (ITCheckers v1r1)
   . New options file to define monitoring for production jobs (included by 
     default) (BrunelMoniProd.opts)
   . OO Rich global algorithm executed in parallel with Fortran (Linux only)

 - DST changes:
   . Updated list of algorithms in Trig/AlgUsedTimes and added elapsed time 
     measurement. This last change is not backwards compatible: to read 
     AlgUsedTimes from old DSTs must use Event/Event < v2r1
     (Event v2r1, EventSys v12r9, BrunelAlgs v1r6)
   . Add /Event/Rec/Calo/Particles and optional calorimeter ID objects
     /Event/Rec/Calo/HcalE, HcalIDe, HcalIDmu, PrsE, PrsID, EcalID
     These objects are used to build ProtoParticles and will be removed from
     the DST when  ProtoParticle cration is moved to Brunel.
   . Rename CaloClusters2MCParticles to EcalClusters2MCParticles
     EcalCelAutoClusters to EcalClusters, SplitClusters to EcalSplitClusters
   . Add /Event/Rec/Rich/OOPIDs for tests (Linux only, not useful for physics!)

 - Bug fixes:
   . Fix small memory leaks (MuonSicbCnv v6r6, TrIntraPR v2r2)
   . Minor bug fixes for evaluation of cluster spread and covariances
     (CaloUtils v4r3)
   . Minor bug fixes (uninitialised variables) (ITDet v1r2)

 - Code cleanup:
   . Repackaging of Calo software
     New packages: CaloDigit v1r0, CaloRec v1r0
     Removed packages: CaloTools, CaloAlgs, CaloRec, CaloTrackTools  
   . Add default locations and relations factories (CaloEvent v11r3)
   . Version change to force recompilation 
     (CaloSicbCnv v7r2, CaloDet v5r2, CaloDetXmlCnv v2r1, L0Calo v6r2)

</PRE><H1><A NAME=v15r0>2002-11-11 Brunel v15r0</A></H1><PRE>
 - New tuning:
   . Change Silicon Tracker strip pitch from 238 to 198 microns
     (XmlDDDB v14r0, ITAlgorithms v12r3)
   . Add 0.135% random noise to ITDigits (ITAlgorithms v12r3)
   . Cut on both strip threshold and total charge in cluster in ST clustering
     (ITAlgorithms v12r3)
   . Use sensible OT gas drift parameters in seed search (Seeding v2r2)
   . Small changes to Velo Tracking (VeloTrack v4r2)

 - New features:
   . Prepare geometry support for C++ Rich reconstruction
     (XmlDDDB v14r0, RichKernel v1r3, RichDet v3r0)
   . New tool to get S/N of an ST cluster (can be used by tracking algorithms
     to cut on S/N) (ITAlgorithms v12r3)
   . Add support for variable number of Muon stations (L0Muon v6r2, 
     MuonSicbCnv v6r5, MuonAlgs v3r0, MuonRec v2r3, MuonID v3r4, Brunel.opts)
   . Add support for dbase v249r0 and v249r1
   . Restructure options files to simplify switching on/off of monitoring and/or
     DST output. Monitoring histograms off by default (*.opts, BrunelAlgs v1r5)
   . Implement 45 degree Velo sectors. Currently hardwired for strip layout "1"
	   (VeloDet v8r0, Brunel.opts)
   . Possibility to add noise to OT (off by default) (OTAlgorithms v12r1)
   . New methods in Relations (LHCbKernel v1r5)
   . Add VeloBack track type (for backwards going Velo tracks)
     (TrEvent v11r4,TrFitEvent v3r3,VeloTrack v4r2,TrCleanEx v2r3,CaloRec v2r5)
   . Skip "error" tracks in Calo reconstruction (CaloRec v2r5) 

 - Bug fixes:
   . Small fixes in TrFirstCleverExtrapolator (TrExtrapolator v2r3)
   . Small fixes in Velo geometry (VeloDet v8r0)
   . Fix typo in track matching, removes large fraction of large chi2 tracks
     (TrMatching v2r3)

 - Code cleanup:
   . Release all tools (ITAlgorithms v12r3, OTAlgorithms v12r1)
   . Remove obsolete code and unneccessary calls to msgSvc (TrExtrapolator v2r3)
   . Fix some valgrind warnings (VeloAlgorithms v2r4)
   . Add private copy constructor to KeyedObject - keyed objects may not be
     copied, as that leads to duplicate key (EventKernel v2r1, EventSys v12r8)
   . New versions to use new VeloDet
     (PuVeto v4r1, L1VeloTrack v3r2, VeloAssociators v1r3, TrCheck v1r1)

</PRE><H1><A NAME=v14r2>2002-10-31 Brunel v14r2</A></H1><PRE>
 - New tuning:
   . Add dummy Velo state to Match track fit to fix bad chi2 (TrMatch v2r2)
   . Speed up extrapolation using TrHerabExtrapolator instead of
     TrFirstCleverExtrapolator (TrMatch v2r2)
   . Tune forward tracking to find more high momentum tracks (LongTrack v1r2)
   . Modify TrReconstructible definitions (TrAssociators v3r2)
   . Reduce state z position tolerance from 100cm to 50mm (RiSicbCnv v4r6)

 - New features
   . Possibility to add TT hits to Match tracks - switched off in Brunel.opts
     due to high rate of bad chi2 tracks (TrMatch v2r2)
   . Add VeloTT tracks to TrAssociator (TrAssociators v3r2)
   . Improved track monitoring (TrAnalyse replaces FwtAnalyse) (TrCheck v1r0)

 - DST changes:
   . Add L1 Summary to DST (BrunelDst.opts)
   . Add L1VeloTrackAlg to algorithms being timed (BrunelAlgs v1r4)

 - Bug fixes:
   . Fix in SolidSphere (DetDesc v10r5)
   . Fix in calculation of intersection of a line with a cone (DetDesc v10r5)
   . Add missing factories (L1Event v11r1, EventSys v12r7)

 - Code cleanup:
   . Fix a mismatched new[]/delete reported by valgrind (VeloTT v1r1)
   . Remove creation and deletion of an obsolete unused state (TrFitter v3r4)
   . Remove unneccessary TrExtrapolator base class (TrKernel v11r1, 
     TrExtrapolator v2r3, TrFitter v3r5, TrMatching v2r3, UpstreamPR v2r4)

</PRE><H1><A NAME=v14r1p2>2002-10-25 Brunel v14r1p2</A></H1><PRE>
 - Bug fix:
   . Fix bug in TrFirTrack, causing poor efficiency for unique tracks
     (TrFitEvent v3r2)

</PRE><H1><A NAME=v14r1p1>2002-10-23 Brunel v14r1p1</A></H1><PRE>
 - Bug fix:
   . Fix crash when deleting a track after a fit failure (TrFitter v3r3)

 - New feature:
   . When running in batch, Brunel.job picks up executable from user's newmycmt
     rather than from $LHCBSOFT

</PRE><H1><A NAME=v14r1>2002-10-22 Brunel v14r1</A></H1><PRE>
 - New tuning:
   . Add 1% inefficiency in IT, due to dead strips (ITAlgorithms v12r2)
   . Small changes to Velo noise processing (VeloAlgorithms v2r3)
   . Allow association of OTCluster to many MCParticles (OTAssociators v2r2)
   . Improved VeloClusterOnTrack errors (TrFitEvent v3r1)
   . Add dummy state to track fit, to fix bad chi2 on 8% of long tracks
     (TrEvent v11r3, TrFitEvent v3r1, LongTrack v1r1)
   . Tune initial covariance matrix parameters for Kalman filter
     (LongTrack v1r1, TrMatching v2r1)
   . New cuts on estimated track errors, to recover efficiency (TrMatching v2r1)
   . Do not extrapolate tracks outside LHCb volume (TrExtrapolator v2r2)
   . Do not add state closest to beam line if new Z is downstream of first 
     measured point or more than 200mm from Z=0. (TrFitter v3r2)
   . Drop tracks with fit failures (TrCleanEx v2r2)

 - New features:
   . Prepare for dbase v249r* support (MuonDet v4r1, MuonTools v3r1, MuonID v3r3)
   . Add VeloTT tracks (*BEWARE*: requires tuning) (EventSys v12r6, 
     TrEvent v11r3, TrFitEvent v3r1, VeloTT v1r0, TrCleanEx v2r2, CaloRec v2r4) 
   . Get OT digitization parameters from Xml
     (XmlDDDB v13r1, OTDet v3r0, OTAlgorithms v12r0, TrFitEvent v3r1)
   . Possibility to add Xtalk and Random noise to IT. Switched off by default
     (ITAlgorithms v12r2)

 - Bug fixes:
   . Fix usage of uninitialised variables (L1VeloTrack v3r1)
   . Fix a memory leak (LongTrack v1r1)
   . Fix ZFATAL from spillover when no spillover event in first event
     (SicbCnv v17r3)

 - Packaging changes:
   . IT monitoring moved to a new package (ITCheckers v1r0, BrunelMoni.opts)
   . TrTrack moved out of TrEvent package into TrFitEvent package
     (EventSys v12r6, TrEvent v11r3, TrFitEvent v3r1)

</PRE><H1><A NAME=v14r0>2002-10-14 Brunel v14r0</A></H1><PRE>
 - New tuning:
   . Improvements to Forward tracking (LongTrack v1r0, Brunel.opts)
   . Improvements to Velo tracking for K0s (VeloTrack v4r1)
   . Tune Velo noise and signal/noise cuts
     (VeloKernel v1r2, VeloAlgorithms v2r2, VeloTrack v4r1)
   . Improvements in Upstream tracking 
     (TrTools v2r1, TrIntraPR v2r1, UpstreamPR v2r2)
   . Improved L1 Velo tracking algorithm (L1VeloTrack v3r0)
   . ITAssociators allow MCParticles to share ITClusters (ITAssociators v2r1)

 - New features:
   . Add geometry support for Muon with MWPC, with/without M1
     (XmlDDDB v13r0, MuonDet v4r0)
   . Use latest versions of packages (changes not affecting Brunel)
     (CaloAssociators v3r0)

 - DST changes:
   . Replace FwtFind with FindLongTrack in AlgUsedTimes (BrunelAlgs v1r3)
   . Add a track state at the Z of nearest approach to the beam to Forward and
     Match tracks (TrFitter v3r1, Brunel.opts)

 - Bug fixes:
   . Scan also L1Track2d2MCP when selecting MCParticles to be saved to DST. 
     Should fix crashes when writing DST (15% of signal jobs) (BrunelAlgs v1r3)
   . Fix VeloCluster to MCHit association ambiguity
     (EventSys v12r5, VeloEvent v11r1, VeloAssociators v1r2, L1VeloTrack 2r3)
   . Fix a bug in debug printout (MuonID v3r2) 
   . Use same track state for Fortran back conversion and subsequent comparison 
     (RiSicbCnv v4r5)
   . Remove some wrong consistency checks (VeloDet v7r1)

</PRE><H1><A NAME=v13r2>2002-10-08 Brunel v13r2</A></H1><PRE>
Bug fix release for reprocessing of summer production
Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)

 - New tuning:
   . Tune L0 thresholds (L0DU v6r1)
   . Change OT dead time from 30 to 50 ns (OTAlgorithms v11r1)
   . Associate decaying tracks (TrAssociators v3r1)
   . Select unique tracks for Rich reconstruction (RiSicbCnv v4r4) - should
     reduce effect of cut on 300 tracks
   . Tune spillover parameters for IT (ITAlgorithms v12r1)
   . Allow for dead region between IT wafers (ITDet v1r1)

 - New features:
   . Support for valgrind memory checking tool (job/Brunel.supp, valgrind.job)
   . Prepare for variable number of Muon stations in XML
     (MuonTools v3r0, MuonSicbCnv v6r4, MuonID v3r1, L0Muon v6r1)

 - Bug fixes:
   . Random number engine initialisation (GaudiSvc v8r4).
     With this fix, and with initialisation of random numbers at every event
     (Brunel.opts) reconstruction is reproducible when starting at any event,
     even when doing spillover
   . Distance of stagger in wafers of TT1 layers was 2x too big (ITDet v1r1)
   . Missing [] in delete (SicbCnv v17r2, RiSicbGeom v2r3, VeloTrack v4r0p1)
   . Test iterator not at end before accessing it (TrCleanEx v2r1)
   . Fix uninitialised variables in L0MuonCandidate 
     (EventSys v12r4, L0Event v12r2)
   . Test L0MuonCandidate status (L0DU v6r1)
   . Remove uninitialised and unused variable (L1VeloTrack v2r2) 
   . Fix ProcStatus default path and add to DST 
     (EventSys v12r4,TrEvent v11r2, VeloTrack v4r0p1, Seeding v2r1, FwTrack v4r2)
   . Fixes in Muon MC truth (SicbCnv v17r2, MuonSicbCnv v6r4)
   . Fixes for Muon cross-talk calculation (MuonDet v3r2)
   . Fixes to readout and layer bits in MuonTileID (MuonRec v2r2)
   . Fix track fit 'smoother problem' (-ve covariances) (TrExtrapolator v2r1) 
   . Use fabs instead of abs for doubles. Should fix overlapping volumes and 
     other problems on Windows (DetDesc v10r4, RiSicbGeom v2r3, RiSicbCnv v4r4,
     CaloDet v5r1, CaloUtils v4r2, CaloTools v4r4)
   . Fixes to digitisation of IT stereo layers (ITDet v1r1, ITAlgorithms v12r1)
   . Add protection against invalid argument to ACOS (recrich v7r2)
   . Do not consider events where tracking is skipped (> 200 Velo tracks) 
     for tracking efficiency statistics (FwTrack v4r2)

 - Geometry changes (XmlDDDB v12r5):
   . Fix overlap between Velo and Rich1
   . Complete vertical Rich1 description
   . Velo fixes and optimisation

 - Fixed memory leaks:
   . CaloHypo destructor was not deleting its CaloPosition and CaloMomentum
     (EventSys v12r4, CaloEvent v11r2)

 - Code cleanup:
   . Apply coding conventions, document (OTDet v2r2, OTAssociators v2r1)
   . OTCluster2MCHitAlg now uses OTCluster2MCDepositAlg (OTAssociators v2r1)
   . Remove need for OTInitialization alg. (OTAlgorithms v11r1, Brunel.opts)
   . Release tools at finalize (Seeding v2r1, FwTrack v4r2)

</PRE><H1><A NAME=v13r1>2002-07-30 Brunel v13r1</A></H1><PRE>
Release of Brunel for summer 2002 production.
Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)

 - DST changes:
   . MuonDigit::TimeStamp is now filled (MuonAlgs v2r2)

 - Tuning
   . Modify jitter in Muon MWPC readout (XmlDDDB v12r4)

 - Fixes:
   . Initialise random number once per job, using run number as seed
     (BrunelKernel v5r1)
   . Add protections against tracks with missing states
     (RiSicbCnv v4r3, recrich v7r1)
   . Fix double deletion of Calo Relations
     (LHCbKernel v1r4, CaloAssociators v2r2, CaloRec v2r3)
   . Small fixes to Muon Digitisation
     (EventSys v12r2, MuonSicbCnv v6r2, MuonAlgs v2r2)
   . Fix potential memory leaks, improve protections for pointer dereferencing
     (RiSicbCnv v4r3, RichMonitor v1r2)


</PRE><H1><A NAME=v13r0>2002-07-25 Brunel v13r0</A></H1><PRE>
Third release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r4 (can process data produced with dbase v248r*)
Complete OO-Dst output.

 - Functionality changes:
   . Needs dbase v248r4 (Brunelv248r4.opts added, *v248r2.opts removed)
     > Default input file changed (previous default had problem with PASS bank)
   . SpillOverAlg executes as first algorithm in Digi phase 
     (SicbCnv v17r1, Brunel.opts)
   . Add Spillover support to Rich 
     (EventSys v12r0, SicbCnv v17r1, RiSicbCnv v4r2, recrich v7r0, Brunel.opts)
   . Use all tracks except Velo-only for Rich PID 
     (RiSicbCnv v4r2, recrich v7r0)
   . Add histogram for virtual memory usage (SicbCnv v17r1)
 
 - DST changes:
   . 'err' on 2d tracks now means 45 degree subsector (L1VeloTrack v2r1) 
   . Write all MuonCoords to DST (remove filtering), do not write MuonDigits
     (BrunelAlgs v1r2, BrunelDst.opts)

 - Fixes:
   . Fix pi0 mass (CaloTools v4r2, CaloRec v2r2)
   . Fix Rich2 position (XmlDDDB v12r3)
   . Fix units for crosstalk region in Muon (XmlDDDB v12r3)
   . Fix Pt encoding in L0MuonCandidate (EventSys v12r0)
   . Fix memory leaks (RiSicbCnv v4r2, RiSicbGeom v2r2)
   . Fixes to run on Windows
     (CaloTools v4r2, UpstreamPR v2r1, MuonID v2r1, RiSicbCnv v4r2, FwTrack v4r1)
   . Fix problem of inconsistent Velo numbering between SICBMC and Brunel
     (VeloSim v2r1)
   . Fix multiple tool initialisations (RiSicbCnv v4r2, RiSicbGeom v4r2)
   . Move a log message to save ~30ms per event (OTDet v2r1)
   . Latest Gaudi bug fixes (GaudiSvc v8r3)

</PRE><H1><A NAME=v12r0>2002-07-19 Brunel v12r0</A></H1><PRE>
Second release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r2
Complete OO-Dst output.

 - New Functionality:
   . Add refit to upstream tracks (UpstreamPR v2r0)
   . New ProcStatus class to hold the abort condition of an event, and
     the list of algorithms with bad status (TrEvent v11r1, EventSys v11r1)
     Processing aborted if:
      > 200 VeloTracks found (and set ABORT flag) (VeloTrack v4r0)
      > 1000 hits in a tracking sector (Seeding v2r0)
     Do not process if ABORT flag set (Seeding v2r0, FwTrack v4r0)
   . New Velo digitisation used also for PuVeto, remove PuVetoDigit 
                                                 algorithm and VeloDigit DLL
     (VeloAlgorithms v2r0, VeloDet v7r0, PuVeto v4r0, Brunel.opts)
   . Improvements to Clone Killer (TrFitEvent v3r0, TrCleanEx v2r0)
   . New tool for combined SPD/PRS single photon ID 
     (CaloTools v4r1, CaloInterfaces v2r2)
   . Use all track types for matching in Calo (CaloRec v2r1)
   . Check that RichPIDs refer to correct track container (RichMonitor v1r1)

 - DST changes:
   . Save ProcStatus (BrunelDst.opts)
   . Store PuVeto multiplicities in L0PuVeto::sTot (PuVeto v4r0)
   . Save L1Track2d2MCP (BrunelDst.opts, BrunelMoni.opts)
   . Save MuonDigits and MuonDigits2MCParticles (BrunalAlgs v1r1, BrunelDst.opts)
   . New RichDSTPrepare algorithm to fix PID SmartRefs on DST
     (RiSicbCnv v4r1, Brunel.opts)
   . Set track charge according to sign of momentum 
     (FwTrack v4r0, TrMatching v2r0)

 - Tuning:
   . Forward tracking, improved TT1 matching, monitor efficiency (FwTrack v4r0)
   . Pt Kick tuned and now used (TrTools v2r0, Seeding v2r0)
   . Adjust fit parameters to fix negative covariance 
     (Seeding v2r0, TrMatching v2r0, UpsrteamPr v2r0))
   . Matching (TrMatching v2r0)
   . Velo digitisation (VeloKernel v1r1, VeloAlgorithms v2r0)
   . L1VeloTrack parameters (L1VeloTrack v2r0)

 - Fixes:
   . Fix memory leaks and/or missing constructors/destructors in:
       VeloSim (VeloAlgorithms v2r0)
       TrSeedEvent (Seeding v2r0)
       TrLayerPartition, RoI (TrIntraPR v2r0)
       FwtFitParams (FwTrack v4r0)
       Calo Event classes (CaloEvent v11r1)
       CellularAutomaton, CaloDigitsFilterAlg (CaloAlgs v7r1)
   . Fix for "looping" in upstream tracking (TrIntraPR v2r0) 
   . Fix compilation on Windows (TrIntraPR v2r0, TrUpstreamPR v2r0)
   . Fix crash when printing statistics for zero events (FwTrack v4r0) 
   . Fix Velo numbering scheme (VeloDet v7r0, VeloTrack v4r0, L1VeloTrack v2r0)
   . Change to AssociatorBase class to always produce output table at correct 
     location (LHCbKernel v1r3)
   . Bug fixes in Gaudi+ROOT I/O (ROOT v2r303p0, GaudiRootDb v9r0, GaudiDb v8r1) 
   . Fixes to Velo, Muon, Rich1, Rich2 geometry overlaps (XmlDDDB v11r2)
       TransportSvc reports any remaining overlaps (BrunelMessage.opts)
   . Fixes to OutputLevel (many algorithms, and BrunelMessage.opts)

 - Change requirements files for version consistency:
   (VeloAssociators v1r1, TrAssociators v3r0, TrFitter v3r0, L0Calo v6r1, 
    CaloSicbCnv v7r1, CaloAssociators v2r1, CaloUtils v4r1, CaloTrackTools v1r4,
    CaloMonitor v1r1)


</PRE><H1><A NAME=v11r0>2002-07-09 Brunel v11r0</A></H1><PRE>
Release of Brunel for summer 2002 pre-production.

Supported geometry: dbase v248r2
Complete OO-Dst output.

! 2002-07-09 - Marco Cattaneo
 - Use latest improvements to recrich (v6r2)
 - Drop Velo relations to MCParticles of Spillover events
 - Add Brunelv248r2.opts, remove Brunelv248r1.opts

! 2002-07-08 - Marco Cattaneo
 - Add pre-selection of tracks for Rich (currently forward tracks from Tr/Best)
 - Calo PID now uses Tr/Best tracks as input
 - Tr/Forward container suppressed
 - Fix L0 muon and muon PID efficiency (bug fix in muon digitization)
 - Adapt tracking to ITDet Xml geometry
 - Seeding only always returns best choice for L/R ambiguity on OT
 - Track fit sorts measurements by increasing Z prior to fit
 - Drop support for dbase < v248r0

! 2002-07-05 - Marco Cattaneo
 - Upstream tracks saved on DST in Tr/Best container
 - MuonID performed on all "unique" long tracks in Tr/Best container
 - IT Digitisation now uses XmlDDDB, can process data from new TT1
 - Skip Rich reconstruction in events with more than 300 forward tracks

   DST is now complete, except for:
   . filtering of tracking clusters not used by tracks

! 2002-07-04 - Marco Cattaneo
 - Add upstream tracking. Algorithm executed but output not yet saved
 - Fix and enable filtering of MCParticles/MCVertices
 - Improve handling of Muon background in Sicb converters

! 2002-07-02 - Marco Cattaneo
 - Add TimingAlg in new Timing sequence at end of Reco phase
 - use latest Gaudi bug fix release
   (GaudiKernel v12r3, GaudiSvc v8r2, GaudiRootDb v8r1)
 - Use latest version of TrAssociators, produces Tr2MCP relation

! 2002-07-01 - Marco Cattaneo
 - Add L1 monitoring and Truth information
 - Add L0 Truth information
 - Disable filtering of MCParticles/MCVertices (not working with Spillover)
 - Output Tr/Best tracks in "flag" mode (contains a copy of all track types,
   with clones flagged, not killed) and  suppress creation of Tr/Seed, Tr/Velo,
   Tr/Match containers

! 2002-06-28 - Marco Cattaneo
 - Add "new" seeding algorithm
 - Add filter of MCParticles and MCVertices
 
! 2002-06-27 - Marco Cattaneo
 - Add track clone killer. Currently all track types are saved, plus a
   copy of these tracks as selected by the clone killer

! 2002-06-25 - Marco Cattaneo
 - Add Muon OO digitization, and remove Fortran version
 - Add L1 tracking
 - Add VeloMatch track monitoring
 - Add support for dbase v246r0

! 2002-06-21 - Marco Cattaneo
 - Add latest Calorimeter code. 

! 2002-06-19 - Marco Cattaneo
 - Add Rich digitisation and reconstruction (only for dbase v245r0 or greater)

! 2002-06-18 - Marco Cattaneo
 - Add Track seeding and Velo Matching (without persistency for now)

! 2002-06-11 - Marco Cattaneo
 - Add a new BrunelOutput phase, in which to run algorithms that prepare the
   data store for DST output (filters, relations etc.)

! 2002-06-07 - Marco Cattaneo
 - Change version to v11r0 to use new versions of Event Model, OTDet etc.
 - Remove obsolete options files BrunelTrSiTT12.opts, BrunelTrOtItTT1.opts

! 2002-06-07 - Marco Cattaneo
 - Add support for dbase v245 (without RICH for now)

</PRE><H1><A NAME=v10r0>2002-06-04 Brunel v10r0</A></H1><PRE>
Pre-release of Brunel using new event model, in preparation for summer 2002
production

   >>>>>> Supported geometries:
     - LHCb-Light detector with split TT1:
           dbase v243r1p1 (Silicon only split TT1)
           dbase v243r3   (IT+OT split TT1)
       Previous databases are not supported.
       Support for later databases will be added as data becomes available

   >>>>>> Current functionality:
     - Inner Tracker digitisation and clustering
     - Outer Tracker digitisation and clustering
     - Velo digitisation and standalone tracking
     - Forward track finding, fitting, conversion to StoredTracks
     - Conversion of StoredTracks to AXAT/AXTP banks (for RICH reconstruction) 
     - RICH Digitisation (old SICB Fortran version)
     - Calo digitisation and clustering
     - MUON Digitisation (old SICB Fortran version), reconstruction, MuonID
     - L0 trigger simulation
     - OO-DST output

   >>>>>> Missing functionality:
     - L1 trigger simulation
     - Upstream tracking
     - Rich reconstruction and PID
     - Calo PID
     - Correct XML geometry for Rich1, Rich2

   >>>>>> Existing DST content:
     EventHeader, GenHeader
     Collisions, MCParticles, MCVertices
     L0CaloCandidates, L0MuonCandidates, L0PuVeto, L0DUReport
     VeloClusters
     RichDigits
     ITSummary, ITClusters, ITClusters2MCParticles relation
     OTClusters
     TrStoredTracks and corresponding TrStates and TrMeasurements
     EcalCelAutoClusters,EcalLocMaxClusters
     MuonID, MuonCoords (filtered, only if used by MuonID)

   >>>>>> Missing DST content/functionality:
     L1 output
     RICH PID
     CALO PID
     Filtering of MCParticles, MCVertices
     Filtering of ITClusters, OTClusters
     Relations to MCParticle (needed set to be decided)
 

   Backwards incompatible version for use with the new event model.
   All Fortran support removed, except for:
        RICH digitisation and reconstruction.
        MUON digitisation.

   Suppressed BrunelFinalFit phase for the time being

   In job/Brunel.job
   - Script cleaned up, improved behaviour in interactive mode

   In options
   - All files touched to support new event model algorithms
   - New file BrunelDst.opts to set up DST output
   - All files corresponfin to unsupported dbases removed

   In cmt/requirements
   - use Gaudi    v10 and corresponding external packages
   - use EventSys v10r0 Event (new Event model)
   - remove all SICB dig*, tr*, rec* packages, except digmuon, recrich

   - use ITAlgorithms  v10r0 IT
   - use ITAssociators  v1r0 IT
   - use OTAlgorithms  v10r0 OT
   - use OTAssociators  v1r0 OT
   - use VeloDigit      v2r0 Velo
   - use VeloTrack      v2r0 Velo
   - use TrFitEvent     v1r1 Tr 
   - use TrAssociators  v1r0 Tr
   - use FwTrack        v2r0 Tr
   - use TrFitter       v1r0 Tr
   - use TrExtrapolator v1r0 Tr
   - use MuonTools      v2r0 Muon
   - use MuonRec        v1r0 Muon
   - use MuonID         v1r0 Muon
   - use CaloInterfaces v2r1 Calo
   - use CaloUtils      v2r2 Calo
   - use CaloTools      v2r0 Calo
   - use CaloAlgs       v5r1 Calo
   - use L0Calo         v5r0 L0
   - use L0Muon         v5r0 L0
   - use PuVeto         v2r0 L0
   - use L0DU           v5r0 L0

! =================================================================
</PRE><H1><A NAME=v9r1p1>20020419 Brunel v9r1p1</A></H1><PRE>
   - Brunelv243r3.opts: fix typo in included filename
     (#include "$BRUNELOPTS/BrunelTrOtItTT1.opts" was ItOt)

! =================================================================
</PRE><H1><A NAME=v9r1>20020320 Brunel v9r1</A></H1><PRE>
   Adds support for dbases v243r3, v243r1p1 (comparative study of TT1 options). 
   Includes several bug fixes (see below)
 
   In options
   - Brunelv243r3.opts, BrunelTrItOtTT1.opts: new files to support dbase v243r3
   - Brunelv243r1p2.opts: new file to support dbase v243r1p2
   - BrunelTr*.opts all touched to make them consistent with new files above
   - Brunel.opts: enable Calorimeter OO reconstruction (without persistency)
   - BrunelMoni.opts: disable ITDigitMonitor (crashes for dbase v243r3)

   In requirements
   - use LHCbEvent    v12r2 Event
     AxPartCandidate.h - initialisation-value for m_fitCovariance set to (6,0).
                         (needed by serializers)

   - use ITEvent      v7r2  Event
      Bug fixes in ITDetectionLayer and ITChannelID, should solve problem 
      of missing hits reported by O. Callot
   - use ITAlgorithms v8r1  IT
      Bug fixes in ITDigitCreator, Add ITDigitEffMonitor class

   - use CaloEvent    v7r1  Event
      fix problems with std::maps on Win2K 
   - use CaloAlgs     v4r3  Calo
      fix problems with std::maps on Win2K
      fix the CPU problems with sorting of very large containers 
             (substutute std::sort with std::stable_sort)

   - use Velodet      v3r1  Det
    . Change the 'type' of the wafers, to handle properly the separation between
      left and right detectors, this was not done for R and was incorrect for 
      Phi. The result was an inefficiency in the overlap region (vertical).
    . Fixes a few minor problems of boundary, by increasing tolerances to see
      if a hit is compatible with a region of the other detector.
    . When matching R-Phi, if the slope from the nominal vertex is too big,
      one use an extrapolation parallel to the Z axis and an increased tolerance.

   - use simmubg      v5r3  SICB
      murwhits.F - Bug fix : The original (before muon background addition) 
                   number of ATMC objects in the last partition (pile-up event) 
                   is now correctly counted.
      
! =================================================================
</PRE><H1><A NAME=v9r0>2002025 Brunel v9r0</A></H1><PRE>
   Upgraded to use Gaudi v9
   Added VELO digitisation, VELO tracking
   Added Forward tracking
   Added L0 pileup veto
   Added TT1 to IT reconstruction
   --> Use this version to reconstruct data produced with dbase v240 to v243r1

   Functionality changes
   ---------------------
   In src
   - BrunelMain.cpp: new main program, to set up job options path.
       Job options path is set according to the following precedence rules:
       1. argument given to Brunel.exe
       2. value of JOBOPTPATH environment variable
       3. "$BRUNELOPTS/Brunel"+dbver+".opts", where dbver is the SICB database
          version number, taken from $LHCBDBASE
 
   In options
   - Restructuring of options files: one main file per supported database version
     includes Brunel.opts, includes database specific files, and should be
     modified for user definitions (including I/O specification)
   - Brunel.opts: suppress printout of options from included subdetector files
                  add BrunelSicbInit to TopAlg list
                  add Calo reconstruction
                  add Velo digitisation and tracking
                  add PuVeto to L0 trigger
                  Remove L0SicbCnv
   - Brunel<dbver>.opts (dbver=v240, v240r1, v241, v242, v242r1, v243r1): 
       Main options file for supported databases
   - BrunelTrLight.opts, BrunelTrMinus.opts, 
     BrunelTrCrossTT1.opts, BrunelTrTT1.opts, BrunelTrTT12.opts:
       Database specific options for tracking
   - BrunelInputs.opts, BrunelUser.opts, BrunelStatic.opts
       Obsolete files, removed.

   In BrunelSicb
   - BrunelSicbInit: new algorithm with SICB specific initialisation.
   - BrunelInitialisation: moved to Brunel Kernel
   - BrunelInit.F: Seeds of SICB random number engine (RanEcu) initialised 
                   at every event with run number and event number.
   - btrigger.F: Fix timing problem with t1track code
   - richprod.F: Local version, to remove call to axtrigger

   In BrunelKernel
   - BrunelInitialisation.cpp: 
      . Seed of Gaudi random number engine (RanLux) initialised every event: 
          100000*(event no. % 20000) + (Run no. % 100000)
      . Create event data store directory nodes:
         /Event/Raw, /Event/Rec, /Event/Trig, /Event/Trig/L0

   First version of forward tracking. Currently executing in parallel to
   standard tracking, output not saved. New packages:
     use Det/VeloDet    v3r0
     use Velo/VeloDigit v1r0
     use Velo/VeloTrack v1r1
     use Tr/FwTrack     v1r1
   
   Added C++ PileUp Veto code, uses Velo TDR geometry from XmlDDDB. 
     use L0/PuVeto      v1r0

   C++ L0 decision available in new event model (not yet persistent)
     use Event/EventKernel v1r0
     use Event/L0Event     v10r0
     use L0/L0Calo         v4r0
     use L0/L0DU           v4r0
     Removed SICB/L0SicbCnv

   Prepare for Calorimeter C++ reconstruction (not yet executed)
     use Calo/CaloTools   v1r1
     use Calo/CaloCA      v3r1
     use Calo/CaloAlgs    v4r1

   All Silicon TT1
    use ITEvent      v7r1
    use ITAlgorithms v8r0

   Create empty containers if corresponding SICB banks are missing
     use SICB/SicbCnv   v15r1
     use SICB/VSicbCnv  v6r1

   Additional changes for Gaudi v9 
   -------------------------------
   In job
   - Brunel.job: pass job options path as argument to executable

   In requirements
    use GaudiConf    v6r2  (was v5)
    use GaudiSys     v9r0  (was v8)
    use HbookCnv     v11r0 (was v10r1)
    use BrunelKernel v3r0  (was v2)
    use BrunelSicb   v2r0  (was v1)
    use TrKernel     v6r0  (was v5r1)
    use CaloKernel   v1r0  (was CaloGen v2)
    use DetDesc      v9r2  (was v7)
    use XmlDDDB      v8    (was v6r1)
    use CaloDet      v3r0  (was v3r0)
    use LHCbEvent    v12r1 (was v11)
    use VeloEvent    v6r0  (was v5)
    use OTEvent      v7r0  (was v6r1)
    use TrEvent      v7r1  (was v6r1)
    use CaloEvent    v7r0  (was v6)
    use CaloSicbCnv  v5r1  (was v4)
    use MuonSicbCnv  v4r0  (was v3)
    use TrSicbCnv    v4r0  (was v3)
    use L0Muon       v4r0  (was v3r1)
    use OTAlgorithms v7r0	 (was v6)
    use TrAlgorithms v7r1  (was v6r2)
     
! =================================================================
</PRE><H1><A NAME=v8>20011017 Brunel v8</A></H1><PRE>
   Major repackaging, no major change in functionality:
   - all source files have been removed and moved to new Rec/BrunelSicb package
   - version number is set by a compiler define flag in the requirements file
   - same Brunel version can read data produced with multiple dbase versions,
     starting from dbase v240

   In job
   - Brunel.job: Remove unsetenv LD_LIBRARY_PATH

   In options
   - Remove LHCbLight.opts (moved to dbase v241)
   - Brunel.opts: include $LHCBDBASE/options/Brunel.opts

   In cmt/requirements
   - remove use dbase ($LHCBDBASE to be set externally)
   - add macro_append fflags

   - use BrunelSicb   v1   Rec
       in src/Lib/BrunelDigiMUON.cpp : default now to not add muon background.
                                       Due to bug in MURMBG if background was 
                                       already added by SICBMC
   - use TrKernel     v5r1 Tr
       remove virtual from state getZ member
   - use ITEvent      v6r1 Event
       Remove memory leak
   - use OTEvent      v6r1 Event
       bug fix - due to inconsistent numbering, wires were skipped at edge
                 of a module
   - use TrEvent      v6r1 Event
       Reserve space in vectors of measurements/states inside track classes
       Should save time
   - use TrAlgorithms v6r2 Tr
       remove obsolete fortran runga kutta routine
       tidy the code up a bit
       minor optimizations to speed up the code alittle
   - use TrSicbCnv    v3   SICB
       requirements - use TrEvent v6*
! =================================================================
</PRE><H1><A NAME=v7r1>20010913 Brunel v7r1</A></H1><PRE>

   In cmt/requirements
     use TrAlgorithms v6r1 Tr
     - fix a memory leak in TrFitIntializer

     use rechcal      v6r1 SICB
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v7>20010904 Brunel v7</A></H1><PRE>
  This version is to be used for data produced with SICBMC v248/dbase v241
  ("LHCb-Light")

  It consists of the same code as v6, but uses a different geometry.

  In options/
   LHCbLight.opts - new file to set up LHCb-Light tracker geometry
   Brunel.opts    - include LHCbLight.opts

  In cmt/requirements
  ===================
  use dbase v241 SICB
    standard.stream - use new pipe and velo
      
    vsrp.cdf and vpil.cdf - Thickness of the RF shield and 
                            silicon detectors changed (J. Palacio)
    field042.cdf - introduce field in Velo (G. Corti)
    magnet.cdf   - remove rich 1 shielding plate (M. Needham)
    rich.cdf     - remove aerogel, reduce radiation thickness of mirror 
                   and supports (J. Libby)
    witr.cdf, wotr.cdf, wsta.cdf - 
                   reduce number of tracking stations to 4 (M. Needham)
    pipe8.22.cdf - Be first section (G. Corti)

! =================================================================
</PRE><H1><A NAME=v6r1>20010913 Brunel v6r1</A></H1><PRE>
   In cmt/requirements
     use TrAlgorithms v6r1 Tr
     - fix a memory leak in TrFitIntializer

     use rechcal      v6r1 SICB
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v6>20010904 Brunel v6</A></H1><PRE>
  This version is to be used for data produced with SICBMC v247/dbase v240
  ("LHCB-classic", tracker cross-geometry)

  In options/
   Brunel.opts
     Remove tracking ErrorMax options (fixed in tracking code)
   BrunelMessage.opts
     Name of TrEventTracksFitter algorithm changed to trFit

  In cmt/requirements
  ===================
  use dbase v240 SICB
    20010821 - dbase v240
     cdf/     changes for tracking cross geometry, 
              increase thickness of OT stations to 3%,
              remove stations 4 and 11,
              add pipe7.22.cdf (new pipe from G.Corti)
     standard.stream - reads pipe7.22.cdf             
    20010625 - dbase v239r1
     beamrawh3_v2.cdf   - this file must be read in to produce RAWH3: 
                          the luminosity is fixed to 5.0x10^32
     standard.stream    - reads beamrawh3_v2.cdf

  use detdes v14 SICB
   20010821 - detdes v14 (M.Needham)
     backwards incompatible changes for new tracker cross geometry.

  use ITEvent      v6     Event
    Changes for new cross geometry
    Remove triple gem code

  use OTEvent      v6     Event 
    backwards incompatible changes for cross geometry  
    insure channels number from one everywhere
    reserve space in internal vector of OTLayer object - should save time

  use TrEvent      v6     Event
    add copy constructer to TrTrueTrack
    retune ITHitOnTrack error

  use ITAlgorithms v6     IT
    new version for cross geometry

  use OTAlgorithms v6     OT
    Changes for the cross geometry of OT
    Remove some unnecessary calls to msgstream in tools
    Changes in OTDigitize to speed things up (suggested by Markus)
    Delegate new to tool in OTHitsCreator

  use TrAlgorithms v6     Tr
    Changes for cross geometry, clean-up of code

  use L0DU v2r1 L0
  - Modify L0DUReport to be a DataObject (only one in the output)
  - Store the L0DUReport in the Transient store, this wasn't done !

! =================================================================
</PRE><H1><A NAME=v5r2>20010913 Brunel v5r2</A></H1><PRE>

   In cmt/requirements
     use rechcal v6r1
     - Modified hcl0_make to delete the existing map of cell references.

! =================================================================
</PRE><H1><A NAME=v5r1>20010824 Brunel v5r1</A></H1><PRE>

   In cmt/requirements
     use XmlDDDB v6r1
     - Fix the SPD Et slope: Was 2 GeV, should be 2 MeV !!!!

     use SicbCnv v13r1
     - Protections in book-keeping database queries

! =================================================================
</PRE><H1><A NAME=v5>20010821 Brunel v5</A></H1><PRE>

   In src/BrunelSicb/
   -----------------
   BrunelInitialisation.cpp - make sure Raw and Rec sub-event roots are created
   dropbanks.F - do not drop E1RW bank (needed to generate MCSensPlaneHit)
 
   In options/
   -----------
   BrunelMessage.opts - set global output level to WARNING or above, over-ride
                        it for ChronoStatSvc to print final statistics
                      - set output level of some tracking algorithms to ERROR,
                        to suppress excessive printing in production
   Brunel.opts - Set ErrorMax of tracking algorithms to 1000, to prevent
                 program stopping wih 'missing container' on empty events

   In cmt/requirements
   -------------------
   >>> Bug fixes and physics changes <<<

   use trivert v5r3
    vth1.F - Fix problem due to 90 degree roration on VELO. (Hans Dijkstra)

   use XmlDDDB v6
    - put correct calibration Hcal parameters (calculated by O.Iouchtchenko)
    - Change the HCAL ActiveToTotal parameter form 55 to 40
    - Fix the 'ActiveToTotal' parameter for Ecal, after calibration with 
      SICBMC v241 data plus Signal and Digit processors

   use L0Muon v3r1
    - Fixed bug in the CreateTower procedure for the cases of crossing the 
      boundary between regions; 
    - All the numbering for quarters/regions/indices starts from 0. 
  
   use CaloAlgs v3 (was v2)
    - Several bug fixes and reorganisation of histograms (see release notes)

   use SicbCnv  v13
    SicbMCEventCnv - set m_pileUp to number of PASS banks 
  
   use CaloSicbCnv  v4
    - Fix bug in SicbCaloDigitCnv, SummedDeposit were not linked to the digits
    

   >>> Remaining changes are for upgrade to Gaudi v8, LHCb v8
   >>> Should not affect physics functionality
   >>> See corresponding release notes for details

   use GaudiPolicy  v5     (was v4)
   use GaudiSys     v8     (was v7r2)
   use HbookCnv     v10r1  (was v9)
   use CERNLIB      v2001  (was v2000)
   use BrunelKernel v2     (was v1)
   use DetDesc      v7     (was v6)
   use XmlDDDB      v6     (was v5)
   use CaloDet      v2r1   (was v1)
   use LHCbEvent    v11    (was v10)
   use L0Event      v3     (was v2)
   use ITEvent      v5     (was v4)
   use OTEvent      v5     (was v4)
   use TrEvent      v5     (was v4r1)
   use CaloEvent    v6     (was v5)
   use VeloEvent    v5     (was v4)
   use L0Calo       v2     (was v1)
   use L0Muon       v3r1   (was v2)
   use L0DU         v2     (was v1)
   use CaloGen      v2     (was v1)
   use CaloAlgs     v3     (was v2)
   use TrKernel     v5     (was v4)
   use ITAlgorithms v5     (was v4)
   use OTAlgorithms v5     (was v4)
   use TrAlgorithms v5     (was v4r1)
   use SicbCnv      v13    (was v12)
   use CaloSicbCnv  v4     (was v3)
   use L0SicbCnv    v3     (was v2)
   use MuonSicbCnv  v3     (was v2)
   use TrSicbCnv    v2     (was v1)
   use VSicbCnv     v5     (was v4)
   use GDUMMY       v1r5   (was v1r4)

! =================================================================
</PRE><H1><A NAME=v4>20010629 Brunel v4</A></H1><PRE>
   Add C++ L0 trigger simulation
   Remove old L0_2x2 simulation

   In options/
   -----------
   Brunel.opts     - include Brunel.opts from L0CALO, L0MUON, L0DU
                     Add DLLs L0SicbCnv, MuonSicbCnv 
   BrunelMoni.opts - Add CALO and TRIGGER to BrunelMoni.DetectorList 
   
   In src/BrunelSicb/
   ------------------
   trigger.F - remove call to L0_2X2

   In cmt/requirements
   -------------------
   add  use of L0Calo (v1), L0Muon (v2), L0DU (v1), L0Event (v2)
               L0SicbCnv (v2), MuonSicbCnv (v2)

   use Futil v10r3
>   ubdropobj - new routine to drop the LAST object in a given partition

   use simmubg v5r2

>  murmsingle.F  - all 4 routines now add the atmc references to the last
>  murmmulti.F   - atmc partition.
>  murmscomp.F   -   
>  murmmcomp.F   -
>
>  The routine murmbg.F now uses a new Futil (v10r3) routine, mudropobj.F to
>  correctly remove background ATMC objects.
>
>  murmbg.F      - Calls ubdropobj.F to remove background ATMC references.
>
>  murmsingle.F  - Extra debug messages added to catch problems 
>  murmmulti.F   - with too many ATMC objects (>10000).
>  murmscomp.F   -   
>  murmmcomp.F   -


===============================================================================
</PRE><H1><A NAME=v3r3>20010625 Brunel v3r3</A></H1><PRE>
   Add possibility to add muon background (switched on by default)

   In src/BrunelSicb/
   ------------------
   BrunelDigiMUON.cpp - add conditional calls to MURMBG, MUBACKGROUND, steered
                        by addBkg job option (called by default)
   BrunelDigiMUON.h   - add private member m_addBkg

   In options/Brunel.opts - add BrunelDigiMUON.addBkg = true;
   ----------------------

   In cmt/requirements
   -------------------
     use dbase v239
>  standard.stream - new MUGB and MUBC muon background parametrization files
>                    (P.Colrain)

     use simmubg v5
>  package to generate muon background
===============================================================================
</PRE><H1><A NAME=v3r2>20010620 Brunel v3r2</A></H1><PRE>
   Same as v3r1, but using bug fixes from digvdet v2r3 and trivert v5r2

   In cmt/requirements
   -------------------
     use digvdet v2r3
>   vrp_get_strip_num.F, vrp_get_coord.F - fix the problem arising from the
>           rotation of the VELO by 90d in phi.(M.McCubbin)

     use trivert v5r2
>   vertex_x_y.F - fix the problem arising from the
>           rotation of the VELO by 90d in phi.(M.McCubbin)

===============================================================================
</PRE><H1><A NAME=v3r1>20010606 Brunel v3r1</A></H1><PRE>
   This version reads SICBMC data starting from SICBMC v245, dbase v238
   ** It is not backwards compatible with older RAWH formats and geometry **
   ** It is no longer possible to do Pileup in Brunel                     **

   New features relative to v3:
   - RICH extended tracking executed for all events
   - AXTK updated with PID information from extended tracking
   - New VELO geometry description
   - Drop some banks from DST (as with SICBDST)

   In options/
   ----------
   BrunelInput.opts 
     - Fix format of SpillOverSelector.Input option,
     - New option BrunelFinish.DropDSTBanks to control call to DROPBANKS

   Brunel.cards - Switch on RICH extended tracking for all events
>    DIGI 'RICH' 2
>    RECO 'RICH' 3

   BrunelMessage.opts: Use default Gaudi message format

   In src/BrunelSicb/
   -----------------
   BrunelInitialisation.cpp: 
     - initialise SICB variable NPILEUP with value from PASS bank 
       (to cope with RAWH2) - not compatible with SicbCnv PileUpAlg

   BrunelFinalisation.cpp:   Add call to DROPBANKS
   dropbanks.F:              New, to drop unwanted SICB banks from DST

   In cmt/requirements
   -------------------
     use TrEvent      v4r1
>  Fixes for new velo geometry

     use TrAlgorithms v4r1
>  Bug fix in job options

     use dbase        v238
>          new VELO geometry description
> vsrp.cdf - modified
> vpil.cdf - modified

     use detdes   v13
>  utnext.F - utnext("MATE") returns the next free material number
>             utnext("TMED") returns the next free tracking medium number
>  utmatm.F - uses utnext("TMED") to get the next free tmed #
>  utmatn.F - uses utnext("MATE") to get the next free mat 
>
>  vrpigeom.F, vrpgeom.inc, vsvnam.inc - modified for new VELO geometry
>                                        description.
>  muginit2.F - replace GAPFRAMEPAR(IMATFR,IL,I)=NINT(Q(LP+5) with
>                       GAPFRAMEPAR(IMATFR,IR,I)=NINT(Q(LP+5))
>               IL was never set.

     use Futil    v10r1
>  src/axtrigger.F - put version by H.Dijkstra (same as in SICBDST/minidst)
>     with values tuned for SICBDST v235

     use axreclib v4r2
>  src/aximperr.F - bug fix, introduced missing dummy argument in 
>                   call to rmmlt routine (necessary to run on NT, gcorti)
>  src/axpartid.F - use results from extended tracking (R.Forty)
===============================================================================
</PRE><H1><A NAME=v3>20010521 Brunel v3</A></H1><PRE>
  This is the first version to be used for an official LHCB production 

  This version has been restructured as two packages. Rec/Brunel contains the
  statically linked code needed to run SICBDST routines. C++ components of the
  reconstruction framework have been moved to the package Rec/BrunelKernel

  There are two subdirectories in /src:
    BrunelSicb   contains interface code to SICB (statically linked)
    ObsoleteSicb contains interface code to SICB that is no longer used
                 because SICB algorithms have been replaced by equivalent 
                 C++ algorithms.
  Files have been rename to avoid multiple . in filenames (to please nmake)

  Job options file structure has been modified relative to Brunel v1r6

  requirements use explicitly the SICB packages, no longer SICBDST

  #### Physics changes with respect to SICBDST v252 ####
  - Uses C++ tracking 
    Intermediate tracking banks (e.g. WIDG, WODG) are not produced

  - Uses C++ Calorimeter digitisation
  
  - Does not run old L1 track trigger (T1TRACK from trit1tr package)
    TTR1 bank is not produced.
===============================================================================
</PRE><H1><A NAME=v1r6>20001219 Brunel v1r6</A></H1><PRE>
  requirements     - use SicbCnv v10 (spillover), SICBDST v235r3
  Brunel.Phase.cpp - fix bug in a log message (reported by O.Callot)
  BrunelZebra.inc  - increase ZEBRA COMMON block size to 12M words

===============================================================================
</PRE><H1><A NAME=v1r5>20001120 Brunel v1r5</A></H1><PRE>
  Brunel.Phase.cpp - No longer instantiates algorithms, instead it instantiates sequences
                     This introduces modifications in the BrunelOptions.txt: all algorithms
                     must now be declared as members of a sequence - see user guide for details
  requirements     - Use Gaudi release 6, SICBDST v235r2
  options          - New directory, containing structure of job options files - see user guide

===============================================================================
</PRE><H1><A NAME=v1r4>20001003 Brunel v1r4</A></H1><PRE>
           to link a Brunel static application: gmake tag=LinuxStatic
           to run a job in static mode remove the following line from
           BrunelOptions.txt : ApplicationMgr.DLLs = {...}
 
  requirements      - use the highest version of LHCbCMT (v3r3 to define
                      package_tag pattern)
                    - use SICBDST v235 before any Gaudi packages to make sure
                      that Futio and Finclude version numbers are those set
                      by SICBDST.
                    - use SicbCnv v8r1 (to remove a fake main program)

===============================================================================
</PRE><H1><A NAME=v1r3>20000804 Brunel v1r3</A></H1><PRE>
  requirements      - use SICBDST v235
  jobOptions        - cleaned up

===============================================================================
</PRE><H1><A NAME=v1r2>20000726 Brunel v1r2</A></H1><PRE>
  requirements      - use SICBDST v234r2 and GaudiSys v5
  BrunelZebra.inc   - increase ZEBRA size to 9000000 (as for SICBDST)
  *.cpp             - Changes for GaudiSys v5 (compulsory implementation of
                      initialize(), finalize())
  BrunelPhase.h,.cpp- Remove private member m_AlgList, now exists in 
                      Algorithm base class

===============================================================================
</PRE><H1><A NAME=v1r1>20000626 Brunel v1r1</A></H1><PRE>
  requirements      - use SicbCnv v7r3, link directly to $(SICBDSTROOT)/src/sicbvers.F
  BrunelZebra.inc   - new, to over-ride size of ZEBRA COMMON (set to 8 000 000)
  GetZebraSize.F    - new, over-rides routine of same name in SicbCnv 
  Brunel.Trigger.TRIGGER.cpp - call TRLAST in finalise()

===============================================================================
</PRE><H1><A NAME=v1>20000529 Brunel v1</A></H1><PRE>
  requirements      - use GaudiConf v1 and SICBDST v233r2 (Flr)
  job/              - new directory which contains :      (Flr)
  Brunel.job        - script to run Brunel, uses Brunel.cards and 
                      BrunelOptions.txt
  Brunel_lsf.job    - contains options for Gaudi and SICBDST,
                      does not use Brunel.cards and BrunelOptions.txt
  Brunel.cards      - SICBDST data cards file
  BrunelOptions.txt - Gaudi jobOptions file
  Brunel/             remove options.txt files (Flr)
  udinit.F          - stop the job if SICBDST cards file is not found. (Flr)
  Brunel.Init.F     - add printout of event number if DEBU card (Flr)
    
! 20000519 Brunel v1
  First version of LHCb reconstruction program.

  This version has the same functionality as SICBDST v233, containing only 
  wrapped FORTRAN code
</PRE>
