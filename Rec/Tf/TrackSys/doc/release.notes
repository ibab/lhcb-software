!-----------------------------------------------------------------------------
! Package     : Tf/TrackSys
! Responsible : Michel De Cian
! Purpose     : Defines the global Track set of packages, for tracking.
!-----------------------------------------------------------------------------

!========================= TrackSys v9r11 2015-10-13 =========================
! 2015-10-05 - Michel De Cian
 - Put upstream tracking before forward in RecoUpgradeTracking.py

!========================= TrackSys v9r10 2015-08-05 =========================
! 2015-08-03 - Michel De Cian
 - Switch cuts in TrackBestTrackCreator to chi2=4 and ghost prob = 0.4 for Run II tracking.

! 2015-07-31 - Michel De Cian
 - Switch on ghost probability in TrackBestTrackCreator and set it to 0.5 for Run II tracking.

!========================= TrackSys v9r9 2015-07-20 =========================
! 2015-07-20 - Michel De Cian
 - Switch on new multiple scattering treatment for public tools like TrackExtrapolator, TrackInterpolator and TrackStateProvider

! 2015-07-14 - Michel De Cian
 - Add switch for fast Kalman fitting of Velo tracks for PV reconstruction. Default is on, old behaviour can be set via 'ExpertTracking'

! 2015-07-13 - Michel De Cian
 - Switch on new multiple scattering correction in 'RecoTrackingRun2.py'

! 2015-07-11 - Michel De Cian
 - Replace PatDownstream with PatLongLivedTracking in the default sequence, put in warning if non-standard Pat Reco algorithm is used, adapt PatChecking.py such that new algo fires up the TrackAssociator.

! 2015-07-10 - Michel De Cian
 - Erase ExtraInfo from the Fitted HLT1 Velo Track (in RecoTrackingRun2.py)

! 2015-06-23 Marco Cattaneo
 - In RecoTracking.py, remove treatment of fitted Velo tracks for obsolete Run 1
   RDST format

!========================= TrackSys v9r8 2015-06-15 =========================
! 2015-06-13 Michel De Cian
 - Add TrackLikelihood to ExtraInfos, as it is needed by the ANNPID variables (in RecoTrackingRun2.py)

! 2015-06-10 Michel De Cian
 - Check that fitters in HLT1 sequence only run when the corresponding PatReco algorithms have run.

!========================= TrackSys v9r7 2015-05-26 =========================
! 2015-05-18 - Michel De Cian
 - Add VeloTT tracks to the collection of tracks to be fitted in HLT2 part of reco.

! 2015-04-28 - Sascha Stahl
 - Fixed configuration of TrackStateInitTool to be inline with the Hlt tracking sequence 
   and added track chi2/ndf<3 cut for Hlt1 Forward tracks (in RecoTrackingRun2.py).

!========================= TrackSys v9r6 2015-04-21 =========================
! 2015-04-20 - Michel De Cian
 - Activate RunII tracking sequence by 'DataType == 2015'

! 2015-04-19 - Michel De Cian
 - Invert logic for liteClusters and simplifiedGeometry in 'Configuration.py', such that they are the standard for Run2.

! 2015-04-15 - Michel De Cian
 - Change 'TrackBestTrackCreator' to 'TrackEventFitter' for Velo and Forward separately for HLT1 (in RecoTrackingRun2.py)

! 2015-04-15 - Michel De Cian
 - Fix input container for forward merging to use fitted HLT1 forward tracks (in RecoTrackingRun2.py)

! 2015-04-11 - Michel De Cian
 - Fix inputLocation(s) of another instance of TrackContainerCopy in RecoTracking.py

! 2015-04-10 - Michel De Cian
 - Fix bug with TrackStateInitTool in RecoTrackingRun2.py

! 2015-04-10 - Chris Jones
 - Fix a bug in TrackSys configure where TrackSys() was used instead of self.

! 2015-04-9 - Michel De Cian
 - Introduce 'TrackListRefiner' to only veto fitted long tracks in HLT 2 forward for 2015.

! 2015-04-08 - Michel De Cian
 - Change 'TrackListMerger' to (new) 'TrackContainerCopy' in 'RecoTrackingRun2.py', such that forward tracks can be stored on a DST.

! 2015-04-02 - Michel De Cian
 - Change options of Fitter in 'RecoTrackingRun2.py': Don't refit, use FastMomentumEstimate, don't change dEdX in simulation.

! 2015-04-01 - Michel De Cian
 - Add 'TrackV0Finder' in 2015 sequence.

! 2015-03-31 - Michel De Cian
 - Slight modification in 'PatChecking.py' to run the checkers for the output of the merged forward.

! 2015-03-31 - Michel De Cian
 - Configured fitters in 'RecoTrackingRun2.py', options for simplified geometry and lite clusters in expertTracking in 'Configuration.py'

! 2015-03-30 - Michel De Cian
 - More Run 2 preparations in 'RecoTrackingRun2.py', changes in the configuration to use Run2 sequence when special data flag is set.

! 2015-03-29 - Michel De Cian
 - More Run 2 preparations in 'RecoTrackingRun2.py'

! 2015-03-28 - Michel De Cian
 - Fix another renaming and indentation error in 'RecoTrackingRun2.py'

! 2015-03-28 - Roel Aaij
 - Fix renaming error for DataType != "2015".

! 2015-03-28 - Michel De Cian
 - Fix indentation error in 'RecoTrackingRun2.py'

! 2015-03-27 - Michel De Cian
 - Add 'RecoTrackingRun2.py' that will contain the tracking options for run2. This is not in a working state at the moment, but is also not called anywhere

! 2015-03-27 - Michel De Cian
 - Replace 'PatVeloConf' with 'PatVeloTTAlgConf' (change in name only) in RecoTracking.py

!========================= TrackSys v9r5 2015-02-23 =========================
! 2015-01-28 - Michel De Cian
 - Add GhostProbability to RecoUpgradeTracking.py

! 2015-01-24 - Michel De Cian
 - Adapt RecoTracking.py, such that for data type '2015' PatVeloTTHybrid instead of PatVeloTT is run. The (internal) Kalman filter is off per default.

!========================= TrackSys v9r4 2015-01-14 =========================
! 2014-12-24 - Paul Seyfert
 - Change GhostClassification tools in PatChecking.py

!========================= TrackSys v9r3 2014-12-11 =========================
! 2014-11-07 - Marco Clemencic
 - Fixed intentation error in Configuration.py

! 2014-11-06 - Michel De Cian
 - Replace "Match" with "PatMatch" for old sequence of PatReco algorithms in Configuration.py

! 2014-11-05 - Michel De Cian
 - Remove 'TrackMatching' from cmt/requirements, CMakeLists.txt and RecoTracking.py. A runtime error is raised if it is set as a track type.

! 2014-10-23 - Michel De Cian
 - Remove 'TrackSeeding' from cmt/requirements and CMakeLists.txt

!========================= TrackSys v9r2 2014-09-08 =========================
! 2014-09-05 - Marco Cattaneo
 - Use standard tracking sequence also for 2010 data. Previously was using
   TsaSeed instead of PatSeed and non-standard GECs

! 2014-07-24 - Marco Cattaneo
 - In RecoTracking.py, factor out the RAW bank decoding into a separate
   RecoTracking.DecodeTracking(), so it can be called independently, to just
   decode the Raw banks without running the tracking sequences.

!========================= TrackSys v9r1 2014-05-13 =========================
! 2014-04-10 - Heinrich Schindler
 - Run VPClusterLinker only if VP is in the list of subdetectors.

! 2014-04-05 - Heinrich Schindler
 - Add PrPixelStoreClusters to TrVeloSeq
 - Add VPClusterLinker to MCLinksTrSeq 

!========================= TrackSys v9r0 2014-02-19 =========================
! 2014-02-17 - Rob Lambert
 - Add dependency of TrackSys on DecodeRawEvent, task #50179

! 2014-02-13 - Heinrich Schindler
 - Follow renaming of PatPixelTracking to PrPixelTracking

! 2014-01-13 - Marco Cattaneo
 - Remove support for VL

! 2013-12-18 - Marco Cattaneo
 - Add support for 'pA' SpecialData type, to set special GECs developed for
   Reco14r1 reprocessing of 2013 heavy ion data

!========================= TrackSys v8r0 2013-12-10 =========================
! 2013-12-04 - Rob Lambert
 - Turn off the other velo decoders, toehrwise there is potentially a problem using DataOnDemand in DaVinci

! 2013-12-02 - Mika Vesterinen
 - Move the matching algorithm to before the downstream in RecoUpgradeTracking.py, 
   so that we are able to exclude hits used in match for the downstream.

! 2013-11-28 - Rob Lambert
 - Combine both velo decoders into one. No need for two algs if we need both sets of info anyway.

! 2013-11-27 - Rob Lambert
 - Update to take decoders from my DecodersDB -- needs LHCb v36r4, major change

! 2013-11-17 - Michel De Cian
 - Replace PatMatch with PrMatch in upgrade reco sequence (no performance difference).

!========================= TrackSys v7r13 2013-10-24 =========================
! 2013-10-05 - Michel De Cian
 - Issue a warning if a non-default track type is used.

!========================= TrackSys v7r12 2013-10-01 =========================
! 2013-08-02 - Maurizio Martinelli
 - added STOfflinePostion to standard tracking options.
 - removed MC09 code options.

!========================= TrackSys v7r11p1 2013-06-03 =========================
! 2013-05-07 - Paul Seyfert
 - entirely remove deprecated property from TrackAddNNGhostId (was commented
   out)

!========================= TrackSys v7r11 2013-04-30 =========================
! 2013-04-29 - Thomas Nikodem
 - Replaced UpgradeBestTrackCreator by TrackBestTrackCreator in RecoUpgradeTracking.py

! 2013-04-09 - Marco Cattaneo
 - Add __init__.py to please CMake

!========================= TrackSys v7r10 2013-03-22 =========================
! 2012-03-21 - Yasmine Amhis 
 - In RecoUpgradeTracking.py make PrSeedingXLayers default algorithm for seeding

! 2013-03-19 - Marco Cattaneo
 - In patChecking.py: Remove PrimaryVertexChecker from Check sequence, since
   it requires HepMC, no longer available in MC DSTs by default (from Sim08)
   (also on v7r6p1 branch)

! 2013-03-19 - Maurizio Martinelli
 - Modified energy loss correction factor in RecoTracking.py.
   (also on v7r6p1 branch)

! 2013-02-27 - Sascha Stahl
 - Added PatMatch to upgrade sequence.

!========================= TrackSys v7r9 2013-02-14 =========================
! 2013-02-07 - Sascha Stahl
 - Changed way of getting Upgrade detectors.

! 2013-02-06 - Sascha Stahl
 - Two properties removed from TrackSys Upgrade, UpgradeDetectors. These
   are steered by Brunel().Detectors now.
 - Added Downstream tracking, Upstream tracking and 
   UpgradeTrackBestCreator to the sequence. 

! 2013-02-01 - Sascha Stahl
 - Added a clone killer for the upgrade to the upgrade sequence.
 - Added UT to the decoded detectors.
 - Renamed PatCheckingUpgrade.py into PrUpgradeChecking.py and enabled
    the efficiency checkers.

! 2012-12-12 - Sascha Stahl
 - started implementing a sequence for the upgrade
 - Added a RecoUpgradeTracking.py and a PatCheckingUpgrade.py
 - Three properties added to TrackSys. Upgrade, UpgradeDetectors, TrackTypes

!========================= TrackSys v7r8 2012-11-28 =========================
! 2012-11-23 - Marco Clemencic
 - Added CMake configuration file.

! 2012-10-09 - Marco Cattaneo
 - Do not set TrackClones sequencer MeasureTime=True by default

!========================= TrackSys v7r7 2012-10-01 =========================
! 2012-08-22 - Chris Jones
 - Revert back to the default settings for the ghost probability.
   So will run the new MC12 tuning.

!========================= TrackSys v7r6 2012-08-16 =========================

! 2012-08-16 - Chris Jones
 - Update the ghost probability options to explicitly run the old tuning 
   by default.

!========================= TrackSys v7r5 2012-07-24 =========================
! 2012-07-06 - Wouter Hulsbergen
 - Make sure default instance of StateInitTool is not modified

!========================= TrackSys v7r4 2012-06-25 =========================
! 2012-06-01 - Marco Cattaneo
 - Fix bug #95019 (missing import in case of OldCloneKiller+Simulation)
   introduced by previous commit

!========================= TrackSys v7r3 2012-05-07 =========================
! 2012-05-07 - Marco Cattaneo
 - Add Simulation slot to TrackSys(). Default False
 - In RecoTracking.py, if Simulation is True, apply energy loss correction
   factor of 0.86 as was done in MC11. This calibration will change when major
   version of Geant changes, so will require a switch on simulation type when
   that happens.

!========================= TrackSys v7r2 2012-05-02 =========================
! 2012-04-20 - Wouter Hulsbergen
 - switch BestTrackCreator to the right FastVelo fitting tool

! 2012-04-20 - Marco Cattaneo
 - Clean up imports in RecoTracking.py

! 2012-04-18 - Wouter Hulsbergen
 - switch to new clone killer ('TrackBestTrackCreator').
   old sequence can be recovered with TrackSys().OldCloneKiller = True.

!========================= TrackSys v7r1 2012-02-28 =========================
! 2012-02-07 - Manuel Tobias Schiller
 - fix a bug in python/TrackSys/PatChecking.py which causes the
   TrackEffChecker not to be run on Velo tracks if FastVelo is used

! 2012-02-07 - Marco Cattaneo
 - Remove unnecessary import from RecoTracking.py

!========================= TrackSys v7r0 2011-08-31 =========================
! 2011-08-30 - Jeroen van Tilburg
 - Changed default global event cut for number of OT hits from 1M to 15k. 

!========================= TrackSys v6r3 2011-07-28 =========================
! 2011-07-28 - Marco Cattaneo
 - Add protections for invalid GlobalCuts

! 2011-07-26 - Marco Cattaneo
 - Add new slot TrackSys().GlobalCuts. It consists of a dictionary which is
   then used to set global event cuts on the number of hits used in the
   tracking. Default values are { 'Velo':6000, 'IT':999999, 'OT':999999 },
   except for DataTypes MC09,2008,2009,2010,Upgrade where the defaults are
   those defined in the algorithms
 - Cut on number of Velo clusters is defined by setting MaxVeloClusters
   property of DecodeVeloRawBuffer in VeloTracking.py 

!========================= TrackSys v6r2 2011-05-10 =========================
! 2011-05-10 - Marco Cattaneo
 - Add switch to apply fiducial time window in OTRawBankDecoder. Default is to
   apply window of -8.0*ns to 56.0*ns. Switched off by setting
   TrackSys().ExpertTracking += ["disableOTTimeWindow"]

!========================= TrackSys v6r1 2011-02-28 =========================
! 2011-02-04 - Stephanie Hansmann-Menzemer
 - add 2011 as data type

!========================= TrackSys v6r0 2011-02-02 =========================
! 2011-02-01 - Rob Lambert
 - Fixed typo in TrackSys configurable getProb->getProp

! 2011-02-01 - Stephanie Hansmann-Menzemer
- add switch for MC09 to be propagated to STTools to ensure to run with
APE=0.0 on MC

! 2011-01-31 - Stephanie Hansmann-Menzemer
- bug fix for cosmic sequence

! 2011-01-28 - Stephanie Hansmann-Menzemer
 - add switch ForceNewSeq and ForceOldSeq to run tracking sequence which are
 not default for a given data set.

! 2011-01-27 - Stephanie Hansmann-Menzemer
 - change to new tracking reco sequence from 2011 data taking on
 - set early data tuning as default

!========================= TrackSys v5r1 2010-12-16 =========================
! 2010-12-10 - Olivier Callot
 - Remove an instanciation of HLT2FastVelo, a test that went to svn by mistake...

! 2010-11-25 - Olivier Callot
 - Select the tool for state recreation before the fit, if FastVelo
 - Split the instantiation of the track associators and checkers according to what is
   run in the pattern. Always associate the best container.

! 2010-10-07 - Olivier Callot
 - Add option "FastVelo" in TrackSys to use the new FastVelo package instead of PatVelo

!============================ TrackSys v5r0 2010-08-04 ======================
! 2010-09-22 - Victor Coco
 - add a call to the upgrade configurables for reconstruction and Pat checking
   when there is the special type "upgrade"

!============================ TrackSys v4r37 2010-08-04 ======================
! 2010-08-04 - Stephanie Hansmann-Menzemer
 - add a extra copy step to the best track container, to remove tracks with
   failed fit

! 2010-07-27 - Rob Lambert
 - Propagate DataType into a slot of TrackSys

! 2010-07-30 - Olivier Callot
 - Fit the seed only if the MATCH algorithm is there. PatMatch doesn't need it.

!============================ TrackSys v4r36 2010-07-27 ======================
! 2010-07-27 - Rob Lambert
 - Added slot for DataType propagated from Brunel()
 - PrimaryVertexChecker not run for DC06 because of FPE

! 2010-07-27 - Stephanie Hansmann-Menzemer
 - add switches for timing measurements in RecoTracking.py


!============================ TrackSys v4r35 2010-07-20 ======================
! 2010-07-20 - Marco Cattaneo
 - Remove RecoTrackingOld.py. Can always be retrieved from SVN if needed...

! 2010-07-06 - Olivier Callot
 - New version of RecoTracking, the old one kept as 'RecoTrackingOld.py'
   This fits the tracks after clone cleaning for speed
   Old behaviour available by setting TrackSys().FilterBeforeFit = False

!============================ TrackSys v4r34 2010-06-21 ======================
! 2010-06-21 - Stephanie Hansmann-Menzemer
 - Add switch for timing measurements

! 2010-06-18 - Olivier Callot
 - Add a slot 'FilterBeforeFit' to TrackSys to include filtering algorithms
   before the track fit, to increase speed
 - Add algorytjms FilterMatchTracks / Downstream / Seed conditionnaly in 
   RecoTracking.py in front of the respective fit sequence

! 2010-06-09 - Rob Lambert
 - fix savannah bug #bug 68610, missing import statement in RecoTracking.py

!============================ TrackSys v4r33 2010-05-21 ======================
! 2010-05-12 - Rob Lambert
 - Removed obsolete options RecoTracking.py and PatChecking.py

! 2010-05-11 - Rob Lambert
 - Adapted RecoTracking for upgrade purposes

! 2010-05-11 - Rob Lambert
 - fixed cut-and-paste error in PatChecking.py

! 2010-05-05 - Rob Lambert
 - Adapt to changes in STTools for new python modules

! 2010-05-04 - Rob Lambert
 - Adapt RecoTracking.py to new python modules

! 2010-05-03 - Rob Lambert
 - Copy RecoTracking.py to a python function instead of an options file
 - Copy PatChecking.py to a python function instead of an options file

!============================ TrackSys v4r32 2010-03-19 ======================
! 2010-04-23 - Marco Cattaneo
 - In RecoTracking.py, follow change in names of MagneticFieldSvc options

!============================ TrackSys v4r31 2010-03-19 ======================
! 2010-03-15 - Stephanie Hansmann-Menzemer
 -  add ST error tuning for the fit (only for early data)

!============================ TrackSys v4r30 2010-02-15 ======================
! 2009-02-13 - Stephanie Hansmann-Menzemer 
 - move all hit decoding/clustering at the beginning of the tracking sequence

!============================ TrackSys v4r29 2009-12-11 ======================
! 2009-12-10 - Stephanie Hansmann-Menzemer
 - moved headTunign options to RecSys.SpecialData "earlyData"

! 2009-12-09 - Sascha Stahl
 - added expert option "headTuning" to TrackSys
 - headTuning sets options in PatDownstream
 - changed TrackEffChecker for Downstream tracks in PatChecking.py.
   Selection criteria is now ChargedDownstream.

!============================ TrackSys v4r28 2009-11-22 ======================
! 2009-11-22 - Stephanie Hansmann-Menzemer
 - add beamGas as specialData option (VeloGeneric is thus used)

! 2009-11-17 - Wouter Hulsbergen
 - Added option to turn off material corrections in track fit

!============================ TrackSys v4r27 2009-11-16 ======================
! 2009-11-16 - Rob Lambert
 - Kostyantyn Holubyev extra changes in RecoTracking.py

! 2009-11-13 - Patrick Koppenburg
 - Remove options/TrackRecoHLT.py

! 2009-11-11 - Kostyantyn Holubyev
 - RecoTracking.py:
    if TrackSys().ExpertTracking = [ "fastSequence" ], fast reconstruction 
    sequence is run, which postpones all fits until Best container is formed.
    TrackCloneFinder decides which track among the two is a clone from the 
   numbers of LHCb IDs only. If the number of LHCb IDs for two track is the 
   same, a clone is assigned randomly. Saves 30-40% of reconstruction time.

! 2009-11-11 - Kostyantyn Holubyev        
 - RecoTracking.py:
    Option to run PatMatch is added.

! 2009-11-11 - Kostyantyn Holubyev
 - RecoTracking.py:           
   In the standard sequence:
      1) All the track types are fitted using the same configuration of the 
         TrackMasterFitter.
      2) If TrackMatching is used, the additional RefitSeed sequence is introduced 
         to refit Seed tracks using the standard fitter configuration.

! 2009-11-03 - Stephanie Hansmann-Menzemer
 - automatic settings for cosmic reconstruction in Configurables


!============================ TrackSys v4r26 2009-10-20 ======================
! 2009-10-07 - Johannes Albrecht
 - RecoTracking.py: Use TrackAddNNGhostId instead of NeuralNetTmva to 
   calculate ghost probability
 - requirements: remove dependence on NNTools

! 2009-10-06 - Marco Cattaneo
 - Remove obsolete options files RecoTracking.opts, NoFieldTracking.opts
 - Remove from RecoTracking.py import of obsolete options file
   $TRACKTOOLSROOT/options/FastMomentumEstimate.opts"

!============================ TrackSys v4r25 2009-09-03 ======================
! 2009-09-01 - Stephanie Hansmann-Menzemer
- remove filling of expected hit pattern from tracking sequence

! 2009-08-27 - Stephanie Hansmann-Menzemer
- add algorithm needed for hit efficiency to track checking sequence

! 2009-08-05 - Stephanie Hansmann-Menzemer
- add cleaning of track extra info in pattern reco sequence

!============================ TrackSys v4r24 2009-06-17 ======================
! 2009-06-04 - Stephanie Hansmann-Menzemer
- require long tracks in efficiency checking of best track container

! 2009-05-31 - Stephanie Hansmann-Menzemer
- Use Downstream tracking both in RecoTracking.py and PatChecking.py in case
  off fieldOff

!============================ TrackSys v4r23 2009-05-25 ======================
! 2009-05-25 - Marco Cattaneo
 - In PatChecking.py, switch off TrackAssociator("AssocDownstream") and
   TrackEffChecker("Downstream") in fieldOff case, for consistency with
   RecoTracking.py

!============================ TrackSys v4r22 2009-03-10 ======================
! 2009-03-04 - Stephanie Hansmann-Menzemer
 - add fitter initialization tool in track fitting sequence

!============================ TrackSys v4r21 2009-02-20 ======================
! 2009-02-11 - Wouter Hulsbergen
 - Removed OTTimeCreator from sequence
 - Switch to special OT decoder for cosmics

!============================ TrackSys v4r20 2009-01-12 ======================
! 2009-01-06 - Marco Cattaneo
 - In case of RDST output, do not add to TrackVeloFitSeq the algorithm to copy
   Velo tracks into Best container. Avoids having to remove it later when 
   defining the RDST content

! 2008-12-05 - Mariusz Witek
 - Activate PV checker algorithm in PatChecking.py

! 2008-12-01 - Marco Cattaneo
 - Add "WithMC" option to TrackSys Configurable, and import PatChecking.py if it
   is set to True
 - Fix PatChecking.py to handle correctly TrackSys().veloOpen() case

!============================ TrackSys v4r19 2008-11-21 ======================
! 2008-11-14 - Chris Jones
 - Fixes to python Configurable for latest Gaudi changes

! 2008-10-28 - Chris Jones
 - Add a new method to TracySys to allow user to more easily set the special
   data options (Used in Panoramix).

! 2008-10-24 - Marco Cattaneo
 - Fix an option in Fitting.py for using a public tool (to please Gaudi v20r3)
 - Remove version numbers from uses in requirements

! 2008-10-22 - Stephanie Hansmann-Menzemer
 - translate PatChecking.opts in PatChecking.py

! 2008-10-21 - Chris Jones
 - Improvements to Python configuration to allow easier re-configuration for
   cosmic reconstruction.

! 2008-10-21 Wouter Hulsbergen
 - keep only one instance of TrackResChecker

! 2008-10-20 M Needham
 - Change detType IT decoding option name to DetType 

! 2008-10-15 - Marco Cattaneo
 - Remove obsolete TrackPython package from requirements

! 2008-10-15 - David Hutchcroft
 - Removed TELL1->Velo sensor mapping from VeloTEDOne.py as it is now in CondDB

!============================ TrackSys v4r18 2008-10-02 ======================
! 2008-09-28 - Stephanie Hansmann-Menzemer
 - Add MuonTrackAlignRec to RecoTracking.py

! 2008-09-25 - Stephanie Hansmann-Menzemer
 - Add TrackRecoHLT.py to run HLT2 sequence

! 2008-09-19 - David Hutchcroft
 - Added VeloTEDOne.py to optimise the reconstruction of the VELO for TED data
   taken in August and up to Sept 10th 2008.

! 2008-09-12 - Chris Jones
 - Port TrackClones.opts to python (directly included in RecoTracking.py)
 - Remove obsolete TrackClones.opts
 - Add missing CMT use statements to requirements file

! 2008-09-03 - Wouter Hulsbergen
 - replace Fitting.py with ConfiguredFitters

!============================ TrackSys v4r17 2008-09-05 ======================
! 2008-09-03 - Stephanie Hansmann-Menzemer
 - bug fix in Fitting.py  

! 2008-08-27 - Stephanie Hansmann-Menzemer
 - add option file for track checking sequence, 
 - fix yet another bug for BfieldOff in RecoTracking.py

! 2008-08-20 - Stephanie Hansmann-Menzemer
 - fix bug for nonDrifttimes and BfieldOff in Fitting.py and RecoTracking.py

! 2008-08-15 - Chris Jones
 - Minor improvements to python configurable TrackSys, to fit in with changes
   in RecSys

!============================ TrackSys v4r16 2008-07-29 ======================
! 2008-07-28 - Marco Cattaneo
 - Add a TrackSys configurable, with options expertHistos, fieldOff, veloOpen, 
   expertTracking. RecoTracking.opts and Fitting.py now test on TrackSys()
   options instead of Brunel() options

!============================ TrackSys v4r15 2008-07-18 ======================
! 2008-07-18 - Marco Cattaneo
 - In RecoTracking.py:
   . "usePatSeeding" is now an "expertTracking" option
   . Fix typo in name of "TrackClonesSeq"

! 2008-07-15 - Stephanie Hansmann-Menzemer
 - move Fitting.py and RecoTracking.py in option directory, remove python 
   directory - add switches for "noDrifttimes" and "simplifiedGeometry"

! 2008-07-11 - Stephanie Hansmann-Menzemer
 - Add python directory with Fitting.py and RecoTracking.py

!============================ TrackSys v4r14 2008-06-03 ======================
! 2008-06-03 - Marco Cattaneo
 - Add TrackMonitors to requirements

! 2008-06-01 - David Hutchcroft
 - Added a line to set PatVeloSpaceTool to flag clusters as used, was default

! 2008-02-27 - Wouter Hulsbergen
 - In Fitting.opts:
   . use default extrapolator also for seed, velo, velo-tt fits
   . extrapolate also downstream tracks to beamline (for Ks)

!============================ TrackSys v4r13 2008-01-28 ======================
! 2008-01-28 - Manuel Schiller
 - In NoFieldTracking.opts, added include to use new PatSeeding tuning when
   running without magnetic field, but left it commented out because
   PatSeeding is not executed in the default setup

! 2008-01-18 - Marco Cattaneo
 - In RecoTracking.opts, sdd NeuralNetTmva ghost probability algorithm to end
   of tracking sequence

!============================ TrackSys v4r12 2007-13-11 ======================
! 2007-12-13 - Marco Cattaneo
 - Update NoFieldTracking.opts and VeloOpenTracking.opts to Tf tracking sequence

! 2007-12-11 - Stephanie Hansmann-Menzemer
 - Switch on use of TT to PatForward in RecoTracking.opts (default has changed)

! 2007-12-03 - Wouter Hulsbergen
 - Added TrackV0.opts 

! 2007-11-30 - Wouter Hulsbergen
 - Removed reference to TsaSeedReferenceCreator in Fitting.opts

!============================ TrackSys v4r11 2007-11-05 ======================
! 2007-11-05 - Marco Cattaneo
 - Fixed CloneKiller options to use also Downstream tracks as input
 - Updated NoFieldTracking.opts and DSTRefitting.opts with new name of downstream
   tracking sequences

! 2007-11-05 Johannes Albrecht
   - options/RecoTracking.opts and NoFieldTracking.opts
   include parameter file for fast momentum estimate tool

! 2007-11-05 Eduardo Rodrigues
 - fixed typo in DSTRefitting.opts

! 2007-10-22 - Olivier Callot
 - Update RecoTracking and Fitting.opts to re-introduce the downstream tracks.

!============================ TrackSys v4r10 2007-10-12 ======================
! 2007-10-12 - Marco Cattaneo
 - Update TrackTools version

! 2007-10-10 - Stephanie Hansmann-Menzemer
  - modify option files to work for Tf framework

! 2007-10-09 - Stephanie Hansmann-Menzemer
  - import Tf/TrackSys from Tr/TrackSys, for former release notes see Tr/TrackSys
!-----------------------------------------------------------------------------
! Package     : Tf/TrackSys
! Responsible : Eduardo Rodrigues
! Purpose     : Defines the global Track set of packages, for tracking.
!-----------------------------------------------------------------------------

!========================= TrackSys v7r2 2012-05-02 =========================
! 2012-04-20 - Wouter Hulsbergen
 - switch BestTrackCreator to the right FastVelo fitting tool

! 2012-04-20 - Marco Cattaneo
 - Clean up imports in RecoTracking.py

! 2012-04-18 - Wouter Hulsbergen
 - switch to new clone killer ('TrackBestTrackCreator').
   old sequence can be recovered with TrackSys().OldCloneKiller = True.

!========================= TrackSys v7r1 2012-02-28 =========================
! 2012-02-07 - Manuel Tobias Schiller
 - fix a bug in python/TrackSys/PatChecking.py which causes the
   TrackEffChecker not to be run on Velo tracks if FastVelo is used

! 2012-02-07 - Marco Cattaneo
 - Remove unnecessary import from RecoTracking.py

!========================= TrackSys v7r0 2011-08-31 =========================
! 2011-08-30 - Jeroen van Tilburg
 - Changed default global event cut for number of OT hits from 1M to 15k. 

!========================= TrackSys v6r3 2011-07-28 =========================
! 2011-07-28 - Marco Cattaneo
 - Add protections for invalid GlobalCuts

! 2011-07-26 - Marco Cattaneo
 - Add new slot TrackSys().GlobalCuts. It consists of a dictionary which is
   then used to set global event cuts on the number of hits used in the
   tracking. Default values are { 'Velo':6000, 'IT':999999, 'OT':999999 },
   except for DataTypes MC09,2008,2009,2010,Upgrade where the defaults are
   those defined in the algorithms
 - Cut on number of Velo clusters is defined by setting MaxVeloClusters
   property of DecodeVeloRawBuffer in VeloTracking.py 

!========================= TrackSys v6r2 2011-05-10 =========================
! 2011-05-10 - Marco Cattaneo
 - Add switch to apply fiducial time window in OTRawBankDecoder. Default is to
   apply window of -8.0*ns to 56.0*ns. Switched off by setting
   TrackSys().ExpertTracking += ["disableOTTimeWindow"]

!========================= TrackSys v6r1 2011-02-28 =========================
! 2011-02-04 - Stephanie Hansmann-Menzemer
 - add 2011 as data type

!========================= TrackSys v6r0 2011-02-02 =========================
! 2011-02-01 - Rob Lambert
 - Fixed typo in TrackSys configurable getProb->getProp

! 2011-02-01 - Stephanie Hansmann-Menzemer
- add switch for MC09 to be propagated to STTools to ensure to run with
APE=0.0 on MC

! 2011-01-31 - Stephanie Hansmann-Menzemer
- bug fix for cosmic sequence

! 2011-01-28 - Stephanie Hansmann-Menzemer
 - add switch ForceNewSeq and ForceOldSeq to run tracking sequence which are
 not default for a given data set.

! 2011-01-27 - Stephanie Hansmann-Menzemer
 - change to new tracking reco sequence from 2011 data taking on
 - set early data tuning as default

!========================= TrackSys v5r1 2010-12-16 =========================
! 2010-12-10 - Olivier Callot
 - Remove an instanciation of HLT2FastVelo, a test that went to svn by mistake...

! 2010-11-25 - Olivier Callot
 - Select the tool for state recreation before the fit, if FastVelo
 - Split the instantiation of the track associators and checkers according to what is
   run in the pattern. Always associate the best container.

! 2010-10-07 - Olivier Callot
 - Add option "FastVelo" in TrackSys to use the new FastVelo package instead of PatVelo

!============================ TrackSys v5r0 2010-08-04 ======================
! 2010-09-22 - Victor Coco
 - add a call to the upgrade configurables for reconstruction and Pat checking
   when there is the special type "upgrade"

!============================ TrackSys v4r37 2010-08-04 ======================
! 2010-08-04 - Stephanie Hansmann-Menzemer
 - add a extra copy step to the best track container, to remove tracks with
   failed fit

! 2010-07-27 - Rob Lambert
 - Propagate DataType into a slot of TrackSys

! 2010-07-30 - Olivier Callot
 - Fit the seed only if the MATCH algorithm is there. PatMatch doesn't need it.

!============================ TrackSys v4r36 2010-07-27 ======================
! 2010-07-27 - Rob Lambert
 - Added slot for DataType propagated from Brunel()
 - PrimaryVertexChecker not run for DC06 because of FPE

! 2010-07-27 - Stephanie Hansmann-Menzemer
 - add switches for timing measurements in RecoTracking.py


!============================ TrackSys v4r35 2010-07-20 ======================
! 2010-07-20 - Marco Cattaneo
 - Remove RecoTrackingOld.py. Can always be retrieved from SVN if needed...

! 2010-07-06 - Olivier Callot
 - New version of RecoTracking, the old one kept as 'RecoTrackingOld.py'
   This fits the tracks after clone cleaning for speed
   Old behaviour available by setting TrackSys().FilterBeforeFit = False

!============================ TrackSys v4r34 2010-06-21 ======================
! 2010-06-21 - Stephanie Hansmann-Menzemer
 - Add switch for timing measurements

! 2010-06-18 - Olivier Callot
 - Add a slot 'FilterBeforeFit' to TrackSys to include filtering algorithms
   before the track fit, to increase speed
 - Add algorytjms FilterMatchTracks / Downstream / Seed conditionnaly in 
   RecoTracking.py in front of the respective fit sequence

! 2010-06-09 - Rob Lambert
 - fix savannah bug #bug 68610, missing import statement in RecoTracking.py

!============================ TrackSys v4r33 2010-05-21 ======================
! 2010-05-12 - Rob Lambert
 - Removed obsolete options RecoTracking.py and PatChecking.py

! 2010-05-11 - Rob Lambert
 - Adapted RecoTracking for upgrade purposes

! 2010-05-11 - Rob Lambert
 - fixed cut-and-paste error in PatChecking.py

! 2010-05-05 - Rob Lambert
 - Adapt to changes in STTools for new python modules

! 2010-05-04 - Rob Lambert
 - Adapt RecoTracking.py to new python modules

! 2010-05-03 - Rob Lambert
 - Copy RecoTracking.py to a python function instead of an options file
 - Copy PatChecking.py to a python function instead of an options file

!============================ TrackSys v4r32 2010-03-19 ======================
! 2010-04-23 - Marco Cattaneo
 - In RecoTracking.py, follow change in names of MagneticFieldSvc options

!============================ TrackSys v4r31 2010-03-19 ======================
! 2010-03-15 - Stephanie Hansmann-Menzemer
 -  add ST error tuning for the fit (only for early data)

!============================ TrackSys v4r30 2010-02-15 ======================
! 2009-02-13 - Stephanie Hansmann-Menzemer 
 - move all hit decoding/clustering at the beginning of the tracking sequence

!============================ TrackSys v4r29 2009-12-11 ======================
! 2009-12-10 - Stephanie Hansmann-Menzemer
 - moved headTunign options to RecSys.SpecialData "earlyData"

! 2009-12-09 - Sascha Stahl
 - added expert option "headTuning" to TrackSys
 - headTuning sets options in PatDownstream
 - changed TrackEffChecker for Downstream tracks in PatChecking.py.
   Selection criteria is now ChargedDownstream.

!============================ TrackSys v4r28 2009-11-22 ======================
! 2009-11-22 - Stephanie Hansmann-Menzemer
 - add beamGas as specialData option (VeloGeneric is thus used)

! 2009-11-17 - Wouter Hulsbergen
 - Added option to turn off material corrections in track fit

!============================ TrackSys v4r27 2009-11-16 ======================
! 2009-11-16 - Rob Lambert
 - Kostyantyn Holubyev extra changes in RecoTracking.py

! 2009-11-13 - Patrick Koppenburg
 - Remove options/TrackRecoHLT.py

! 2009-11-11 - Kostyantyn Holubyev
 - RecoTracking.py:
    if TrackSys().ExpertTracking = [ "fastSequence" ], fast reconstruction 
    sequence is run, which postpones all fits until Best container is formed.
    TrackCloneFinder decides which track among the two is a clone from the 
   numbers of LHCb IDs only. If the number of LHCb IDs for two track is the 
   same, a clone is assigned randomly. Saves 30-40% of reconstruction time.

! 2009-11-11 - Kostyantyn Holubyev        
 - RecoTracking.py:
    Option to run PatMatch is added.

! 2009-11-11 - Kostyantyn Holubyev
 - RecoTracking.py:           
   In the standard sequence:
      1) All the track types are fitted using the same configuration of the 
         TrackMasterFitter.
      2) If TrackMatching is used, the additional RefitSeed sequence is introduced 
         to refit Seed tracks using the standard fitter configuration.

! 2009-11-03 - Stephanie Hansmann-Menzemer
 - automatic settings for cosmic reconstruction in Configurables


!============================ TrackSys v4r26 2009-10-20 ======================
! 2009-10-07 - Johannes Albrecht
 - RecoTracking.py: Use TrackAddNNGhostId instead of NeuralNetTmva to 
   calculate ghost probability
 - requirements: remove dependence on NNTools

! 2009-10-06 - Marco Cattaneo
 - Remove obsolete options files RecoTracking.opts, NoFieldTracking.opts
 - Remove from RecoTracking.py import of obsolete options file
   $TRACKTOOLSROOT/options/FastMomentumEstimate.opts"

!============================ TrackSys v4r25 2009-09-03 ======================
! 2009-09-01 - Stephanie Hansmann-Menzemer
- remove filling of expected hit pattern from tracking sequence

! 2009-08-27 - Stephanie Hansmann-Menzemer
- add algorithm needed for hit efficiency to track checking sequence

! 2009-08-05 - Stephanie Hansmann-Menzemer
- add cleaning of track extra info in pattern reco sequence

!============================ TrackSys v4r24 2009-06-17 ======================
! 2009-06-04 - Stephanie Hansmann-Menzemer
- require long tracks in efficiency checking of best track container

! 2009-05-31 - Stephanie Hansmann-Menzemer
- Use Downstream tracking both in RecoTracking.py and PatChecking.py in case
  off fieldOff

!============================ TrackSys v4r23 2009-05-25 ======================
! 2009-05-25 - Marco Cattaneo
 - In PatChecking.py, switch off TrackAssociator("AssocDownstream") and
   TrackEffChecker("Downstream") in fieldOff case, for consistency with
   RecoTracking.py

!============================ TrackSys v4r22 2009-03-10 ======================
! 2009-03-04 - Stephanie Hansmann-Menzemer
 - add fitter initialization tool in track fitting sequence

!============================ TrackSys v4r21 2009-02-20 ======================
! 2009-02-11 - Wouter Hulsbergen
 - Removed OTTimeCreator from sequence
 - Switch to special OT decoder for cosmics

!============================ TrackSys v4r20 2009-01-12 ======================
! 2009-01-06 - Marco Cattaneo
 - In case of RDST output, do not add to TrackVeloFitSeq the algorithm to copy
   Velo tracks into Best container. Avoids having to remove it later when 
   defining the RDST content

! 2008-12-05 - Mariusz Witek
 - Activate PV checker algorithm in PatChecking.py

! 2008-12-01 - Marco Cattaneo
 - Add "WithMC" option to TrackSys Configurable, and import PatChecking.py if it
   is set to True
 - Fix PatChecking.py to handle correctly TrackSys().veloOpen() case

!============================ TrackSys v4r19 2008-11-21 ======================
! 2008-11-14 - Chris Jones
 - Fixes to python Configurable for latest Gaudi changes

! 2008-10-28 - Chris Jones
 - Add a new method to TracySys to allow user to more easily set the special
   data options (Used in Panoramix).

! 2008-10-24 - Marco Cattaneo
 - Fix an option in Fitting.py for using a public tool (to please Gaudi v20r3)
 - Remove version numbers from uses in requirements

! 2008-10-22 - Stephanie Hansmann-Menzemer
 - translate PatChecking.opts in PatChecking.py

! 2008-10-21 - Chris Jones
 - Improvements to Python configuration to allow easier re-configuration for
   cosmic reconstruction.

! 2008-10-21 Wouter Hulsbergen
 - keep only one instance of TrackResChecker

! 2008-10-20 M Needham
 - Change detType IT decoding option name to DetType 

! 2008-10-15 - Marco Cattaneo
 - Remove obsolete TrackPython package from requirements

! 2008-10-15 - David Hutchcroft
 - Removed TELL1->Velo sensor mapping from VeloTEDOne.py as it is now in CondDB

!============================ TrackSys v4r18 2008-10-02 ======================
! 2008-09-28 - Stephanie Hansmann-Menzemer
 - Add MuonTrackAlignRec to RecoTracking.py

! 2008-09-25 - Stephanie Hansmann-Menzemer
 - Add TrackRecoHLT.py to run HLT2 sequence

! 2008-09-19 - David Hutchcroft
 - Added VeloTEDOne.py to optimise the reconstruction of the VELO for TED data
   taken in August and up to Sept 10th 2008.

! 2008-09-12 - Chris Jones
 - Port TrackClones.opts to python (directly included in RecoTracking.py)
 - Remove obsolete TrackClones.opts
 - Add missing CMT use statements to requirements file

! 2008-09-03 - Wouter Hulsbergen
 - replace Fitting.py with ConfiguredFitters

!============================ TrackSys v4r17 2008-09-05 ======================
! 2008-09-03 - Stephanie Hansmann-Menzemer
 - bug fix in Fitting.py  

! 2008-08-27 - Stephanie Hansmann-Menzemer
 - add option file for track checking sequence, 
 - fix yet another bug for BfieldOff in RecoTracking.py

! 2008-08-20 - Stephanie Hansmann-Menzemer
 - fix bug for nonDrifttimes and BfieldOff in Fitting.py and RecoTracking.py

! 2008-08-15 - Chris Jones
 - Minor improvements to python configurable TrackSys, to fit in with changes
   in RecSys

!============================ TrackSys v4r16 2008-07-29 ======================
! 2008-07-28 - Marco Cattaneo
 - Add a TrackSys configurable, with options expertHistos, fieldOff, veloOpen, 
   expertTracking. RecoTracking.opts and Fitting.py now test on TrackSys()
   options instead of Brunel() options

!============================ TrackSys v4r15 2008-07-18 ======================
! 2008-07-18 - Marco Cattaneo
 - In RecoTracking.py:
   . "usePatSeeding" is now an "expertTracking" option
   . Fix typo in name of "TrackClonesSeq"

! 2008-07-15 - Stephanie Hansmann-Menzemer
 - move Fitting.py and RecoTracking.py in option directory, remove python 
   directory - add switches for "noDrifttimes" and "simplifiedGeometry"

! 2008-07-11 - Stephanie Hansmann-Menzemer
 - Add python directory with Fitting.py and RecoTracking.py

!============================ TrackSys v4r14 2008-06-03 ======================
! 2008-06-03 - Marco Cattaneo
 - Add TrackMonitors to requirements

! 2008-06-01 - David Hutchcroft
 - Added a line to set PatVeloSpaceTool to flag clusters as used, was default

! 2008-02-27 - Wouter Hulsbergen
 - In Fitting.opts:
   . use default extrapolator also for seed, velo, velo-tt fits
   . extrapolate also downstream tracks to beamline (for Ks)

!============================ TrackSys v4r13 2008-01-28 ======================
! 2008-01-28 - Manuel Schiller
 - In NoFieldTracking.opts, added include to use new PatSeeding tuning when
   running without magnetic field, but left it commented out because
   PatSeeding is not executed in the default setup

! 2008-01-18 - Marco Cattaneo
 - In RecoTracking.opts, sdd NeuralNetTmva ghost probability algorithm to end
   of tracking sequence

!============================ TrackSys v4r12 2007-13-11 ======================
! 2007-12-13 - Marco Cattaneo
 - Update NoFieldTracking.opts and VeloOpenTracking.opts to Tf tracking sequence

! 2007-12-11 - Stephanie Hansmann-Menzemer
 - Switch on use of TT to PatForward in RecoTracking.opts (default has changed)

! 2007-12-03 - Wouter Hulsbergen
 - Added TrackV0.opts 

! 2007-11-30 - Wouter Hulsbergen
 - Removed reference to TsaSeedReferenceCreator in Fitting.opts

!============================ TrackSys v4r11 2007-11-05 ======================
! 2007-11-05 - Marco Cattaneo
 - Fixed CloneKiller options to use also Downstream tracks as input
 - Updated NoFieldTracking.opts and DSTRefitting.opts with new name of downstream
   tracking sequences

! 2007-11-05 Johannes Albrecht
   - options/RecoTracking.opts and NoFieldTracking.opts
   include parameter file for fast momentum estimate tool

! 2007-11-05 Eduardo Rodrigues
 - fixed typo in DSTRefitting.opts

! 2007-10-22 - Olivier Callot
 - Update RecoTracking and Fitting.opts to re-introduce the downstream tracks.

!============================ TrackSys v4r10 2007-10-12 ======================
! 2007-10-12 - Marco Cattaneo
 - Update TrackTools version

! 2007-10-10 - Stephanie Hansmann-Menzemer
  - modify option files to work for Tf framework

! 2007-10-09 - Stephanie Hansmann-Menzemer
  - import Tf/TrackSys from Tr/TrackSys, for former release notes see Tr/TrackSys
